<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:29:31 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>pic</title>

</head>
<body>

<h1 align="center">pic</h1>

<a href="#Name">Name</a><br>
<a href="#Synopsis">Synopsis</a><br>
<a href="#Description">Description</a><br>
<a href="#Options">Options</a><br>
<a href="#Usage">Usage</a><br>
<a href="#TeX mode">TeX mode</a><br>
<a href="#Commands">Commands</a><br>
<a href="#Expressions">Expressions</a><br>
<a href="#Other changes">Other changes</a><br>
<a href="#Conversion">Conversion</a><br>
<a href="#Files">Files</a><br>
<a href="#Bugs">Bugs</a><br>
<a href="#See also">See also</a><br>

<hr>


<h2>Name
<a name="Name"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">pic - compile
pictures for <i>troff</i> or TeX</p>

<h2>Synopsis
<a name="Synopsis"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>pic</b></p></td>
<td width="1%"></td>
<td width="28%">


<p style="margin-top: 1em">[<b>-CnSU</b>]
[<i>file&nbsp;</i>...]</p> </td>
<td width="58%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>pic</b></p></td>
<td width="1%"></td>
<td width="28%">


<p style="margin-top: 1em"><b>-t</b> [<b>-cCSUz</b>]
[<i>file&nbsp;</i>...]</p> </td>
<td width="58%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>pic</b></p></td>
<td width="1%"></td>
<td width="28%">


<p style="margin-top: 1em"><b>--help</b></p></td>
<td width="58%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>pic</b></p></td>
<td width="1%"></td>
<td width="28%">


<p style="margin-top: 1em"><b>-v</b></p></td>
<td width="58%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>pic</b></p></td>
<td width="1%"></td>
<td width="28%">


<p><b>--version</b></p></td>
<td width="58%">
</td></tr>
</table>

<h2>Description
<a name="Description"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The GNU
implementation of <i>pic</i> is part of the
<a href="man:groff(1)"><i>groff</i>(1)</a> document
formatting system. <i>pic</i> is a
<a href="man:troff(1)"><i>troff</i>(1)</a> preprocessor that
translates descriptions of diagrammatic pictures embedded in
<a href="man:roff(7)"><i>roff</i>(7)</a> or TeX input files
into the language understood by TeX or <i>troff</i>. It
copies the contents of each <i>file</i> to the standard
output stream, except that lines between <b>.PS</b> and any
of <b>.PE</b>, <b>.PF</b>, or <b>.PY</b> are interpreted as
picture descriptions in the <i>pic</i> language. End a
<i>pic</i> picture with <b>.PE</b> to leave the drawing
position at the bottom of the picture, and with <b>.PF</b>
or <b>.PY</b> to leave it at the top. Normally, <i>pic</i>
is not executed directly by the user, but invoked by
specifying the <b>-p</b> option to
<a href="man:groff(1)"><i>groff</i>(1)</a>. If no
<i>file</i> operands are given on the command line, or if
<i>file</i> is &ldquo;<b>-</b>&rdquo;, the standard input
stream is read.</p>

<p style="margin-left:9%; margin-top: 1em">It is the
user&rsquo;s responsibility to provide appropriate
definitions of the <b>PS</b>, <b>PE</b>, and one or both of
the <b>PF</b> and <b>PY</b> macros. When a macro package
does not supply these, obtain simple definitions with the
<i>groff</i> option <b>-mpic</b>; these will center each
picture.</p>

<p style="margin-left:9%; margin-top: 1em">GNU <i>pic</i>
supports <b>PY</b> as a synonym of <b>PF</b> to work around
a name space collision with the <i>mm</i> macro package,
which defines <b>PF</b> as a page footer management macro.
Use <b>PF</b> preferentially unless a similar problem faces
your document.</p>

<h2>Options
<a name="Options"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>--help</b>
displays a usage message, while <b>-v</b> and
<b>--version</b> show version information; all exit
afterward.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-c</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Be more compatible with <i>tpic</i>; implies <b>-t</b>.
Lines beginning with <b>\</b> are not passed through
transparently. Lines beginning with <b>.</b> are passed
through with the initial <b>.</b> changed to <b>\</b>. A
line beginning with <b>.ps</b> is given special treatment:
it takes an optional integer argument specifying the line
thickness (pen size) in milliinches; a missing argument
restores the previous line thickness; the default line
thickness is 8&nbsp;milliinches. The line thickness thus
specified takes effect only when a non-negative line
thickness has not been specified by use of the
<b>thickness</b> attribute or by setting the
<b>linethick</b> variable.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-C</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Recognize <b>.PS</b>, <b>.PE</b>, <b>.PF</b>, and
<b>.PY</b> even when followed by a character other than
space or newline.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-n</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Don&rsquo;t use <i>groff</i> extensions to the
<i>troff</i> drawing commands. Specify this option if a
postprocessor you&rsquo;re using doesn&rsquo;t support these
extensions, described in
<a href="man:groff_out(5)"><i>groff_out</i>(5)</a>. This
option also causes <i>pic</i> not to use zero-length lines
to draw dots in <i>troff</i> mode.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-S</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Operate in <i>safer mode;</i> <b>sh</b> commands are
ignored. This mode, enabled by default, can be useful when
operating on untrustworthy input.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-t</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Produce TeX output.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-U</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Operate in <i>unsafe mode;</i> <b>sh</b> commands are
interpreted.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-z</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>In TeX mode, draw dots using zero-length lines.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The following
options supported by other versions of <i>pic</i> are
ignored.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p style="margin-top: 1em"><b>-D</b></p></td>
<td width="1%"></td>
<td width="82%">


<p style="margin-top: 1em">Draw all lines using the \D
escape sequence. GNU <i>pic</i> always does this.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-T&nbsp;</b><i>dev</i></p></td>
<td width="1%"></td>
<td width="82%">


<p>Generate output for the <i>troff</i> device <i>dev</i>.
This is unnecessary because the <i>troff</i> output
generated by GNU <i>pic</i> is device-independent.</p></td></tr>
</table>

<h2>Usage
<a name="Usage"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">This section
primarily discusses the differences between GNU <i>pic</i>
and the Eighth Edition Research Unix version of AT&amp;T
<i>pic</i> (1985). Many of these differences also apply to
later versions of AT&amp;T <i>pic</i>.</p>

<h3>TeX mode
<a name="TeX mode"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">TeX-compatible
output is produced when the <b>-t</b> option is specified.
You must use a TeX driver that supports <i>tpic</i> version
2 specials. (<i>tpic</i> was a fork of AT&amp;T <i>pic</i>
by Tim Morgan of the University of California at Irvine that
diverged from its source around 1984. It is best known today
for lending its name to a group of <b>\special</b> commands
it produced for TeX.)</p>

<p style="margin-left:9%; margin-top: 1em">Lines beginning
with <b>\</b> are passed through transparently; a <b>%</b>
is added to the end of the line to avoid unwanted spaces.
You can safely use this feature to change fonts or the value
of <b>\baselineskip</b>. Anything else may well produce
undesirable results; use at your own risk. By default, lines
beginning with a dot are not treated specially&mdash;but see
the <b>-c</b> option.</p>

<p style="margin-left:9%; margin-top: 1em">In TeX mode,
<i>pic</i> will define a vbox called <b>\graph</b> for each
picture. Use GNU <i>pic</i>&rsquo;s <b>figname</b> command
to change the name of the vbox. You must print that vbox
yourself using the command</p>

<p style="margin-left:18%;">\centerline{\box\graph}</p>

<p style="margin-left:9%;">for instance. Since the vbox has
a height of zero (it is defined with <b>\vtop</b>) this will
produce slightly more vertical space above the picture than
below it;</p>

<p style="margin-left:18%;">\centerline{\raise
1em\box\graph}</p>

<p style="margin-left:9%;">would avoid this. To give the
vbox a positive height and a depth of zero (as used by
LaTeX&rsquo;s <i>graphics.sty</i>, for example) define the
following macro in your document.</p>

<p style="margin-left:18%;">\def\gpicbox#1{% <br>
\vbox{\unvbox\csname #1\endcsname\kern 0pt}}</p>

<p style="margin-left:9%;">You can then simply say
<b>\gpicbox{graph}</b> instead of <b>\box\graph</b>.</p>

<h3>Commands
<a name="Commands"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Several commands
new to GNU <i>pic</i> accept delimiters, shown in their
synopses as braces <b>{ }</b>. Nesting of braces is
supported. Any other characters (except a space, tab, or
newline) may be used as alternative delimiters, in which
case the members of a given pair must be identical. Strings
are recognized within delimiters of either kind; they may
contain the delimiter character or unbalanced braces.
<b><br>
for</b> <i>variable</i> <b>=</b> <i>expr1</i> <b>to</b>
<i>expr2</i> [<b>by</b> [<b>*</b>]<i>expr3</i>] <b>do</b>
<i>X body X</i></p>

<p style="margin-left:18%;">Set <i>variable</i> to
<i>expr1</i>. While the value of <i>variable</i> is less
than or equal to <i>expr2</i>, do <i>body</i> and increment
<i>variable</i> by <i>expr3</i>; if <b>by</b> is not given,
increment <i>variable</i> by 1. If <i>expr3</i> is prefixed
by <b>*</b> then <i>variable</i> will instead be multiplied
by <i>expr3</i>. The value of <i>expr3</i> can be negative
for the additive case; <i>variable</i> is then tested
whether it is greater than or equal to <i>expr2</i>. For the
multiplicative case, <i>expr3</i> must be greater than zero.
If the constraints aren&rsquo;t met, the loop isn&rsquo;t
executed. <i>X</i> can be any character not occurring in
<i>body</i>.</p>

<p style="margin-left:9%;"><b>if</b> <i>expr</i>
<b>then</b> <i>X if-true X</i> [<b>else</b> <i>Y if-false
Y</i>]</p>

<p style="margin-left:18%;">Evaluate <i>expr</i>; if it is
non-zero then do <i>if-true</i>, otherwise do
<i>if-false</i>. <i>X</i> can be any character not occurring
in <i>if-true</i>. <i>Y</i> can be any character not
occurring in <i>if-false</i>.</p>


<p style="margin-left:9%;"><b>print&nbsp;</b><i>arg&nbsp;</i>...</p>

<p style="margin-left:18%;">Concatenate and write arguments
to the standard error stream followed by a newline. Each
<i>arg</i> must be an expression, a position, or text. This
is useful for debugging.</p>


<p style="margin-left:9%;"><b>command&nbsp;</b><i>arg&nbsp;</i>...</p>

<p style="margin-left:18%;">Concatenate arguments and pass
them as a line to <i>troff</i> or TeX. Each <i>arg</i> must
be an expression, a position, or text. <b>command</b> allows
the values of <i>pic</i> variables to be passed to the
formatter. For example,</p>

<p style="margin-left:27%;">.PS <br>
x = 14 <br>
command &quot;.ds string x is &quot; x &quot;.&quot; <br>
.PE <br>
\*[string]</p>

<p style="margin-left:18%;">produces</p>

<p style="margin-left:27%;">x is 14.</p>

<p style="margin-left:18%;">when formatted with
<i>troff</i>.</p>

<p style="margin-left:9%;"><b>sh</b> <i>X command X</i></p>

<p style="margin-left:18%;">Pass <i>command</i> to a
shell.</p>

<p style="margin-left:9%;"><b>copy
&quot;</b><i>filename</i><b>&quot;</b></p>

<p style="margin-left:18%;">Include <i>filename</i> at this
point in the file.</p>


<p style="margin-left:9%;"><b>copy&nbsp;</b>[<b>&quot;</b><i>filename</i><b>&quot;</b>]&nbsp;<b>thru&nbsp;</b><i>X
body
X&nbsp;</i>[<b>until&nbsp;</b>&quot;<i>word</i><b>&quot;</b>]
<b><br>

copy&nbsp;</b>[<b>&quot;</b><i>filename</i><b>&quot;</b>]&nbsp;<b>thru&nbsp;</b><i>macro&nbsp;</i>[<b>until&nbsp;</b>&quot;<i>word</i><b>&quot;</b>]</p>

<p style="margin-left:18%;">This construct does <i>body</i>
once for each line of <i>filename</i>; the line is split
into blank-delimited words, and occurrences of
<b>$</b><i>i</i> in <i>body</i>, for <i>i</i> between 1 and
9, are replaced by the <i>i</i>-th word of the line. If
<i>filename</i> is not given, lines are taken from the
current input up to <b>.PE</b>. If an <b>until</b> clause is
specified, lines will be read only until a line the first
word of which is <i>word</i>; that line will then be
discarded. <i>X</i> can be any character not occurring in
<i>body</i>. For example,</p>

<p style="margin-left:27%;">.PS <br>
copy thru % circle at ($1,$2) % until &quot;END&quot; <br>
1 2 <br>
3 4 <br>
5 6 <br>
END <br>
box <br>
.PE</p>

<p style="margin-left:18%;">and</p>

<p style="margin-left:27%;">.PS <br>
circle at (1,2) <br>
circle at (3,4) <br>
circle at (5,6) <br>
box <br>
.PE</p>

<p style="margin-left:18%;">are equivalent. The commands to
be performed for each line can also be taken from a macro
defined earlier by giving the name of the macro as the
argument to <b>thru</b>. The argument after <b>thru</b> is
looked up as a macro name first; if not defined, its first
character is interpreted as a delimiter.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p><b>reset</b></p></td>
<td width="85%">
</td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em"><b>reset&nbsp;</b><i>pvar1</i>[<b>,</b>]&nbsp;<i>pvar2&nbsp;</i>...</p>

<p style="margin-left:18%;">Reset predefined variables
<i>pvar1</i>, <i>pvar2</i> ... to their default values; if
no arguments are given, reset all predefined variables to
their default values. Variable names may be separated by
commas, spaces, or both. Assigning a value to <b>scale</b>
also causes all predefined variables that control dimensions
to be reset to their default values times the new value of
<b>scale</b>.</p>

<p style="margin-left:9%;"><b>plot</b> <i>expr</i>
[<b>&quot;</b><i>text</i><b>&quot;</b>]</p>

<p style="margin-left:18%;">This is a text object which is
constructed by using <i>text</i> as a format string for
sprintf with an argument of <i>expr</i>. If <i>text</i> is
omitted a format string of <b>&quot;%g&quot;</b> is used.
Attributes can be specified in the same way as for a normal
text object. Be very careful that you specify an appropriate
format string; <i>pic</i> does only very limited checking of
the string. This is deprecated in favour of
<b>sprintf</b>.</p>


<p style="margin-left:9%;"><i>var&nbsp;</i><b>:=&nbsp;</b><i>expr</i></p>

<p style="margin-left:18%;">This syntax resembles variable
assignment with <b>=</b> except that <i>var</i> must already
be defined, and <i>expr</i> will be assigned to <i>var</i>
without creating a variable local to the current block. (By
contrast, <b>=</b> defines <i>var</i> in the current block
if it is not already defined there, and then changes the
value in the current block only.) For example,</p>

<p style="margin-left:27%;"><b>.PS <br>
x = 3 <br>
y = 3 <br>
[ <br>
x := 5 <br>
y = 5 <br>
] <br>
print x y <br>
.PE</b></p>

<p style="margin-left:18%;">writes</p>

<p style="margin-left:27%;">5 3</p>

<p style="margin-left:18%;">to the standard error
stream.</p>

<h3>Expressions
<a name="Expressions"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The syntax for
expressions has been significantly extended.</p>


<p style="margin-left:9%; margin-top: 1em"><i>x&nbsp;</i><b>^&nbsp;</b><i>y</i>
(exponentiation) <b><br>
sin(</b><i>x</i><b>) <br>
cos(</b><i>x</i><b>) <br>
atan2(</b><i>y</i><b>,&nbsp;</b><i>x</i><b>) <br>
log(</b><i>x</i><b>)</b> (base 10) <b><br>
exp(</b><i>x</i><b>)</b> (base 10, i.e. 10^<i>x</i>) <b><br>
sqrt(</b><i>x</i><b>) <br>
int(</b><i>x</i><b>) <br>
rand()</b> (return a random number between 0 and 1) <b><br>
rand(</b><i>x</i><b>)</b> (return a random number between 1
and <i>x</i>; deprecated) <b><br>
srand(</b><i>x</i><b>)</b> (set the random number seed)
<b><br>
max(</b><i>e1</i><b>,&nbsp;</b><i>e2</i><b>) <br>
min(</b><i>e1</i><b>,&nbsp;</b><i>e2</i><b>) <br>
!</b><i>e <br>
e1</i> <b>&amp;&amp;</b> <i>e2 <br>
e1</i> <b>||</b> <i>e2 <br>
e1</i> <b>==</b> <i>e2 <br>
e1</i> <b>!=</b> <i>e2 <br>
e1</i> <b>&gt;=</b> <i>e2 <br>
e1</i> <b>&gt;</b> <i>e2 <br>
e1</i> <b>&lt;=</b> <i>e2 <br>
e1</i> <b>&lt;</b> <i>e2</i> <b><br>
&quot;</b><i>str1</i><b>&quot; ==
&quot;</b><i>str2</i><b>&quot; <br>
&quot;</b><i>str1</i><b>&quot; !=
&quot;</b><i>str2</i><b>&quot;</b></p>

<p style="margin-left:9%; margin-top: 1em">String
comparison expressions must be parenthesised in some
contexts to avoid ambiguity.</p>

<h3>Other changes
<a name="Other changes"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">A bare
expression, <i>expr</i>, is acceptable as an attribute; it
is equivalent to <i>dir&nbsp;expr</i>, where <i>dir</i> is
the current direction. For example</p>

<p style="margin-left:18%; margin-top: 1em"><b>line
2i</b></p>

<p style="margin-left:9%; margin-top: 1em">means draw a
line 2&nbsp;inches long in the current direction. The
&lsquo;i&rsquo; (or &lsquo;I&rsquo;) character is ignored;
to use another measurement unit, set the <i>scale</i>
variable to an appropriate value.</p>

<p style="margin-left:9%; margin-top: 1em">The maximum
width and height of the picture are taken from the variables
<b>maxpswid</b> and <b>maxpsht</b>. Initially, these have
values 8.5 and 11.</p>

<p style="margin-left:9%; margin-top: 1em">Scientific
notation is allowed for numbers. For example</p>

<p style="margin-left:18%; margin-top: 1em"><b>x =
5e-2</b></p>

<p style="margin-left:9%; margin-top: 1em">Text attributes
can be compounded. For example,</p>


<p style="margin-left:18%; margin-top: 1em"><b>&quot;foo&quot;
above ljust</b></p>

<p style="margin-left:9%; margin-top: 1em">is valid.</p>

<p style="margin-left:9%; margin-top: 1em">There is no
limit to the depth to which blocks can be examined. For
example,</p>

<p style="margin-left:18%; margin-top: 1em">[A: [B: [C: box
]]] with .A.B.C.sw at 1,2 <br>
circle at last [].A.B.C</p>

<p style="margin-left:9%; margin-top: 1em">is
acceptable.</p>

<p style="margin-left:9%; margin-top: 1em">Arcs now have
compass points determined by the circle of which the arc is
a part.</p>

<p style="margin-left:9%; margin-top: 1em">Circles,
ellipses, and arcs can be dotted or dashed. In TeX mode
splines can be dotted or dashed also.</p>

<p style="margin-left:9%; margin-top: 1em">Boxes can have
rounded corners. The <b>rad</b> attribute specifies the
radius of the quarter-circles at each corner. If no
<b>rad</b> or <b>diam</b> attribute is given, a radius of
<b>boxrad</b> is used. Initially, <b>boxrad</b> has a value
of&nbsp;0. A box with rounded corners can be dotted or
dashed.</p>

<p style="margin-left:9%; margin-top: 1em">Boxes can have
slanted sides. This effectively changes the shape of a box
from a rectangle to an arbitrary parallelogram. The
<b>xslanted</b> and <b>yslanted</b> attributes specify the x
and y&nbsp;offset of the box&rsquo;s upper right corner from
its default position.</p>

<p style="margin-left:9%; margin-top: 1em">The <b>.PS</b>
line can have a second argument specifying a maximum height
for the picture. If the width of zero is specified the width
will be ignored in computing the scaling factor for the
picture. GNU <i>pic</i> will always scale a picture by the
same amount vertically as well as horizontally. This is
different from DWB 2.0 <i>pic</i> which may scale a picture
by a different amount vertically than horizontally if a
height is specified.</p>

<p style="margin-left:9%; margin-top: 1em">Each text object
has an invisible box associated with it. The compass points
of a text object are determined by this box. The implicit
motion associated with the object is also determined by this
box. The dimensions of this box are taken from the width and
height attributes; if the width attribute is not supplied
then the width will be taken to be <b>textwid</b>; if the
height attribute is not supplied then the height will be
taken to be the number of text strings associated with the
object times <b>textht</b>. Initially, <b>textwid</b> and
<b>textht</b> have a value of 0.</p>

<p style="margin-left:9%; margin-top: 1em">In (almost all)
places where a quoted text string can be used, an expression
of the form</p>


<p style="margin-left:18%; margin-top: 1em"><b>sprintf(&quot;</b><i>format</i><b>&quot;,&nbsp;</b><i>arg</i><b>,&nbsp;</b>...<b>)</b></p>

<p style="margin-left:9%; margin-top: 1em">can also be
used; this will produce the arguments formatted according to
<i>format</i>, which should be a string as described in
<a href="man:printf(3)"><i>printf</i>(3)</a> appropriate for
the number of arguments supplied. Only the modifiers
&ldquo;<b>#</b>&rdquo;, &ldquo;<b>-</b>&rdquo;,
&ldquo;<b>+</b>&rdquo;, and &ldquo;&nbsp;&rdquo; [space]), a
minimum field width, an optional precision, and the
conversion specifiers <b>%e</b>, <b>%E</b>, <b>%f</b>,
<b>%g</b>, <b>%G</b>, and <b>%%</b> are supported.</p>

<p style="margin-left:9%; margin-top: 1em">The thickness of
the lines used to draw objects is controlled by the
<b>linethick</b> variable. This gives the thickness of lines
in points. A negative value means use the default thickness:
in TeX output mode, this means use a thickness of 8
milliinches; in TeX output mode with the <b>-c</b> option,
this means use the line thickness specified by <b>.ps</b>
lines; in <i>troff</i> output mode, this means use a
thickness proportional to the pointsize. A zero value means
draw the thinnest possible line supported by the output
device. Initially, it has a value of -1. There is also a
<b>thick</b>[<b>ness</b>] attribute. For example,</p>

<p style="margin-left:18%; margin-top: 1em"><b>circle
thickness 1.5</b></p>

<p style="margin-left:9%; margin-top: 1em">would draw a
circle using a line with a thickness of 1.5 points. The
thickness of lines is not affected by the value of the
<b>scale</b> variable, nor by the width or height given in
the <b>.PS</b> line.</p>

<p style="margin-left:9%; margin-top: 1em">Boxes (including
boxes with rounded corners or slanted sides), circles and
ellipses can be filled by giving them an attribute of
<b>fill</b>[<b>ed</b>]. This takes an optional argument of
an expression with a value between 0 and 1; 0 will fill it
with white, 1 with black, values in between with a
proportionally gray shade. A value greater than 1 can also
be used: this means fill with the shade of gray that is
currently being used for text and lines. Normally this will
be black, but output devices may provide a mechanism for
changing this. Without an argument, then the value of the
variable <b>fillval</b> will be used. Initially, this has a
value of 0.5. The invisible attribute does not affect the
filling of objects. Any text associated with a filled object
will be added after the object has been filled, so that the
text will not be obscured by the filling.</p>

<p style="margin-left:9%; margin-top: 1em">Additional
modifiers are available to draw colored objects:
<b>outline</b>[<b>d</b>] sets the color of the outline,
<b>shaded</b> the fill color, and
<b>colo</b>[<b>u</b>]<b>r</b>[<b>ed</b>] sets both. All
expect a subsequent string argument specifying the
color.</p>

<p style="margin-left:18%;">circle shaded &quot;green&quot;
outline &quot;black&quot;</p>

<p style="margin-left:9%;">Color is not yet supported in
TeX mode. Device macro files like <i>ps.tmac</i> declare
color names; you can define additional ones with the
<b>defcolor</b> request (see
<a href="man:groff(7)"><i>groff</i>(7)</a>).</p>

<p style="margin-left:9%; margin-top: 1em">To change the
name of the vbox in TeX mode, set the pseudo-variable
<b>figname</b> (which is actually a specially parsed
command) within a picture. Example:</p>

<p style="margin-left:18%; margin-top: 1em"><b>.PS <br>
figname = foobar; <br>
... <br>
.PE</b></p>

<p style="margin-left:9%; margin-top: 1em">The picture is
then available in the box <b>\foobar</b>.</p>

<p style="margin-left:9%; margin-top: 1em"><i>pic</i>
assumes that at the beginning of a picture both glyph and
fill color are set to the default value.</p>

<p style="margin-left:9%; margin-top: 1em">Arrow heads will
be drawn as solid triangles if the variable <b>arrowhead</b>
is non-zero and either TeX mode is enabled or the <b>-n</b>
option has not been given. Initially, <b>arrowhead</b> has a
value of&nbsp;1. Solid arrow heads are always filled with
the current outline color.</p>

<p style="margin-left:9%; margin-top: 1em">The <i>troff</i>
output of <i>pic</i> is device-independent. The <b>-T</b>
option is therefore redundant. All numbers are taken to be
in inches; numbers are never interpreted to be in
<i>troff</i> machine units.</p>

<p style="margin-left:9%; margin-top: 1em">Objects can have
an <b>aligned</b> attribute. This will only work if the
postprocessor is <a href="man:grops(1)"><i>grops</i>(1)</a>
or <a href="man:gropdf(1)"><i>gropdf</i>(1)</a>. Any text
associated with an object having the <b>aligned</b>
attribute will be rotated about the center of the object so
that it is aligned in the direction from the start point to
the end point of the object. This attribute will have no
effect on objects whose start and end points are
coincident.</p>

<p style="margin-left:9%; margin-top: 1em">In places where
<i>n</i><b>th</b> is allowed, <b>'</b><i>expr</i><b>'th</b>
is also allowed. &ldquo;<b>'th</b>&ldquo; is a single token:
no space is allowed between the apostrophe and the
&ldquo;<b>th</b>&rdquo;. For example,</p>

<p style="margin-left:18%; margin-top: 1em">for i = 1 to 4
do { <br>
line from 'i'th box.nw to 'i+1'th box.se <br>
}</p>

<h2>Conversion
<a name="Conversion"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">To obtain a
stand-alone picture from a <i>pic</i> file, enclose your
<i>pic</i> code with <b>.PS</b> and <b>.PE</b> requests;
<i>roff</i> configuration commands may be added at the
beginning of the file, but no <i>roff</i> text.</p>

<p style="margin-left:9%; margin-top: 1em">It is necessary
to feed this file into <i>groff</i> without adding any page
information, so you must check which <b>.PS</b> and
<b>.PE</b> requests are actually called. For example, the
<i>mm</i> macro package adds a page number, which is very
annoying. At the moment, calling standard <i>groff</i>
without any macro package works. Alternatively, you can
define your own requests, e.g., to do nothing:</p>

<p style="margin-left:18%; margin-top: 1em">.de PS <br>
.. <br>
.de PE <br>
..</p>

<p style="margin-left:9%; margin-top: 1em"><i>groff</i>
itself does not provide direct conversion into other
graphics file formats. But there are lots of possibilities
if you first transform your picture into PostScript&reg;
format using the <i>groff</i> option <b>-Tps</b>. Since this
<i>ps</i>-file lacks BoundingBox information it is not very
useful by itself, but it may be fed into other conversion
programs, usually named <b>ps2</b><i>other</i> or
<b>psto</b><i>other</i> or the like. Moreover, the
PostScript interpreter Ghostscript (<i>gs</i>(1)) has
built-in graphics conversion devices that are called with
the option</p>

<p style="margin-left:18%; margin-top: 1em"><b>gs
-sDEVICE=</b><i>&lt;devname&gt;</i></p>

<p style="margin-left:9%; margin-top: 1em">Call</p>

<p style="margin-left:18%; margin-top: 1em"><b>gs
--help</b></p>

<p style="margin-left:9%; margin-top: 1em">for a list of
the available devices.</p>

<p style="margin-left:9%; margin-top: 1em">An alternative
may be to use the <b>-Tpdf</b> option to convert your
picture directly into <b>PDF</b> format. The MediaBox of the
file produced can be controlled by passing a <b>-P-p</b>
papersize to <i>groff</i>.</p>

<p style="margin-left:9%; margin-top: 1em">As the
Encapsulated PostScript File Format <b>EPS</b> is getting
more and more important, and the conversion wasn&rsquo;t
regarded trivial in the past you might be interested to know
that there is a conversion tool named <i>ps2eps</i> which
does the right job. It is much better than the tool
<i>ps2epsi</i> packaged with <i>gs</i>.</p>

<p style="margin-left:9%; margin-top: 1em">For bitmapped
graphic formats, you should use <i>pstopnm</i>; the
resulting (intermediate)
<a href="man:pnm(5)"><i>pnm</i>(5)</a> file can be then
converted to virtually any graphics format using the tools
of the <b>netpbm</b> package.</p>

<h2>Files
<a name="Files"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><i>/usr/share/groff/1.23.0/tmac/pic.tmac</i></p>

<p style="margin-left:18%;">offers simple definitions of
the <b>PS</b>, <b>PE</b>, <b>PF</b>, and <b>PY</b>
macros.</p>

<h2>Bugs
<a name="Bugs"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Characters that
are invalid as input to GNU <i>troff</i> (see the
<i>groff</i> Texinfo manual or
<a href="man:groff_char(7)"><i>groff_char</i>(7)</a> for a
list) are rejected even in TeX mode.</p>

<p style="margin-left:9%; margin-top: 1em">The
interpretation of <b>fillval</b> is incompatible with the
<i>pic</i> in Tenth Edition Research Unix, which interprets
0 as black and 1 as white.</p>

<h2>See also
<a name="See also"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><i>/usr/share/doc/groff-1.23.0/pic.ps</i></p>

<p style="margin-left:18%;">&ldquo;Making Pictures with GNU
pic&rdquo;, by Eric S. Raymond. This file, together with its
source, <i>pic.ms</i>, is part of the <i>groff</i>
distribution.</p>


<p style="margin-left:9%; margin-top: 1em">&ldquo;PIC&mdash;A
Graphics Language for Typesetting: User Manual&rdquo;, by
Brian W. Kernighan, 1984 (revised 1991), AT&amp;T Bell
Laboratories Computing Science Technical Report No. 116</p>

<p style="margin-left:9%; margin-top: 1em"><i>ps2eps</i> is
available from CTAN mirrors, e.g.,
<a href="ftp://ftp.dante.de/tex-archive/support/ps2eps/">ftp://ftp.dante.de/tex-archive/support/ps2eps/</a></p>

<p style="margin-left:9%; margin-top: 1em">W. Richard
Stevens,
<a href="http://www.kohala.com/start/troff/pic2html.html"><i>Turning
PIC into HTML</i></a></p>

<p style="margin-left:9%; margin-top: 1em">W. Richard
Stevens,
<a href="http://www.kohala.com/start/troff/pic.examples.ps"><i>Examples
of</i> pic <i>Macros</i></a></p>


<p style="margin-left:9%; margin-top: 1em"><a href="man:troff(1)"><i>troff</i>(1)</a>,
<a href="man:groff_out(5)"><i>groff_out</i>(5)</a>,
<a href="man:tex(1)"><i>tex</i>(1)</a>,
<a href="man:gs(1)"><i>gs</i>(1)</a>,
<a href="man:ps2eps(1)"><i>ps2eps</i>(1)</a>,
<a href="man:pstopnm(1)"><i>pstopnm</i>(1)</a>,
<a href="man:ps2epsi(1)"><i>ps2epsi</i>(1)</a>,
<a href="man:pnm(5)"><i>pnm</i>(5)</a></p>
<hr>
</body>
</html>
