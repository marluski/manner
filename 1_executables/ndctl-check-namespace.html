<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:28:40 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>NDCTL-CHECK-NAMESPACE</title>

</head>
<body>

<h1 align="center">NDCTL-CHECK-NAMESPACE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em">ndctl-check-namespace
- check namespace metadata consistency</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><i>ndctl
check-namespace</i> &lt;namespace&gt; [&lt;options&gt;]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">A namespace in
the <i>sector</i> mode will have metadata on it to describe
the kernel BTT (Block Translation Table). The
check-namespace command can be used to check the consistency
of this metadata, and optionally, also attempt to repair it,
if it has enough information to do so.</p>

<p style="margin-left:9%; margin-top: 1em">The namespace
being checked has to be disabled before initiating a check
on it as a precautionary measure. The --force option can
override this.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Check a
namespace (only report errors)</p>

<p style="margin-left:9%; margin-top: 1em">ndctl
disable-namespace namespace0.0 <br>
ndctl check-namespace namespace0.0</p>

<p style="margin-left:9%; margin-top: 1em">Check a
namespace, and perform repairs if possible</p>

<p style="margin-left:9%; margin-top: 1em">ndctl
disable-namespace namespace0.0 <br>
ndctl check-namespace --repair namespace0.0</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">-R, --repair</p>

<p style="margin-left:14%;">Perform metadata repairs if
possible. Without this option, the raw namespace contents
will not be touched.</p>

<p style="margin-left:9%; margin-top: 1em">-L,
--rewrite-log</p>

<p style="margin-left:14%;">Regenerate the BTT log and
write it to media. This can be used to convert from the old
(pre 4.15) padding format that was incompatible with other
BTT implementations to the updated format. This requires the
--repair option to be provided.</p>

<p style="margin-left:19%; margin-top: 1em">WARNING: Do not
interrupt this operation as it can potentially cause <br>
unrecoverable metadata corruption. It is highly recommended
to create <br>
a backup of the raw namespace before attempting this.</p>

<p style="margin-left:9%; margin-top: 1em">-f, --force</p>

<p style="margin-left:14%;">Unless this option is
specified, a check-namespace operation will fail if the
namespace is presently active. Specifying --force causes the
namespace to be disabled before checking.</p>

<p style="margin-left:9%; margin-top: 1em">-v,
--verbose</p>

<p style="margin-left:14%;">Emit debug messages for the
namespace check process.</p>

<p style="margin-left:9%; margin-top: 1em">-r,
--region=</p>

<p style="margin-left:14%;">A <i>regionX</i> device name,
or a region id number. Restrict the operation to the
specified region(s). The keyword <i>all</i> can be specified
to indicate the lack of any restriction, however this is the
same as not supplying a --region option at all.</p>

<p style="margin-left:9%; margin-top: 1em">-b, --bus=</p>

<p style="margin-left:14%;">A bus id number, or a provider
string (e.g. &quot;ACPI.NFIT&quot;). Restrict the operation
to the specified bus(es). The keyword <i>all</i> can be
specified to indicate the lack of any restriction, however
this is the same as not supplying a --bus option at all.</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Copyright &copy;
2016 - 2022, Intel Corporation. License GPLv2: GNU GPL
version 2 &lt;http://gnu.org/licenses/gpl.html&gt;. This is
free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em">ndctl-disable-namespace(1),
ndctl-enable-namespace(1), <i>UEFI NVDIMM Label Protocol</i>
&lt;http://www.uefi.org/sites/default/files/resources/UEFI_Spec_2_7.pdf&gt;</p>
<hr>
</body>
</html>
