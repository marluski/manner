<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:23:21 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>dvbv5-zap</title>

</head>
<body>

<h1 align="center">dvbv5-zap</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXIT STATUS">EXIT STATUS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#Recording a channel">Recording a channel</a><br>
<a href="#Monitoring a channel">Monitoring a channel</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">dvbv5-zap -
DVBv5 tool for service tuning</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>dvbv5-zap</b>
[<i>OPTION</i>]... <b>channel-name</b></p>


<p style="margin-left:9%; margin-top: 1em"><b>dvbv5-zap</b>
[<i>OPTION</i>]... <b>frequency-name</b> (for monitor or all
PIDs mode)</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">dvbv5-zap is a
command line tuning tool for digital TV services that is
compliant with version 5 of the DVB API, and backward
compatible with the older v3 DVB API.</p>

<p style="margin-left:9%; margin-top: 1em">dvbv5-zap uses
by default a new channel/service file format that it is
capable of supporting all types of Digital TV standards. It
can also support the legacy format used by the legacy
dvb-apps.</p>

<p style="margin-left:9%; margin-top: 1em">The dvbv5-zap
tool can be used on several different modes, depending on
the parameters used.</p>

<p style="margin-left:9%; margin-top: 1em">Please note
that, in order to be able to use it in record mode, where
both the audio and video Packet IDs (PIDs) are output to a
dvr record node, the input file should contain the PIDs, e.
g. they should have been produced by a digital TV zap
application like dvbv5-zap.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>-c</b>,
<b>--channels</b>= <b>channel-name-file</b></p>

<p style="margin-left:18%;">Read channels list from
&rsquo;file&rsquo;. Defaults to
<b>&#732;/.tzap/channels.conf</b>.</p>

<p style="margin-left:9%;"><b>-3</b>, <b>--dvbv3</b></p>

<p style="margin-left:18%;">Force dvbv5-zap to use DVBv3
only. Useful to test if the legacy API support is
working.</p>

<p style="margin-left:9%;"><b>-a</b>,
<b>--adapter</b>=<i>adapter#</i></p>

<p style="margin-left:18%;">Use the given adapter. Default
value: 0.</p>

<p style="margin-left:9%;"><b>-A</b>,
<b>--audio_pid</b>=<i>audio_pid#</i></p>

<p style="margin-left:18%;">Select a different audio Packet
ID (PID). The default is to use the first audio PID found at
the <b>channel-name-file</b>.</p>

<p style="margin-left:9%;"><b>-C</b>,
<b>--cc</b>=<i>country_code</i></p>

<p style="margin-left:18%;">Set the default country to be
used by the MPEG-TS parsers, in ISO 3166-1 two letter code.
If not specified, the default charset is guessed from the
locale environment variables.</p>

<p style="margin-left:9%;"><b>-d</b>,
<b>--demux</b>=<i>demux#</i></p>

<p style="margin-left:18%;">Use the given demux. Default
value: 0.</p>

<p style="margin-left:9%;"><b>-f</b>,
<b>--frontend</b>=<i>frontend#</i></p>

<p style="margin-left:18%;">Use the given frontend. Default
value: 0.</p>

<p style="margin-left:9%;"><b>-I</b>,
<b>--input-format</b>=<i>format</i></p>

<p style="margin-left:18%;">Format of the input file.
Please notice that caps is ignored. It can be: <i><br>
channel</i> - for dvb-apps compatible channel file;</p>

<p style="margin-left:18%; margin-top: 1em"><i>zap</i> -
for dvb-apps compatible zap file;</p>

<p style="margin-left:18%; margin-top: 1em"><i>dvbv5</i>
(default) - for the dvbv5 apps format.</p>

<p style="margin-left:9%;"><b>-l</b>,
<b>--lnbf</b>=<i>LNBf_type</i></p>

<p style="margin-left:18%;">Type of LNBf to use
&rsquo;help&rsquo; lists the available ones.</p>

<p style="margin-left:9%;"><b>-L</b>,
<b>--search</b>=<i>string</i></p>

<p style="margin-left:18%;">Search/look for a string inside
the traffic. Used only on monitor mode.</p>

<p style="margin-left:9%;"><b>-m</b>, <b>--monitor</b></p>

<p style="margin-left:18%;">Enable monitor mode. On this
mode, it will monitor de DVB traffic for all Packet IDs
(PIDs) received by the device, showing the Packet IDs
(optionally filtered by a <i>string</i>), and presenting
some traffic statistics: number of packets per second,
number of Kbytes per second and total traffic. Those
statistics are shown per PID and the total per MPEG-TS.</p>

<p style="margin-left:9%;"><b>-o</b>,
<b>--output</b>=<i>file</i></p>

<p style="margin-left:18%;">Output filename. If specified,
it will output the content of the MPEG-TS into the file with
the first video PID and the first audio PID (or the one
specified by <i>audio_pid#</i>). Use <b>-o</b> - for
directing the output to <b>stdout</b>.</p>

<p style="margin-left:9%;"><b>-p</b>, <b>--pat</b></p>

<p style="margin-left:18%;">Add PAT and PMT MPEG-TS tables
to TS recording (implies <b>-r)</b>.</p>

<p style="margin-left:9%;"><b>-P</b>, <b>--all-pids</b></p>

<p style="margin-left:18%;">Don&rsquo;t filter any pids.
Instead, outputs all of them.</p>

<p style="margin-left:9%;"><b>-r</b>, <b>--record</b></p>

<p style="margin-left:18%;">Sets up the
/dev/dvb/adapter<i>adapter#</i>/dvr0 for MPEG-TS record.</p>

<p style="margin-left:9%;"><b>-s</b>, <b>--silence</b></p>

<p style="margin-left:18%;">Increases silence (can be used
more than once).</p>

<p style="margin-left:9%;"><b>-S</b>,
<b>--sat_number</b>=<i>satellite_number</i></p>

<p style="margin-left:18%;">Satellite number. Used only on
satellite delivery systems. If not specified, disable DISEqC
satellite switch.</p>

<p style="margin-left:9%;"><b>-t</b>,
<b>--timeout</b>=<i>seconds</i></p>

<p style="margin-left:18%;">Amount of seconds to keep the
tool running for zapping and for recording. Useful if you
want to record a program that you know its duration.</p>

<p style="margin-left:9%;"><b>-U</b>,
<b>--freq_bpf</b>=<i>frequency</i></p>

<p style="margin-left:18%;">SCR/Unicable band-pass filter
frequency to use, in kHz. Used only on satellite delivery
systems.</p>

<p style="margin-left:9%;"><b>-v</b>, <b>--verbose</b></p>

<p style="margin-left:18%;">Be verbose. Useful to check if
the MPEG-TS is happenning fine. This option can be used
multiple times to increase verbosity.</p>

<p style="margin-left:9%;"><b>-V</b>,
<b>--video_pid</b>=<i>video_pid#</i></p>

<p style="margin-left:18%;">video pid program to use
(default 0)</p>

<p style="margin-left:9%;"><b>-w</b>,
<b>--lna</b>=<i>LNA</i></p>

<p style="margin-left:18%;">Enable, disable or put LNA
power in auto mode. Not all frontends support it. Valid
values are: <br>
0 - disable <br>
1 - enable <br>
-1 - auto</p>

<p style="margin-left:9%;"><b>-W</b>,
<b>--wait</b>=<i>time</i></p>

<p style="margin-left:18%;">Adds additional wait time for
DISEqC command completion.</p>

<p style="margin-left:9%;"><b>-x</b>, <b>--exit</b></p>

<p style="margin-left:18%;">Exit after tuning.</p>

<p style="margin-left:9%;"><b>-X</b>,
<b>--low_traffic</b></p>

<p style="margin-left:18%;">Also shows DVB traffic with
less than 1 packet per second. Used only in monitor
mode.</p>

<p style="margin-left:9%;"><b>-?</b>, <b>--help</b></p>

<p style="margin-left:18%;">Outputs the usage help.</p>

<p style="margin-left:9%;"><b>--usage</b></p>

<p style="margin-left:18%;">Gives a short usage
message.</p>

<p style="margin-left:9%;"><b>--version</b></p>

<p style="margin-left:18%;">Prints program version.</p>

<h2>EXIT STATUS
<a name="EXIT STATUS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">On success, it
returns 0.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<h3>Recording a channel
<a name="Recording a channel"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The typical use
is to tune into a channel and put it into record mode:</p>

<p style="margin-left:9%; margin-top: 1em">$ <b>dvbv5-zap
-c dvb_channel.conf &rsquo;music&rsquo; -r</b> <br>
using demux &rsquo;/dev/dvb/adapter0/demux0&rsquo; <br>
reading channels from file &rsquo;dvb_channel.conf&rsquo;
<br>
service has pid type 05: 204 <br>
tuning to 573000000 Hz <br>
audio pid 104 <br>
dvb_set_pesfilter 104 <br>
Lock (0x1f) Quality= Good Signal= 100.00% C/N= -13.80dB UCB=
70 postBER= 3.14x10&#710;-3 PER= 0 <br>
DVR interface &rsquo;/dev/dvb/adapter0/dvr0&rsquo; can now
be opened</p>

<p style="margin-left:9%; margin-top: 1em">The channel can
be watched by playing the contents of the DVR interface,
with some player that recognizes the MPEG-TS format.</p>

<p style="margin-left:9%; margin-top: 1em">For example,
this audio-only channel can be played with mplayer:</p>

<p style="margin-left:9%; margin-top: 1em">$ <b>mplayer
-cache 800 /dev/dvb/adapter0/dvr0</b> <br>
MPlayer SVN-r37077-4.8.2 (C) 2000-2014 MPlayer Team <br>
TS file format detected. <br>
NO VIDEO! AUDIO MPA(pid=104) NO SUBS (yet)! PROGRAM N. 0
<br>

==================================================================
<br>
Opening audio decoder: [mpg123] MPEG 1.0/2.0/2.5 layers I,
II, III <br>
AUDIO: 48000 Hz, 2 ch, s16le, 192.0 kbit/12.50% (ratio:
24000-&gt;192000) <br>
Selected audio codec: [mpg123] afm: mpg123 (MPEG 1.0/2.0/2.5
layers I, II, III) <br>

==================================================================
<br>
AO: [alsa] 48000Hz 2ch s16le (2 bytes per sample) <br>
Video: no video <br>
Starting playback...</p>

<h3>Monitoring a channel
<a name="Monitoring a channel"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The dvbv5-zap
tool can also be used to monitor a DVB channel:</p>

<p style="margin-left:9%; margin-top: 1em">$ <b>dvbv5-zap
-c dvb_channel.conf 573000000 -m</b> <br>
using demux &rsquo;/dev/dvb/adapter0/demux0&rsquo; <br>
reading channels from file &rsquo;dvb_channel.conf&rsquo;
<br>
service has pid type 05: 204 <br>
tuning to 573000000 Hz <br>
Lock (0x1f) Quality= Good Signal= 100.00% C/N= -13.90dB UCB=
384 postBER= 96.8x10&#710;-6 PER= 0 <br>
dvb_set_pesfilter to 0x2000</p>

<p style="margin-left:9%; margin-top: 1em">PID FREQ SPEED
TOTAL <br>
0000 9.88 p/s 14.5 Kbps 1 KB <br>
0001 1.98 p/s 2.9 Kbps 376 B <br>
0010 18.77 p/s 27.6 Kbps 3 KB <br>
0011 48.42 p/s 71.1 Kbps 8 KB <br>
0012 1455.53 p/s 2137.8 Kbps 270 KB <br>
&#8230; <br>
1fff 1033.60 p/s 1518.1 Kbps 192 KB <br>
TOT 25296.44 p/s 37154.2 Kbps 4700 KB</p>

<p style="margin-left:9%; margin-top: 1em">Lock (0x1f)
Quality= Good Signal= 100.00% C/N= -13.90dB UCB= 384
postBER= 96.8x10&#710;-6 PER= 0</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Report bugs to
<b>Linux Media Mailing List
&lt;linux-media@vger.kernel.org&gt;</b></p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Copyright (c)
2011-2014 by Mauro Carvalho Chehab.</p>

<p style="margin-left:9%; margin-top: 1em">License GPLv2:
GNU GPL version 2 &lt;http://gnu.org/licenses/gpl.html&gt;.
<br>
This is free software: you are free to change and
redistribute it. There is NO WARRANTY, to the extent
permitted by law.</p>
<hr>
</body>
</html>
