<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:23:07 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CORESCHED</title>

</head>
<body>

<h1 align="center">CORESCHED</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#FUNCTIONS">FUNCTIONS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#PERMISSIONS">PERMISSIONS</a><br>
<a href="#RETURN VALUE">RETURN VALUE</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#COPYRIGHT">COPYRIGHT</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#REPORTING BUGS">REPORTING BUGS</a><br>
<a href="#AVAILABILITY">AVAILABILITY</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">coresched -
manage core scheduling cookies for tasks</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>coresched</b>
[<b>get</b>] [<b>-s</b> <i>pid</i>]</p>

<p style="margin-left:9%; margin-top: 1em"><b>coresched
new</b> [<b>-t</b> <i>type</i>] <b>-d</b> <i>pid</i></p>

<p style="margin-left:9%; margin-top: 1em"><b>coresched
new</b> [<b>-t</b> <i>type</i>] -- <i>command</i>
[<i>argument</i>...]</p>

<p style="margin-left:9%; margin-top: 1em"><b>coresched
copy</b> [<b>-s</b> <i>pid</i>] [<b>-t</b> <i>type</i>]
<b>-d</b> <i>pid</i></p>

<p style="margin-left:9%; margin-top: 1em"><b>coresched
copy</b> [<b>-s</b> <i>pid</i>] [<b>-t</b> <i>type</i>] --
<i>command</i> [<i>argument</i>...]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The
<b>coresched</b> command is used to retrieve or modify the
core scheduling cookies of a running process given its
<i>pid</i>, or to spawn a new <i>command</i> with core
scheduling cookies.</p>

<p style="margin-left:9%; margin-top: 1em">Core scheduling
permits the definition of groups of tasks that are allowed
to share a physical core. This is done by assigning a cookie
to each task. Only tasks have the same cookie are allowed to
be scheduled on the same physical core.</p>

<p style="margin-left:9%; margin-top: 1em">It is possible
to either assign a new random cookie to a task, or copy a
cookie from another task. It is not possible to choose the
value of the cookie.</p>

<h2>FUNCTIONS
<a name="FUNCTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>get</b></p>

<p style="margin-left:14%;">Retrieve the core scheduling
cookie of the PID specified in <b>-s</b>. If <b>-s</b> is
omitted, it will get the cookie of the current
<b>coresched</b> process.</p>

<p style="margin-left:9%; margin-top: 1em"><b>new</b></p>

<p style="margin-left:14%;">Assign a new cookie to an
existing PID specified in <b>-d</b>, or execute
<i>command</i> with a new cookie.</p>

<p style="margin-left:9%; margin-top: 1em"><b>copy</b></p>

<p style="margin-left:14%;">Copy the cookie from an
existing PID (<b>-s</b>) to another PID (<b>-d</b>), or
execute <i>command</i> with that cookie. If <b>-s</b> is
omitted, it will get the cookie of the current
<b>coresched</b> process.</p>

<p style="margin-left:9%; margin-top: 1em">If no function
is specified, it will run the <b>get</b> function.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>-s</b>,
<b>--source</b> <i>PID</i></p>

<p style="margin-left:14%;">Which <i>PID</i> to get the
cookie from. If this option is omitted, it will get the
cookie from the current <b>coresched</b> process.</p>

<p style="margin-left:9%; margin-top: 1em"><b>-d</b>,
<b>--dest</b> <i>PID</i></p>

<p style="margin-left:14%;">Which <i>PID</i> to modify the
cookie of.</p>

<p style="margin-left:9%; margin-top: 1em"><b>-t</b>,
<b>--dest-type</b> <i>TYPE</i></p>

<p style="margin-left:14%;">The type of the PID whose
cookie will be modified. This can be one of three
values:</p>

<p style="margin-left:19%; margin-top: 1em">&bull;
<b>pid</b>, or process ID</p>

<p style="margin-left:19%; margin-top: 1em">&bull;
<b>tgid</b>, or thread group ID (default value)</p>

<p style="margin-left:19%; margin-top: 1em">&bull;
<b>pgid</b>, or process group ID</p>

<p style="margin-left:9%; margin-top: 1em"><b>-v</b>,
<b>--verbose</b></p>

<p style="margin-left:14%;">Show extra information when
modifying cookies of tasks.</p>

<p style="margin-left:9%; margin-top: 1em"><b>-h</b>,
<b>--help</b></p>

<p style="margin-left:14%;">Display help text and exit.</p>

<p style="margin-left:9%; margin-top: 1em"><b>-V</b>,
<b>--version</b></p>

<p style="margin-left:14%;">Display version and exit.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Get the core
scheduling cookie of the coresched task itself, usually
inherited from its parent:</p>

<p style="margin-left:14%;"><b>coresched get</b></p>

<p style="margin-left:9%; margin-top: 1em">Get the core
scheduling cookie of a task with PID <i>123</i>:</p>

<p style="margin-left:14%;"><b>coresched get -s</b>
<i>123</i></p>

<p style="margin-left:9%; margin-top: 1em">Give a task with
PID <i>123</i> a new core scheduling cookie:</p>

<p style="margin-left:14%;"><b>coresched new -d</b>
<i>123</i></p>

<p style="margin-left:9%; margin-top: 1em">Spawn a new task
with a new core scheduling cookie:</p>

<p style="margin-left:14%;"><b>coresched new</b> --
<i>command</i> [<i>argument</i>...]</p>

<p style="margin-left:9%; margin-top: 1em">Copy the cookie
from the current coresched process another task with pid
<i>456</i>:</p>

<p style="margin-left:14%;"><b>coresched copy -d</b>
<i>456</i></p>

<p style="margin-left:9%; margin-top: 1em">Copy the cookie
from a task with pid <i>123</i> to another task with pid
<i>456</i>:</p>

<p style="margin-left:14%;"><b>coresched copy -s</b>
<i>123</i> <b>-d</b> <i>456</i></p>

<p style="margin-left:9%; margin-top: 1em">Copy the cookie
from a task with pid <i>123</i> to a new task
<i>command</i>:</p>

<p style="margin-left:14%;"><b>coresched copy -s</b>
<i>123</i> -- <i>command</i> [<i>argument</i>...]</p>

<p style="margin-left:9%; margin-top: 1em">Copy the cookie
from a task with pid <i>123</i> to the process group ID
<i>456</i>:</p>

<p style="margin-left:14%;"><b>coresched copy -s</b>
<i>123</i> <b>-t</b> <i>pgid</i> <b>-d</b> <i>456</i></p>

<h2>PERMISSIONS
<a name="PERMISSIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Retrieving or
modifying the core scheduling cookie of a process requires
<b>PTRACE_MODE_READ_REALCREDS</b> ptrace access to that
process. See the section &quot;Ptrace access mode
checking&quot; in <b>ptrace</b>(2) for more information.</p>

<h2>RETURN VALUE
<a name="RETURN VALUE"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">On success,
<b>coresched</b> returns 0. If <b>coresched</b> fails, it
will print an error and return 1.</p>

<p style="margin-left:9%; margin-top: 1em">If a
<i>command</i> is being executed, the return value of
<b>coresched</b> will be the return value of
<i>command</i>.</p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>coresched</b>
requires core scheduling support in the kernel. This can be
enabled via the <b>CONFIG_SCHED_CORE</b> kernel config
option.</p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><i>Thijs
Raymakers</i> &lt;thijs@raymakers.nl&gt;, <i>Phil Auld</i>
&lt;pauld@redhat.com&gt;</p>

<h2>COPYRIGHT
<a name="COPYRIGHT"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Copyright &copy;
2024 Thijs Raymakers and Phil Auld. This is free software
licensed under the EUPL.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>chrt</b>(1),
<b>nice</b>(1), <b>renice</b>(1), <b>taskset</b>(1),
<b>ptrace</b>(2), <b>sched</b>(7)</p>

<p style="margin-left:9%; margin-top: 1em">The Linux kernel
source files
<i>Documentation/admin-guide/hw-vuln/core-scheduling.rst</i></p>

<h2>REPORTING BUGS
<a name="REPORTING BUGS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">For bug reports,
use the <i>issue tracker</i>
&lt;https://github.com/util-linux/util-linux/issues&gt;.</p>

<h2>AVAILABILITY
<a name="AVAILABILITY"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The
<b>coresched</b> command is part of the util-linux package
which can be downloaded from <i>Linux Kernel Archive</i>
&lt;https://www.kernel.org/pub/linux/utils/util-linux/&gt;.</p>
<hr>
</body>
</html>
