<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:30:16 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SMBTREE</title>

</head>
<body>

<h1 align="center">SMBTREE</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">smbtree - A text
based smb network browser</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="88%">


<p style="margin-top: 1em">smbtree [-D|--domains]
[-S|--servers] [-?|--help] [--usage]
[-d|--debuglevel=DEBUGLEVEL] [--debug-stdout]
[--configfile=CONFIGFILE] [--option=name=value]
[-l|--log-basename=LOGFILEBASE] [--leak-report]
[--leak-report-full]
[-U|--user=[DOMAIN/]USERNAME[%PASSWORD]] [-N|--no-pass]
[--password=STRING] [--pw-nt-hash]
[-A|--authentication-file=FILE] [-P|--machine-pass]
[--simple-bind-dn=DN] [--use-kerberos=desired|required|off]
[--use-krb5-ccache=CCACHE] [--use-winbind-ccache]
[--client-protection=sign|encrypt|off] [-V|--version]</p></td>
<td width="3%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">This tool is
part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:9%; margin-top: 1em">smbtree is a smb
browser program in text mode. It is similar to the
&quot;Network Neighborhood&quot; found on Windows computers.
It prints a tree with all the known domains, the servers in
those domains and the shares on the servers.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em">-D|--domains</p>

<p style="margin-left:14%;">Only print a list of all the
domains known on broadcast or by the master browser</p>


<p style="margin-left:9%; margin-top: 1em">-S|--servers</p>

<p style="margin-left:14%;">Only print a list of all the
domains and servers responding on broadcast or known by the
master browser.</p>

<p style="margin-left:9%; margin-top: 1em">-?|--help</p>

<p style="margin-left:14%;">Print a summary of command line
options.</p>

<p style="margin-left:9%; margin-top: 1em">--usage</p>

<p style="margin-left:14%;">Display brief usage
message.</p>


<p style="margin-left:9%; margin-top: 1em">-d|--debuglevel=level</p>

<p style="margin-left:14%;"><i>level</i> is an integer from
0 to 10. The default value if this parameter is not
specified is 1 for client applications.</p>

<p style="margin-left:14%; margin-top: 1em">The higher this
value, the more detail will be logged to the log files about
the activities of the server. At level 0, only critical
errors and serious warnings will be logged. Level 1 is a
reasonable level for day-to-day running - it generates a
small amount of information about operations carried
out.</p>

<p style="margin-left:14%; margin-top: 1em">Levels above 1
will generate considerable amounts of log data, and should
only be used when investigating a problem. Levels above 3
are designed for use only by developers and generate HUGE
amounts of log data, most of which is extremely cryptic.</p>

<p style="margin-left:14%; margin-top: 1em">Note that
specifying this parameter here will override the
<b><font color="#0000FF">log level</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--debug-stdout</font></p>

<p style="margin-left:14%;"><font color="#000000">This will
redirect debug output to STDOUT. By default all clients are
logging to STDERR.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--configfile=&lt;configuration
file&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">The file
specified contains the configuration details required by the
client. The information in this file can be general for
client and server or only provide client specific like
options such as</font> <b><font color="#0000FF">client smb
encrypt</font></b><font color="#000000">. See
/etc/samba/smb.conf for more information. The default
configuration file name is determined at compile
time.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--option=&lt;name&gt;=&lt;value&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Set the
<b>smb.conf</b>(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled-in defaults and options read from the
configuration file. If a name or a value includes a space,
wrap whole --option=name=value into quotes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-l|--log-basename=logdirectory</font></p>

<p style="margin-left:14%;"><font color="#000000">Base
directory name for log/debug files. The extension
<b>&quot;.progname&quot;</b> will be appended (e.g.
log.smbclient, log.smbd, etc...). The log file is never
removed by the client.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--leak-report</font></p>

<p style="margin-left:14%;"><font color="#000000">Enable
talloc leak reporting on exit.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--leak-report-full</font></p>

<p style="margin-left:14%;"><font color="#000000">Enable
full talloc leak reporting on exit.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-V|--version</font></p>

<p style="margin-left:14%;"><font color="#000000">Prints
the program version number.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-U|--user=[DOMAIN\]USERNAME[%PASSWORD]</font></p>

<p style="margin-left:14%;"><font color="#000000">Sets the
SMB username or username and password.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
%PASSWORD is not specified, the user will be prompted. The
client will first check the <b>USER</b> environment variable
(which is also permitted to also contain the password
separated by a %), then the <b>LOGNAME</b> variable (which
is not permitted to contain a password) and if either
exists, the value is used. If these environmental variables
are not found, the username found in a Kerberos Credentials
cache may be used.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">A
third option is to use a credentials file which contains the
plaintext of the username and password. This option is
mainly provided for scripts where the admin does not wish to
pass the credentials on the command line or via environment
variables. If this method is used, make certain that the
permissions on the file restrict access from unwanted users.
See the <i>-A</i> for more details.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Be
cautious about including passwords in scripts or passing
user-supplied values onto the command line. For security it
is better to let the Samba client tool ask for the password
if needed, or obtain the password once with
kinit.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">While
Samba will attempt to scrub the password from the process
title (as seen in ps), this is after startup and so is
subject to a race.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-N|--no-pass</font></p>

<p style="margin-left:14%;"><font color="#000000">If
specified, this parameter suppresses the normal password
prompt from the client to the user. This is useful when
accessing a service that does not require a
password.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Unless
a password is specified on the command line or this
parameter is specified, the client will request a
password.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
a password is specified on the command line and this option
is also defined the password on the command line will be
silently ignored and no password will be used.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--password</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify
the password on the commandline.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Be
cautious about including passwords in scripts or passing
user-supplied values onto the command line. For security it
is better to let the Samba client tool ask for the password
if needed, or obtain the password once with
kinit.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
--password is not specified, the tool will check the
<b>PASSWD</b> environment variable, followed by
<b>PASSWD_FD</b> which is expected to contain an open file
descriptor (FD) number.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Finally
it will check <b>PASSWD_FILE</b> (containing a file path to
be opened). The file should only contain the password. Make
certain that the permissions on the file restrict access
from unwanted users!</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">While
Samba will attempt to scrub the password from the process
title (as seen in ps), this is after startup and so is
subject to a race.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--pw-nt-hash</font></p>

<p style="margin-left:14%;"><font color="#000000">The
supplied password is the NT hash.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-A|--authentication-file=filename</font></p>

<p style="margin-left:14%;"><font color="#000000">This
option allows you to specify a file from which to read the
username and password used in the connection. The format of
the file is:</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%">
</td>
<td width="6%">
</td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">


<p><font color="#000000">username =
&lt;value&gt;</font></p> </td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%">
</td>
<td width="6%">
</td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">


<p><font color="#000000">password =
&lt;value&gt;</font></p> </td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%">
</td>
<td width="6%">
</td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">


<p><font color="#000000">domain = &lt;value&gt;</font></p></td></tr>
</table>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Make
certain that the permissions on the file restrict access
from unwanted users!</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-P|--machine-pass</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
stored machine account password.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--simple-bind-dn=DN</font></p>

<p style="margin-left:14%;"><font color="#000000">DN to use
for a simple bind.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--use-kerberos=desired|required|off</font></p>

<p style="margin-left:14%;"><font color="#000000">This
parameter determines whether Samba client tools will try to
authenticate using Kerberos. For Kerberos authentication you
need to use dns names instead of IP addresses when
connecting to a service.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">client use kerberos</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--use-krb5-ccache=CCACHE</font></p>


<p style="margin-left:14%;"><font color="#000000">Specifies
the credential cache location for Kerberos
authentication.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">This
will set --use-kerberos=required too.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--use-winbind-ccache</font></p>

<p style="margin-left:14%;"><font color="#000000">Try to
use the credential cache by winbind.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--client-protection=sign|encrypt|off</font></p>

<p style="margin-left:14%;"><font color="#000000">Sets the
connection protection the client tool should use.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">client protection</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">In
case you need more fine grained control you can use:
--option=clientsmbencrypt=OPTION,
--option=clientipcsigning=OPTION,
--option=clientsigning=OPTION.</font></p>

<h2>VERSION
<a name="VERSION"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">This
man page is part of version 4.22.0 of the Samba
suite.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
original Samba software and related utilities were created
by Andrew Tridgell. Samba is now developed by the Samba Team
as an Open Source project similar to the way the Linux
kernel is developed.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
smbtree man page was written by Jelmer Vernooij.</font></p>
<hr>
</body>
</html>
