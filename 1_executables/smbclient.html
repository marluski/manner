<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:30:16 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SMBCLIENT</title>

</head>
<body>

<h1 align="center">SMBCLIENT</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#OPERATIONS">OPERATIONS</a><br>
<a href="#NOTES">NOTES</a><br>
<a href="#ENVIRONMENT VARIABLES">ENVIRONMENT VARIABLES</a><br>
<a href="#INSTALLATION">INSTALLATION</a><br>
<a href="#DIAGNOSTICS">DIAGNOSTICS</a><br>
<a href="#VERSION">VERSION</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">smbclient -
ftp-like client to access SMB/CIFS resources on servers</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="88%">


<p style="margin-top: 1em">smbclient [-M|--message=HOST]
[-I|--ip-address=IP] [-E|--stderr] [-L|--list=HOST]
[-T|--tar=&lt;c|x&gt;IXFvgbNan] [-D|--directory=DIR]
[-b|--send-buffer=BYTES] [-t|--timeout=SECONDS]
[-p|--port=PORT] [-g|--grepable] [-q|--quiet] [-B|--browse]
[-?|--help] [--usage] [-d|--debuglevel=DEBUGLEVEL]
[--debug-stdout] [-s|--configfile=CONFIGFILE]
[--option=name=value] [-l|--log-basename=LOGFILEBASE]
[--leak-report] [--leak-report-full]
[-R|--name-resolve=NAME-RESOLVE-ORDER]
[-O|--socket-options=SOCKETOPTIONS]
[-m|--max-protocol=MAXPROTOCOL]
[-n|--netbiosname=NETBIOSNAME] [--netbios-scope=SCOPE]
[-W|--workgroup=WORKGROUP] [--realm=REALM]
[-U|--user=[DOMAIN/]USERNAME%[PASSWORD]] [-N|--no-pass]
[--password=STRING] [--pw-nt-hash]
[-A|--authentication-file=FILE] [-P|--machine-pass]
[--simple-bind-dn=DN] [--use-kerberos=desired|required|off]
[--use-krb5-ccache=CCACHE] [--use-winbind-ccache]
[--client-protection=sign|encrypt|off] [-V|--version]
[-c|--command=STRING]</p> </td>
<td width="3%">
</td></tr>
</table>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">This tool is
part of the <b>samba</b>(7) suite.</p>

<p style="margin-left:9%; margin-top: 1em">smbclient is a
client that can 'talk' to an SMB/CIFS server. It offers an
interface similar to that of the ftp program (see
<b>ftp</b>(1)). Operations include things like getting files
from the server to the local machine, putting files from the
local machine to the server, retrieving directory
information from the server and so on.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">servicename</p>

<p style="margin-left:14%;">servicename is the name of the
service you want to use on the server. A service name takes
the form //server/service where <i>server</i> is the NetBIOS
name of the SMB/CIFS server offering the desired service and
<i>service</i> is the name of the service offered. Thus to
connect to the service &quot;printer&quot; on the SMB/CIFS
server &quot;smbserver&quot;, you would use the servicename
//smbserver/printer</p>

<p style="margin-left:14%; margin-top: 1em">Note that the
server name required is NOT necessarily the IP (DNS) host
name of the server ! The name required is a NetBIOS server
name, which may or may not be the same as the IP hostname of
the machine running the server.</p>

<p style="margin-left:14%; margin-top: 1em">The server name
is looked up according to either the
<i>-R|--name-resolve</i> parameter to smbclient or using the
name resolve order parameter in the <b>smb.conf</b>(5) file,
allowing an administrator to change the order and methods by
which server names are looked up.</p>

<p style="margin-left:9%; margin-top: 1em">password</p>

<p style="margin-left:14%;">The password required to access
the specified service on the specified server. If this
parameter is supplied, the <i>-N</i> option (suppress
password prompt) is assumed.</p>

<p style="margin-left:14%; margin-top: 1em">There is no
default password. If no password is supplied on the command
line (either by using this parameter or adding a password to
the <i>-U</i> option (see below)) and the <i>-N</i> option
is not specified, the client will prompt for a password,
even if the desired service does not require one. (If no
password is required, simply press ENTER to provide a null
password.)</p>

<p style="margin-left:14%; margin-top: 1em">Note: Some
servers (including OS/2 and Windows for Workgroups) insist
on an uppercase password. Lowercase or mixed case passwords
may be rejected by these servers.</p>

<p style="margin-left:14%; margin-top: 1em">Be cautious
about including passwords in scripts.</p>

<p style="margin-left:9%; margin-top: 1em">-M|--message
NetBIOS name</p>

<p style="margin-left:14%;">This options allows you to send
messages, using the &quot;WinPopup&quot; protocol, to
another computer. Once a connection is established you then
type your message, pressing &#710;D (control-D) to end.</p>

<p style="margin-left:14%; margin-top: 1em">If the
receiving computer is running WinPopup the user will receive
the message and probably a beep. If they are not running
WinPopup the message will be lost, and no error message will
occur.</p>

<p style="margin-left:14%; margin-top: 1em">The message is
also automatically truncated if the message is over 1600
bytes, as this is the limit of the protocol.</p>

<p style="margin-left:14%; margin-top: 1em">One useful
trick is to pipe the message through smbclient. For example:
smbclient -M FRED &lt; mymessage.txt will send the message
in the file mymessage.txt to the machine FRED.</p>

<p style="margin-left:14%; margin-top: 1em">You may also
find the <i>-U</i> and <i>-I</i> options useful, as they
allow you to control the FROM and TO parts of the
message.</p>

<p style="margin-left:14%; margin-top: 1em">See the
<i>message command</i> parameter in the <b>smb.conf</b>(5)
for a description of how to handle incoming WinPopup
messages in Samba.</p>

<p style="margin-left:14%; margin-top: 1em"><i>Note</i>:
Copy WinPopup into the startup group on your WfWg PCs if you
want them to always be able to receive messages.</p>

<p style="margin-left:9%; margin-top: 1em">-p|--port
port</p>

<p style="margin-left:14%;">This number is the TCP port
number that will be used when making connections to the
server. The standard (well-known) TCP port number for an
SMB/CIFS server is 139, which is the default.</p>


<p style="margin-left:9%; margin-top: 1em">-g|--grepable</p>

<p style="margin-left:14%;">This parameter provides
combined with <i>-L</i> easy parseable output that allows
processing with utilities such as grep and cut.</p>


<p style="margin-left:9%; margin-top: 1em">-m|--max-protocol
protocol</p>

<p style="margin-left:14%;">This allows the user to select
the highest SMB protocol level that smbclient will use to
connect to the server. By default this is set to highest
available SMB3 protocol version. To connect using SMB2 or
SMB1 protocol, use the strings SMB2 or NT1 respectively.
Note that to connect to a Windows 2012 server with encrypted
transport selecting a max-protocol of SMB3 is required.</p>


<p style="margin-left:9%; margin-top: 1em">-P|--machine-pass</p>

<p style="margin-left:14%;">Make queries to the external
server using the machine account of the local server.</p>

<p style="margin-left:9%; margin-top: 1em">-I|--ip-address
IP-address</p>

<p style="margin-left:14%;"><i>IP address</i> is the
address of the server to connect to. It should be specified
in standard &quot;a.b.c.d&quot; notation.</p>

<p style="margin-left:14%; margin-top: 1em">Normally the
client would attempt to locate a named SMB/CIFS server by
looking it up via the NetBIOS name resolution mechanism
described above in the <i>name resolve order</i> parameter
above. Using this parameter will force the client to assume
that the server is on the machine with the specified IP
address and the NetBIOS name component of the resource being
connected to will be ignored.</p>

<p style="margin-left:14%; margin-top: 1em">There is no
default for this parameter. If not supplied, it will be
determined automatically by the client as described
above.</p>

<p style="margin-left:9%; margin-top: 1em">-E|--stderr</p>

<p style="margin-left:14%;">This parameter causes the
client to write messages to the standard error stream
(stderr) rather than to the standard output stream.</p>

<p style="margin-left:14%; margin-top: 1em">By default, the
client writes messages to standard output - typically the
user's tty.</p>

<p style="margin-left:9%; margin-top: 1em">-L|--list</p>

<p style="margin-left:14%;">This option allows you to look
at what services are available on a server. You use it as
smbclient -L host and a list should appear. The <i>-I</i>
option may be useful if your NetBIOS names don't match your
TCP/IP DNS host names or if you are trying to reach a host
on another network.</p>


<p style="margin-left:9%; margin-top: 1em">-b|--send-buffer
buffersize</p>

<p style="margin-left:14%;">When sending or receiving
files, smbclient uses an internal buffer sized by the
maximum number of allowed requests to the connected server.
This command allows this size to be set to any range between
0 (which means use the default server controlled size) bytes
and 16776960 (0xFFFF00) bytes. Using the server controlled
size is the most efficient as smbclient will pipeline as
many simultaneous reads or writes needed to keep the server
as busy as possible. Setting this to any other size will
slow down the transfer. This can also be set using the
iosize command inside smbclient.</p>

<p style="margin-left:9%; margin-top: 1em">-B|--browse</p>

<p style="margin-left:14%;">Browse SMB servers using
DNS.</p>

<p style="margin-left:9%; margin-top: 1em">-t|--timeout
&lt;timeout-seconds&gt;</p>

<p style="margin-left:14%;">This allows the user to tune
the default timeout used for each SMB request. The default
setting is 20 seconds. Increase it if requests to the server
sometimes time out. This can happen when SMB3 encryption is
selected and smbclient is overwhelming the server with
requests. This can also be set using the timeout command
inside smbclient.</p>

<p style="margin-left:9%; margin-top: 1em">-T|--tar tar
options</p>

<p style="margin-left:14%;">smbclient may be used to create
tar(1) compatible backups of all the files on an SMB/CIFS
share. The secondary tar flags that can be given to this
option are:</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>c</i>
- Create a tar backup archive on the local system. Must be
followed by the name of a tar file, tape device or
&quot;-&quot; for standard output. If using standard output
you must turn the log level to its lowest value -d0 to avoid
corrupting your tar file. This flag is mutually exclusive
with the <i>x</i> flag.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>n</i>
- In combination with the <i>c</i> flag, do not actually
create the archive, instead perform a dry run that attempts
everything that involved in creation other than writing the
file.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>x</i>
- Extract (restore) a local tar file back to a share. Unless
the -D option is given, the tar files will be restored from
the top level of the share. Must be followed by the name of
the tar file, device or &quot;-&quot; for standard input.
Mutually exclusive with the <i>c</i> flag. Restored files
have their creation times (mtime) set to the date saved in
the tar file. Directories currently do not get their
creation dates restored properly.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>I</i>
- Include files and directories. Is the default behavior
when filenames are specified above. Causes files to be
included in an extract or create (and therefore everything
else to be excluded). See example below. Filename globbing
works in one of two ways. See <i>r</i> below.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>X</i>
- Exclude files and directories. Causes files to be excluded
from an extract or create. See example below. Filename
globbing works in one of two ways. See <i>r</i> below.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>F</i>
- File containing a list of files and directories. The
<i>F</i> causes the name following the tarfile to create to
be read as a filename that contains a list of files and
directories to be included in an extract or create (and
therefore everything else to be excluded). See example
below. Filename globbing works in one of two ways. See
<i>r</i> below.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>b</i>
- Blocksize. Must be followed by a valid (greater than zero)
blocksize. Causes tar file to be written out in
blocksize*TBLOCK (512 byte) blocks.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>g</i>
- Incremental. Only back up files that have the archive bit
set. Useful only with the <i>c</i> flag.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>v</i>
- Verbose. Makes tar print out the files being processed. By
default tar is not verbose. This is the same as tarmode
verbose.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>r</i>
- Use wildcard matching to include or exclude.
Deprecated.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>N</i>
- Newer than. Must be followed by the name of a file whose
date is compared against files found on the share during a
create. Only files newer than the file specified are backed
up to the tar file. Useful only with the <i>c</i> flag.</p>

<p style="margin-left:28%; margin-top: 1em">&bull; <i>a</i>
- Set archive bit. Causes the archive bit to be reset when a
file is backed up. Useful with the <i>g</i> and <i>c</i>
flags.</p>

<p style="margin-left:14%; margin-top: 1em"><i>Tar Long
File Names</i></p>

<p style="margin-left:14%; margin-top: 1em">smbclient's tar
option now supports long file names both on backup and
restore. However, the full path name of the file must be
less than 1024 bytes. Also, when a tar archive is created,
smbclient's tar option places all files in the archive with
relative names, not absolute names.</p>

<p style="margin-left:14%; margin-top: 1em"><i>Tar
Filenames</i></p>

<p style="margin-left:14%; margin-top: 1em">All file names
can be given as DOS path names (with '\\' as the component
separator) or as UNIX path names (with '/' as the component
separator).</p>


<p style="margin-left:14%; margin-top: 1em"><i>Examples</i></p>

<p style="margin-left:14%; margin-top: 1em">Restore from
tar file backup.tar into myshare on mypc (no password on
share).</p>

<p style="margin-left:14%; margin-top: 1em">smbclient
//mypc/myshare &quot;&quot; -N -Tx backup.tar</p>

<p style="margin-left:14%; margin-top: 1em">Restore
everything except users/docs</p>

<p style="margin-left:14%; margin-top: 1em">smbclient
//mypc/myshare &quot;&quot; -N -TXx backup.tar
users/docs</p>

<p style="margin-left:14%; margin-top: 1em">Create a tar
file of the files beneath users/docs.</p>

<p style="margin-left:14%; margin-top: 1em">smbclient
//mypc/myshare &quot;&quot; -N -Tc backup.tar users/docs</p>

<p style="margin-left:14%; margin-top: 1em">Create the same
tar file as above, but now use a DOS path name.</p>

<p style="margin-left:14%; margin-top: 1em">smbclient
//mypc/myshare &quot;&quot; -N -Tc backup.tar
users\edocs</p>

<p style="margin-left:14%; margin-top: 1em">Create a tar
file of the files listed in the file tarlist.</p>

<p style="margin-left:14%; margin-top: 1em">smbclient
//mypc/myshare &quot;&quot; -N -TcF backup.tar tarlist</p>

<p style="margin-left:14%; margin-top: 1em">Create a tar
file of all the files and directories in the share.</p>

<p style="margin-left:14%; margin-top: 1em">smbclient
//mypc/myshare &quot;&quot; -N -Tc backup.tar *</p>

<p style="margin-left:9%; margin-top: 1em">-D|--directory
initial directory</p>

<p style="margin-left:14%;">Change to initial directory
before starting. Probably only of any use with the tar -T
option.</p>

<p style="margin-left:9%; margin-top: 1em">-c|--command
command string</p>

<p style="margin-left:14%;">command string is a
semicolon-separated list of commands to be executed instead
of prompting from stdin. <i><br>
-N</i> is implied by <i>-c</i>.</p>

<p style="margin-left:14%; margin-top: 1em">This is
particularly useful in scripts and for printing stdin to the
server, e.g. -c 'print -'.</p>

<p style="margin-left:9%; margin-top: 1em">-?|--help</p>

<p style="margin-left:14%;">Print a summary of command line
options.</p>

<p style="margin-left:9%; margin-top: 1em">--usage</p>

<p style="margin-left:14%;">Display brief usage
message.</p>


<p style="margin-left:9%; margin-top: 1em">-d|--debuglevel=level</p>

<p style="margin-left:14%;"><i>level</i> is an integer from
0 to 10. The default value if this parameter is not
specified is 1 for client applications.</p>

<p style="margin-left:14%; margin-top: 1em">The higher this
value, the more detail will be logged to the log files about
the activities of the server. At level 0, only critical
errors and serious warnings will be logged. Level 1 is a
reasonable level for day-to-day running - it generates a
small amount of information about operations carried
out.</p>

<p style="margin-left:14%; margin-top: 1em">Levels above 1
will generate considerable amounts of log data, and should
only be used when investigating a problem. Levels above 3
are designed for use only by developers and generate HUGE
amounts of log data, most of which is extremely cryptic.</p>

<p style="margin-left:14%; margin-top: 1em">Note that
specifying this parameter here will override the
<b><font color="#0000FF">log level</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--debug-stdout</font></p>

<p style="margin-left:14%;"><font color="#000000">This will
redirect debug output to STDOUT. By default all clients are
logging to STDERR.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--configfile=&lt;configuration
file&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">The file
specified contains the configuration details required by the
client. The information in this file can be general for
client and server or only provide client specific like
options such as</font> <b><font color="#0000FF">client smb
encrypt</font></b><font color="#000000">. See
/etc/samba/smb.conf for more information. The default
configuration file name is determined at compile
time.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--option=&lt;name&gt;=&lt;value&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Set the
<b>smb.conf</b>(5) option &quot;&lt;name&gt;&quot; to value
&quot;&lt;value&gt;&quot; from the command line. This
overrides compiled-in defaults and options read from the
configuration file. If a name or a value includes a space,
wrap whole --option=name=value into quotes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-l|--log-basename=logdirectory</font></p>

<p style="margin-left:14%;"><font color="#000000">Base
directory name for log/debug files. The extension
<b>&quot;.progname&quot;</b> will be appended (e.g.
log.smbclient, log.smbd, etc...). The log file is never
removed by the client.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--leak-report</font></p>

<p style="margin-left:14%;"><font color="#000000">Enable
talloc leak reporting on exit.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--leak-report-full</font></p>

<p style="margin-left:14%;"><font color="#000000">Enable
full talloc leak reporting on exit.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-V|--version</font></p>

<p style="margin-left:14%;"><font color="#000000">Prints
the program version number.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-R|--name-resolve=NAME-RESOLVE-ORDER</font></p>

<p style="margin-left:14%;"><font color="#000000">This
option is used to determine what naming services and in what
order to resolve host names to IP addresses. The option
takes a space-separated string of different name resolution
options. The best is to wrap the whole
--name-resolve=NAME-RESOLVE-ORDER into quotes.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">The
options are: &quot;lmhosts&quot;, &quot;host&quot;,
&quot;wins&quot; and &quot;bcast&quot;. They cause names to
be resolved as follows:</font></p>


<p style="margin-left:28%; margin-top: 1em"><font color="#000000">&bull;
<b>lmhosts</b>: Lookup an IP address in the Samba lmhosts
file. If the line in lmhosts has no name type attached to
the NetBIOS name (see the <b>lmhosts</b>(5) for details)
then any name type matches for lookup.</font></p>


<p style="margin-left:28%; margin-top: 1em"><font color="#000000">&bull;
<b>host</b>: Do a standard host name to IP address
resolution, using the system /etc/hosts, NIS, or DNS
lookups. This method of name resolution is operating system
dependent, for instance on IRIX or Solaris this may be
controlled by the /etc/nsswitch.conf file). Note that this
method is only used if the NetBIOS name type being queried
is the 0x20 (server) name type, otherwise it is
ignored.</font></p>


<p style="margin-left:28%; margin-top: 1em"><font color="#000000">&bull;
<b>wins</b>: Query a name with the IP address listed in the
<i>wins server</i> parameter. If no WINS server has been
specified this method will be ignored.</font></p>


<p style="margin-left:28%; margin-top: 1em"><font color="#000000">&bull;
<b>bcast</b>: Do a broadcast on each of the known local
interfaces listed in the <i>interfaces</i> parameter. This
is the least reliable of the name resolution methods as it
depends on the target host being on a locally connected
subnet.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
this parameter is not set then the name resolve order
defined in the /etc/samba/smb.conf file parameter
(</font><b><font color="#0000FF">name resolve
order</font></b><font color="#000000">) will be
used.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">The
default order is lmhosts, host, wins, bcast. Without this
parameter or any entry in the</font>
<b><font color="#0000FF">name resolve order</font></b>
<font color="#000000">parameter of the /etc/samba/smb.conf
file, the name resolution methods will be attempted in this
order.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-O|--socket-options=SOCKETOPTIONS</font></p>

<p style="margin-left:14%;"><font color="#000000">TCP
socket options to set on the client socket. See the socket
options parameter in the /etc/samba/smb.conf manual page for
the list of valid options.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-m|--max-protocol=MAXPROTOCOL</font></p>

<p style="margin-left:14%;"><font color="#000000">The value
of the parameter (a string) is the highest protocol level
that will be supported by the client.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">client max protocol</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-n|--netbiosname=NETBIOSNAME</font></p>

<p style="margin-left:14%;"><font color="#000000">This
option allows you to override the NetBIOS name that Samba
uses for itself. This is identical to setting the</font>
<b><font color="#0000FF">netbios name</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file. However, a command line setting will take precedence
over settings in /etc/samba/smb.conf.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--netbios-scope=SCOPE</font></p>

<p style="margin-left:14%;"><font color="#000000">This
specifies a NetBIOS scope that nmblookup will use to
communicate with when generating NetBIOS names. For details
on the use of NetBIOS scopes, see rfc1001.txt and
rfc1002.txt. NetBIOS scopes are <i>very</i> rarely used,
only set this parameter if you are the system administrator
in charge of all the NetBIOS systems you communicate
with.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-W|--workgroup=WORKGROUP</font></p>

<p style="margin-left:14%;"><font color="#000000">Set the
SMB domain of the username. This overrides the default
domain which is the domain defined in smb.conf. If the
domain specified is the same as the servers NetBIOS name, it
causes the client to log on using the servers local SAM (as
opposed to the Domain SAM).</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">workgroup</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-r|--realm=REALM</font></p>

<p style="margin-left:14%;"><font color="#000000">Set the
realm for the domain.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">realm</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-U|--user=[DOMAIN\]USERNAME[%PASSWORD]</font></p>

<p style="margin-left:14%;"><font color="#000000">Sets the
SMB username or username and password.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
%PASSWORD is not specified, the user will be prompted. The
client will first check the <b>USER</b> environment variable
(which is also permitted to also contain the password
separated by a %), then the <b>LOGNAME</b> variable (which
is not permitted to contain a password) and if either
exists, the value is used. If these environmental variables
are not found, the username found in a Kerberos Credentials
cache may be used.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">A
third option is to use a credentials file which contains the
plaintext of the username and password. This option is
mainly provided for scripts where the admin does not wish to
pass the credentials on the command line or via environment
variables. If this method is used, make certain that the
permissions on the file restrict access from unwanted users.
See the <i>-A</i> for more details.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Be
cautious about including passwords in scripts or passing
user-supplied values onto the command line. For security it
is better to let the Samba client tool ask for the password
if needed, or obtain the password once with
kinit.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">While
Samba will attempt to scrub the password from the process
title (as seen in ps), this is after startup and so is
subject to a race.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-N|--no-pass</font></p>

<p style="margin-left:14%;"><font color="#000000">If
specified, this parameter suppresses the normal password
prompt from the client to the user. This is useful when
accessing a service that does not require a
password.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Unless
a password is specified on the command line or this
parameter is specified, the client will request a
password.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
a password is specified on the command line and this option
is also defined the password on the command line will be
silently ignored and no password will be used.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--password</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify
the password on the commandline.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Be
cautious about including passwords in scripts or passing
user-supplied values onto the command line. For security it
is better to let the Samba client tool ask for the password
if needed, or obtain the password once with
kinit.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
--password is not specified, the tool will check the
<b>PASSWD</b> environment variable, followed by
<b>PASSWD_FD</b> which is expected to contain an open file
descriptor (FD) number.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Finally
it will check <b>PASSWD_FILE</b> (containing a file path to
be opened). The file should only contain the password. Make
certain that the permissions on the file restrict access
from unwanted users!</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">While
Samba will attempt to scrub the password from the process
title (as seen in ps), this is after startup and so is
subject to a race.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--pw-nt-hash</font></p>

<p style="margin-left:14%;"><font color="#000000">The
supplied password is the NT hash.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-A|--authentication-file=filename</font></p>

<p style="margin-left:14%;"><font color="#000000">This
option allows you to specify a file from which to read the
username and password used in the connection. The format of
the file is:</font></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%">
</td>
<td width="6%">
</td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">


<p><font color="#000000">username =
&lt;value&gt;</font></p> </td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%">
</td>
<td width="6%">
</td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">


<p><font color="#000000">password =
&lt;value&gt;</font></p> </td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%">
</td>
<td width="6%">
</td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">
</td></tr>
<tr valign="top" align="left">
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="7%"></td>
<td width="6%"></td>
<td width="68%">


<p><font color="#000000">domain = &lt;value&gt;</font></p></td></tr>
</table>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Make
certain that the permissions on the file restrict access
from unwanted users!</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-P|--machine-pass</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
stored machine account password.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--simple-bind-dn=DN</font></p>

<p style="margin-left:14%;"><font color="#000000">DN to use
for a simple bind.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--use-kerberos=desired|required|off</font></p>

<p style="margin-left:14%;"><font color="#000000">This
parameter determines whether Samba client tools will try to
authenticate using Kerberos. For Kerberos authentication you
need to use dns names instead of IP addresses when
connecting to a service.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">client use kerberos</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--use-krb5-ccache=CCACHE</font></p>


<p style="margin-left:14%;"><font color="#000000">Specifies
the credential cache location for Kerberos
authentication.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">This
will set --use-kerberos=required too.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--use-winbind-ccache</font></p>

<p style="margin-left:14%;"><font color="#000000">Try to
use the credential cache by winbind.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">--client-protection=sign|encrypt|off</font></p>

<p style="margin-left:14%;"><font color="#000000">Sets the
connection protection the client tool should use.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that specifying this parameter here will override the</font>
<b><font color="#0000FF">client protection</font></b>
<font color="#000000">parameter in the /etc/samba/smb.conf
file.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">In
case you need more fine grained control you can use:
--option=clientsmbencrypt=OPTION,
--option=clientipcsigning=OPTION,
--option=clientsigning=OPTION.</font></p>

<h2>OPERATIONS
<a name="OPERATIONS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Once
the client is running, the user is presented with a prompt
:</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">smb:\&gt;</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
backslash (&quot;\\&quot;) indicates the current working
directory on the server, and will change if the current
working directory is changed.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
prompt indicates that the client is ready and waiting to
carry out a user command. Each command is a single word,
optionally followed by parameters specific to that command.
Command and parameters are space-delimited unless these
notes specifically state otherwise. All commands are
case-insensitive. Parameters to commands may or may not be
case sensitive, depending on the command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">You
can specify file names which have spaces in them by quoting
the name with double quotes, for example &quot;a long file
name&quot;.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Parameters
shown in square brackets (e.g., &quot;[parameter]&quot;) are
optional. If not given, the command will use suitable
defaults. Parameters shown in angle brackets (e.g.,
&quot;&lt;parameter&gt;&quot;) are required.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Note
that all commands operating on the server are actually
performed by issuing a request to the server. Thus the
behavior may vary from server to server, depending on how
the server was implemented.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
commands available are given here in alphabetical
order.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">?
[command]</font></p>

<p style="margin-left:14%;"><font color="#000000">If
<i>command</i> is specified, the ? command will display a
brief informative message about the specified command. If no
command is specified, a list of available commands will be
displayed.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">!
[shell command]</font></p>

<p style="margin-left:14%;"><font color="#000000">If
<i>shell command</i> is specified, the ! command will
execute a shell locally and run the specified shell command.
If no command is specified, a local shell will be
run.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">allinfo
file</font></p>

<p style="margin-left:14%;"><font color="#000000">The
client will request that the server return all known
information about a file or directory (including
streams).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">altname
file</font></p>

<p style="margin-left:14%;"><font color="#000000">The
client will request that the server return the
&quot;alternate&quot; name (the 8.3 name) for a file or
directory.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">archive
&lt;number&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Sets the
archive level when operating on files. 0 means ignore the
archive bit, 1 means only operate on files with this bit
set, 2 means only operate on files with this bit set and
reset it after operation, 3 means operate on all files and
reset it after operation. The default is 0.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">backup</font></p>

<p style="margin-left:14%;"><font color="#000000">Toggle
the state of the &quot;backup intent&quot; flag sent to the
server on directory listings and file opens. If the
&quot;backup intent&quot; flag is true, the server will try
and bypass some file system checks if the user has been
granted SE_BACKUP or SE_RESTORE privileges. This state is
useful when performing a backup or restore
operation.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">blocksize
&lt;number&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Sets the
blocksize parameter for a tar operation. The default is 20.
Causes tar file to be written out in blocksize*TBLOCK
(normally 512 byte) units.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">cancel
jobid0 [jobid1] ... [jobidN]</font></p>

<p style="margin-left:14%;"><font color="#000000">The
client will request that the server cancel the printjobs
identified by the given numeric print job ids.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">case_sensitive</font></p>

<p style="margin-left:14%;"><font color="#000000">Toggles
the setting of the flag in SMB packets that tells the server
to treat filenames as case sensitive. Set to OFF by default
(tells file server to treat filenames as case insensitive).
Only currently affects Samba 3.0.5 and above file servers
with the case sensitive parameter set to auto in the
smb.conf.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">cd
&lt;directory name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">If
&quot;directory name&quot; is specified, the current working
directory on the server will be changed to the directory
specified. This operation will fail if for any reason the
specified directory is inaccessible.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
no directory name is specified, the current working
directory on the server will be reported.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">chmod
file mode in octal</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server change the UNIX permissions to the
given octal mode, in standard UNIX format.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">chown
file uid gid</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server change the UNIX user and group
ownership to the given decimal values. Note there is
currently no way to remotely look up the UNIX uid and gid
values for a given name. This may be addressed in future
versions of the CIFS UNIX extensions.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">close
&lt;fileid&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Closes a
file explicitly opened by the open command. Used for
internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">del
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">The
client will request that the server attempt to delete all
files matching <i>mask</i> from the current working
directory on the server.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">deltree
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">The
client will request that the server attempt to delete all
files and directories matching <i>mask</i> from the current
working directory on the server. Note this will recursively
delete files and directories within the directories selected
even without the recurse command being set. If any of the
delete requests fail the command will stop processing at
that point, leaving files and directories not yet processed
untouched. This is by design.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">dir
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">A list of
the files matching <i>mask</i> in the current working
directory on the server will be retrieved from the server
and displayed.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">du
&lt;filename&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Does a
directory listing and then prints out the current disk usage
and free space on a share.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">echo
&lt;number&gt; &lt;data&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Does an
SMBecho request to ping the server. Used for internal Samba
testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">exit</font></p>


<p style="margin-left:14%;"><font color="#000000">Terminate
the connection with the server and exit from the
program.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">get
&lt;remote file name&gt; [local file name]</font></p>

<p style="margin-left:14%;"><font color="#000000">Copy the
file called remote file name from the server to the machine
running the client. If specified, name the local copy local
file name. Note that all transfers in smbclient are binary.
See also the lowercase command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">getfacl
&lt;filename&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Requires
the server support the UNIX extensions. Requests and prints
the POSIX ACL on a file.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">hardlink
&lt;src&gt; &lt;dest&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Creates a
hardlink on the server using Windows CIFS
semantics.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">help
[command]</font></p>

<p style="margin-left:14%;"><font color="#000000">See the ?
command above.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">history</font></p>

<p style="margin-left:14%;"><font color="#000000">Displays
the command history.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">iosize
&lt;bytes&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">When
sending or receiving files, smbclient uses an internal
buffer sized by the maximum number of allowed requests to
the connected server. This command allows this size to be
set to any range between 0 (which means use the default
server controlled size) bytes and 16776960 (0xFFFF00) bytes.
Using the server controlled size is the most efficient as
smbclient will pipeline as many simultaneous reads or writes
needed to keep the server as busy as possible. Setting this
to any other size will slow down the transfer.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">lcd
[directory name]</font></p>

<p style="margin-left:14%;"><font color="#000000">If
<i>directory name</i> is specified, the current working
directory on the local machine will be changed to the
directory specified. This operation will fail if for any
reason the specified directory is inaccessible.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">If
no directory name is specified, the name of the current
working directory on the local machine will be
reported.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">link
target linkname</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server create a hard link between the
linkname and target files. The linkname file must not
exist.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">listconnect</font></p>

<p style="margin-left:14%;"><font color="#000000">Show the
current connections held for DFS purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">lock
&lt;filenum&gt; &lt;r|w&gt; &lt;hex-start&gt;
&lt;hex-len&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Tries to
set a POSIX fcntl lock of the given type on the given range.
Used for internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">logon
&lt;username&gt; &lt;password&gt;</font></p>


<p style="margin-left:14%;"><font color="#000000">Establishes
a new vuid for this session by logging on again. Replaces
the current vuid. Prints out the new vuid. Used for internal
Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">logoff</font></p>

<p style="margin-left:14%;"><font color="#000000">Logs the
user off the server, closing the session. Used for internal
Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">lowercase</font></p>

<p style="margin-left:14%;"><font color="#000000">Toggle
lowercasing of filenames for the get and mget
commands.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">When
lowercasing is toggled ON, local filenames are converted to
lowercase when using the get and mget commands. This is
often useful when copying (say) MSDOS files from a server,
because lowercase filenames are the norm on UNIX
systems.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">ls
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">See the
dir command above.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">mask
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command allows the user to set up a mask which will be used
during recursive operation of the mget and mput
commands.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">The
masks specified to the mget and mput commands act as filters
for directories rather than files when recursion is toggled
ON.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">The
mask specified with the mask command is necessary to filter
files within those directories. For example, if the mask
specified in an mget command is &quot;source*&quot; and the
mask specified with the mask command is &quot;*.c&quot; and
recursion is toggled ON, the mget command will retrieve all
files matching &quot;*.c&quot; in all directories below and
including all directories matching &quot;source*&quot; in
the current working directory.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that the value for mask defaults to blank (equivalent to
&quot;*&quot;) and remains so until the mask command is used
to change it. It retains the most recently specified value
indefinitely. To avoid unexpected results it would be wise
to change the value of mask back to &quot;*&quot; after
using the mget or mput commands.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">md
&lt;directory name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">See the
mkdir command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">mget
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Copy all
files matching <i>mask</i> from the server to the machine
running the client.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that <i>mask</i> is interpreted differently during recursive
operation and non-recursive operation - refer to the recurse
and mask commands for more information. Note that all
transfers in smbclient are binary. See also the lowercase
command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">mkdir
&lt;directory name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Create a
new directory on the server (user access privileges
permitting) with the specified name.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">more
&lt;file name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Fetch a
remote file and view it with the contents of your PAGER
environment variable.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">mput
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Copy all
files matching <i>mask</i> in the current working directory
on the local machine to the current working directory on the
server.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Note
that <i>mask</i> is interpreted differently during recursive
operation and non-recursive operation - refer to the recurse
and mask commands for more information. Note that all
transfers in smbclient are binary.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">notify
&lt;dir name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Query a
directory for change notifications. This command issues a
recursive filechangenotify call for all possible changes. As
changes come in will print one line per change. See
https://msdn.microsoft.com/en-us/library/dn392331.aspx for a
description of the action numbers that this command
prints.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">This
command never ends, it waits for event
indefinitely.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix</font></p>

<p style="margin-left:14%;"><font color="#000000">Query the
remote server to see if it supports the CIFS UNIX extensions
and prints out the list of capabilities supported. If so,
turn on POSIX pathname processing and large file read/writes
(if available),.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix_encrypt
&lt;domain&gt; &lt;username&gt; &lt;password&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Attempt to
negotiate SMB encryption on this connection. If smbclient
connected with kerberos credentials (-k) the arguments to
this command are ignored and the kerberos credentials are
used to negotiate GSSAPI signing and sealing instead. See
also the -e option to smbclient to force encryption on
initial connection. This command is new with Samba
3.2.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix_open
&lt;filename&gt; &lt;octal mode&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Opens a
remote file using the CIFS UNIX extensions and prints a
fileid. Used for internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix_mkdir
&lt;directoryname&gt; &lt;octal mode&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Creates a
remote directory using the CIFS UNIX extensions with the
given mode.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix_rmdir
&lt;directoryname&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Deletes a
remote directory using the CIFS UNIX extensions.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix_unlink
&lt;filename&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Deletes a
remote file using the CIFS UNIX extensions.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">posix_whoami</font></p>

<p style="margin-left:14%;"><font color="#000000">Query the
remote server for the user token using the CIFS UNIX
extensions WHOAMI call. Prints out the guest status, user,
group, group list and sid list that the remote server is
using on behalf of the logged on user.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">print
&lt;file name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Print the
specified file from the local machine through a printable
service on the server.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">prompt</font></p>

<p style="margin-left:14%;"><font color="#000000">Toggle
prompting for filenames during operation of the mget and
mput commands.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">When
toggled ON, the user will be prompted to confirm the
transfer of each file during these commands. When toggled
OFF, all specified files will be transferred without
prompting.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">put
&lt;local file name&gt; [remote file name]</font></p>

<p style="margin-left:14%;"><font color="#000000">Copy the
file called local file name from the machine running the
client to the server. If specified, name the remote copy
remote file name. Note that all transfers in smbclient are
binary. See also the lowercase command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">queue</font></p>

<p style="margin-left:14%;"><font color="#000000">Displays
the print queue, showing the job id, name, size and current
status.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">quit</font></p>

<p style="margin-left:14%;"><font color="#000000">See the
exit command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">readlink
symlinkname</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Print the
value of the symlink &quot;symlinkname&quot;.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">rd
&lt;directory name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">See the
rmdir command.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">recurse</font></p>

<p style="margin-left:14%;"><font color="#000000">Toggle
directory recursion for the commands mget and
mput.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">When
toggled ON, these commands will process all directories in
the source directory (i.e., the directory they are copying
from ) and will recurse into any that match the mask
specified to the command. Only files that match the mask
specified using the mask command will be retrieved. See also
the mask command.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">When
recursion is toggled OFF, only files from the current
working directory on the source machine that match the mask
specified to the mget or mput commands will be copied, and
any mask specified using the mask command will be
ignored.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">rename
&lt;old filename&gt; &lt;new filename&gt; [-f]</font></p>

<p style="margin-left:14%;"><font color="#000000">Rename
files in the current working directory on the server from
<i>old filename</i> to <i>new filename</i>. The optional -f
switch allows for superseding the destination file, if it
exists. This is supported by NT1 protocol dialect and SMB2
protocol family.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">rm
&lt;mask&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Remove
all files matching <i>mask</i> from the current working
directory on the server.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">rmdir
&lt;directory name&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Remove
the specified directory (user access privileges permitting)
from the server.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">scopy
&lt;source filename&gt; &lt;destination
filename&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Attempt
to copy a file on the server using the most efficient
server-side copy calls. Falls back to using read then write
if server doesn't support server-side copy.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">setmode
&lt;filename&gt; &lt;perm=[+|\-]rsha&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">A version
of the DOS attrib command to set file permissions. For
example:</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">setmode
myfile +r</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">would
make myfile read only.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">showconnect</font></p>

<p style="margin-left:14%;"><font color="#000000">Show the
currently active connection held for DFS
purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">stat
file</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests the UNIX basic info level and prints out the same
info that the Linux stat command would about the file. This
includes the size, blocks used on disk, file type,
permissions, inode number, number of links and finally the
three timestamps (access, modify and change). If the file is
a special file (symlink, character or block device, fifo or
socket) then extra information may also be
printed.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">symlink
target linkname</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. The client
requests that the server create a symbolic hard link between
the target and linkname files. The linkname file must not
exist. Note that the server will not create a link to any
path that lies outside the currently connected share. This
is enforced by the Samba server.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">tar
&lt;c|x&gt;[IXbgNa]</font></p>

<p style="margin-left:14%;"><font color="#000000">Performs
a tar operation - see the <i>-T</i> command line option
above. Behavior may be affected by the tarmode command (see
below). Using g (incremental) and N (newer) will affect
tarmode settings. Note that using the &quot;-&quot; option
with tar x may not work - use the command line option
instead.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">blocksize
&lt;blocksize&gt;</font></p>


<p style="margin-left:14%;"><font color="#000000">Blocksize.
Must be followed by a valid (greater than zero) blocksize.
Causes tar file to be written out in <i>blocksize</i>*TBLOCK
(512 byte) blocks.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">tarmode
&lt;full|inc|reset|noreset|system|nosystem|hidden|nohidden|verbose|noverbose&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Changes
tar's behavior with regard to DOS attributes. There are 4
modes which can be turned on or off.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Incremental
mode (default off). When off (using full) tar will back up
everything regardless of the <i>archive</i> bit setting.
When on (using inc), tar will only back up files with the
archive bit set.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Reset
mode (default off). When on (using reset), tar will remove
the archive bit on all files it backs up (implies read/write
share). Use noreset to turn off.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">System
mode (default on). When off, tar will not backup system
files. Use nosystem to turn off.</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">Hidden
mode (default on). When off, tar will not backup hidden
files. Use nohidden to turn off.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">timeout
&lt;per-operation timeout in seconds&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
allows the user to tune the default timeout used for each
SMB request. The default setting is 20 seconds. Increase it
if requests to the server sometimes time out. This can
happen when SMB3 encryption is selected and smbclient is
overwhelming the server with requests.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">unlock
&lt;filenum&gt; &lt;hex-start&gt; &lt;hex-len&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">This
command depends on the server supporting the CIFS UNIX
extensions and will fail if the server does not. Tries to
unlock a POSIX fcntl lock on the given range. Used for
internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">volume</font></p>

<p style="margin-left:14%;"><font color="#000000">Prints
the current volume name of the share.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">vuid
&lt;number&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Changes
the currently used vuid in the protocol to the given
arbitrary number. Without an argument prints out the current
vuid being used. Used for internal Samba testing
purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">tcon
&lt;sharename&gt;</font></p>


<p style="margin-left:14%;"><font color="#000000">Establishes
a new tree connect (connection to a share). Replaces the
current tree connect. Prints the new tid (tree id). Used for
internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">tdis</font></p>

<p style="margin-left:14%;"><font color="#000000">Close the
current share connection (tree disconnect). Used for
internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">tid
&lt;number&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Changes
the current tree id (tid) in the protocol to a new arbitrary
number. Without an argument, it prints out the tid currently
used. Used for internal Samba testing purposes.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">utimes
&lt;filename&gt; &lt;create time&gt; &lt;access time&gt;
&lt;write time&gt; &lt; change time&gt;</font></p>

<p style="margin-left:14%;"><font color="#000000">Changes
the timestamps on a file by name. Times should be specified
in the format [YY]YY:MM:DD-HH:MM:SS or -1 for no
change.</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Some
servers are fussy about the case of supplied usernames,
passwords, share names (AKA service names) and machine
names. If you fail to connect try giving all parameters in
uppercase.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">It
is often necessary to use the -n option when connecting to
some types of servers. For example OS/2 LanManager insists
on a valid NetBIOS name being used, so you need to supply a
valid name that would be known to the server.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">smbclient
supports long file names where the server supports the
LANMAN2 protocol or above.</font></p>

<h2>ENVIRONMENT VARIABLES
<a name="ENVIRONMENT VARIABLES"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">See
the --user and --password options for details on ways to
specify a username and password via an environment
variable.</font></p>

<h2>INSTALLATION
<a name="INSTALLATION"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
location of the client program is a matter for individual
system administrators. The following are thus suggestions
only.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">It
is recommended that the smbclient software be installed in
the /usr/local/samba/bin/ or /usr/samba/bin/ directory, this
directory readable by all, writeable only by root. The
client program itself should be executable by all. The
client should <i>NOT</i> be setuid or setgid!</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
client log files should be put in a directory readable and
writeable only by the user.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">To
test the client, you will need to know the name of a running
SMB/CIFS server. It is possible to run <b>smbd</b>(8) as an
ordinary user - running that server as a daemon on a
user-accessible port (typically any port number over 1024)
would provide a suitable test server.</font></p>

<h2>DIAGNOSTICS
<a name="DIAGNOSTICS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Most
diagnostics issued by the client are logged in a specified
log file. The log file name is specified at compile time,
but may be overridden on the command line.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
number and nature of diagnostics available depends on the
debug level used by the client. If you have problems, set
the debug level to 3 and peruse the log files.</font></p>

<h2>VERSION
<a name="VERSION"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">This
man page is part of version 4.22.0 of the Samba
suite.</font></p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
original Samba software and related utilities were created
by Andrew Tridgell. Samba is now developed by the Samba Team
as an Open Source project similar to the way the Linux
kernel is developed.</font></p>
<hr>
</body>
</html>
