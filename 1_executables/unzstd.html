<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:31:48 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>ZSTD</title>

</head>
<body>

<h1 align="center">ZSTD</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#Concatenation with .zst Files">Concatenation with .zst Files</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#Integer Suffixes and Special Values">Integer Suffixes and Special Values</a><br>
<a href="#Operation Mode">Operation Mode</a><br>
<a href="#Operation Modifiers">Operation Modifiers</a><br>
<a href="#gzip Operation Modifiers">gzip Operation Modifiers</a><br>
<a href="#Environment Variables">Environment Variables</a><br>
<a href="#ADVANCED COMPRESSION OPTIONS">ADVANCED COMPRESSION OPTIONS</a><br>
<a href="#--zstd[=options]:">--zstd[=options]:</a><br>
<a href="#Example">Example</a><br>
<a href="#-B#:">-B#:</a><br>
<a href="#DICTIONARY BUILDER">DICTIONARY BUILDER</a><br>
<a href="#BENCHMARK">BENCHMARK</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#BUGS">BUGS</a><br>
<a href="#AUTHOR">AUTHOR</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>zstd</b> -
zstd, zstdmt, unzstd, zstdcat - Compress or decompress .zst
files</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>zstd</b>
[<i>OPTIONS</i>] [-|<i>INPUT-FILE</i>] [-o
<i>OUTPUT-FILE</i>]</p>

<p style="margin-left:9%; margin-top: 1em"><b>zstdmt</b> is
equivalent to <b>zstd -T0</b></p>

<p style="margin-left:9%; margin-top: 1em"><b>unzstd</b> is
equivalent to <b>zstd -d</b></p>

<p style="margin-left:9%; margin-top: 1em"><b>zstdcat</b>
is equivalent to <b>zstd -dcf</b></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>zstd</b> is a
fast lossless compression algorithm and data compression
tool, with command line syntax similar to <b>gzip</b>(1) and
<b>xz</b>(1). It is based on the <b>LZ77</b> family, with
further FSE &amp; huff0 entropy stages. <b>zstd</b> offers
highly configurable compression speed, from fast modes at
&gt; 200 MB/s per core, to strong modes with excellent
compression ratios. It also features a very fast decoder,
with speeds &gt; 500 MB/s per core, which remains roughly
stable at all compression settings.</p>

<p style="margin-left:9%; margin-top: 1em"><b>zstd</b>
command line syntax is generally similar to gzip, but
features the following few differences:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p>Source files are preserved by default. It&acute;s
possible to remove them automatically by using the
<b>--rm</b> command.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p>When compressing a single file, <b>zstd</b> displays
progress notifications and result summary by default. Use
<b>-q</b> to turn them off.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>zstd</b> displays a short help page when command line
is an error. Use <b>-q</b> to turn it off.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>zstd</b> does not accept input from console, though
it does accept <b>stdin</b> when it&acute;s not the
console.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>zstd</b> does not store the input&acute;s filename or
attributes, only its contents.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em"><b>zstd</b>
processes each <i>file</i> according to the selected
operation mode. If no <i>files</i> are given or <i>file</i>
is <b>-</b>, <b>zstd</b> reads from standard input and
writes the processed data to standard output. <b>zstd</b>
will refuse to write compressed data to standard output if
it is a terminal: it will display an error message and skip
the file. Similarly, <b>zstd</b> will refuse to read
compressed data from standard input if it is a terminal.</p>

<p style="margin-left:9%; margin-top: 1em">Unless
<b>--stdout</b> or <b>-o</b> is specified, <i>files</i> are
written to a new file whose name is derived from the source
<i>file</i> name:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p>When compressing, the suffix <b>.zst</b> is appended to
the source filename to get the target filename.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p>When decompressing, the <b>.zst</b> suffix is removed
from the source filename to get the target filename</p></td></tr>
</table>

<h3>Concatenation with .zst Files
<a name="Concatenation with .zst Files"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">It is possible
to concatenate multiple <b>.zst</b> files. <b>zstd</b> will
decompress such agglomerated file as if it was a single
<b>.zst</b> file.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>


<h3>Integer Suffixes and Special Values
<a name="Integer Suffixes and Special Values"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">In most places
where an integer argument is expected, an optional suffix is
supported to easily indicate large integers. There must be
no space between the integer and the suffix.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>KiB</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Multiply the integer by 1,024 (2&#710;10). <b>Ki</b>,
<b>K</b>, and <b>KB</b> are accepted as synonyms for
<b>KiB</b>.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>MiB</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Multiply the integer by 1,048,576 (2&#710;20).
<b>Mi</b>, <b>M</b>, and <b>MB</b> are accepted as synonyms
for <b>MiB</b>.</p></td></tr>
</table>

<h3>Operation Mode
<a name="Operation Mode"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">If multiple
operation mode options are given, the last one takes effect.
<b><br>
-z</b>, <b>--compress</b></p>

<p style="margin-left:18%;">Compress. This is the default
operation mode when no operation mode option is specified
and no other operation mode is implied from the command name
(for example, <b>unzstd</b> implies
<b>--decompress</b>).</p>

<p style="margin-left:9%;"><b>-d</b>, <b>--decompress</b>,
<b>--uncompress</b></p>

<p style="margin-left:18%;">Decompress.</p>

<p style="margin-left:9%;"><b>-t</b>, <b>--test</b></p>

<p style="margin-left:18%;">Test the integrity of
compressed <i>files</i>. This option is equivalent to
<b>--decompress --stdout &gt; /dev/null</b>, decompressed
data is discarded and checksummed for errors. No files are
created or removed.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>-b#</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Benchmark file(s) using compression level <i>#</i>. See
<i>BENCHMARK</i> below for a description of this
operation.</p> </td></tr>
</table>

<p style="margin-left:9%;"><b>--train FILES</b></p>

<p style="margin-left:18%;">Use <i>FILES</i> as a training
set to create a dictionary. The training set should contain
a lot of small files (&gt; 100). See <i>DICTIONARY
BUILDER</i> below for a description of this operation.</p>

<p style="margin-left:9%;"><b>-l</b>, <b>--list</b></p>

<p style="margin-left:18%;">Display information related to
a zstd compressed file, such as size, ratio, and checksum.
Some of these fields may not be available. This
command&acute;s output can be augmented with the <b>-v</b>
modifier.</p>

<h3>Operation Modifiers
<a name="Operation Modifiers"></a>
</h3>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>-#</b>: selects <b>#</b>
compression level [1-19] (default: 3). Higher compression
levels <i>generally</i> produce higher compression ratio at
the expense of speed and memory. A rough rule of thumb is
that compression speed is expected to be divided by 2 every
2 levels. Technically, each level is mapped to a set of
advanced parameters (that can also be modified individually,
see below). Because the compressor&acute;s behavior highly
depends on the content to compress, there&acute;s no
guarantee of a smooth progression from one level to
another.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--ultra</b>: unlocks high compression levels 20+
(maximum 22), using a lot more memory. Note that
decompression will also require more memory when using these
levels.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--fast[=#]</b>: switch to ultra-fast compression
levels. If <b>=#</b> is not present, it defaults to
<b>1</b>. The higher the value, the faster the compression
speed, at the cost of some compression ratio. This setting
overwrites compression level if one was set previously.
Similarly, if a compression level is set after
<b>--fast</b>, it overrides it.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-T#</b>, <b>--threads=#</b>: Compress using <b>#</b>
working threads (default: 1). If <b>#</b> is 0, attempt to
detect and use the number of physical CPU cores. In all
cases, the nb of threads is capped to
<b>ZSTDMT_NBWORKERS_MAX</b>, which is either 64 in 32-bit
mode, or 256 for 64-bit environments. This modifier does
nothing if <b>zstd</b> is compiled without multithread
support.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--single-thread</b>: Use a single thread for both I/O
and compression. As compression is serialized with I/O, this
can be slightly slower. Single-thread mode features
significantly lower memory usage, which can be useful for
systems with limited amount of memory, such as 32-bit
systems.</p> </td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em">Note 1: this
mode is the only available one when multithread support is
disabled.</p>

<p style="margin-left:14%; margin-top: 1em">Note 2: this
mode is different from <b>-T1</b>, which spawns 1
compression thread in parallel with I/O. Final compressed
result is also slightly different from <b>-T1</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">



<p style="margin-top: 1em"><b>--auto-threads={physical,logical}
(default: physical)</b>: When using a default amount of
threads via <b>-T0</b>, choose the default based on the
number of detected physical or logical cores.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--adapt[=min=#,max=#]</b>: <b>zstd</b> will
dynamically adapt compression level to perceived I/O
conditions. Compression level adaptation can be observed
live by using command <b>-v</b>. Adaptation can be
constrained between supplied <b>min</b> and <b>max</b>
levels. The feature works when combined with multi-threading
and <b>--long</b> mode. It does not work with
<b>--single-thread</b>. It sets window size to 8 MiB by
default (can be changed manually, see <b>wlog</b>). Due to
the chaotic nature of dynamic adaptation, compressed result
is not reproducible.</p></td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em"><i>Note</i>: at
the time of this writing, <b>--adapt</b> can remain stuck at
low speed when combined with multiple worker threads
(&gt;=2).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>--long[=#]</b>: enables long
distance matching with <b># windowLog</b>, if <b>#</b> is
not present it defaults to <b>27</b>. This increases the
window size (<b>windowLog</b>) and memory usage for both the
compressor and decompressor. This setting is designed to
improve the compression ratio for files with long matches at
a large distance.</p></td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em">Note: If
<b>windowLog</b> is set to larger than 27,
<b>--long=windowLog</b> or <b>--memory=windowSize</b> needs
to be passed to the decompressor.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>--max</b>: set advanced
parameters to maximum compression. warning: this setting is
very slow and uses a lot of resources. It&acute;s
inappropriate for 32-bit mode and therefore disabled in this
mode.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-D DICT</b>: use <b>DICT</b> as Dictionary to
compress or decompress FILE(s)</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--patch-from FILE</b>: Specify the file to be used as
a reference point for zstd&acute;s diff engine. This is
effectively dictionary compression with some convenient
parameter selection, namely that <i>windowSize</i> &gt;
<i>srcSize</i>.</p> </td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em">Note: cannot
use both this and <b>-D</b> together.</p>

<p style="margin-left:14%; margin-top: 1em">Note:
<b>--long</b> mode will be automatically activated if
<i>chainLog</i> &lt; <i>fileLog</i> (<i>fileLog</i> being
the <i>windowLog</i> required to cover the whole file). You
can also manually force it.</p>

<p style="margin-left:14%; margin-top: 1em">Note: up to
level 15, you can use <b>--patch-from</b> in
<b>--single-thread</b> mode to improve compression ratio
marginally at the cost of speed. Using
&acute;--single-thread&acute; above level 15 will lead to
lower compression ratios.</p>

<p style="margin-left:14%; margin-top: 1em">Note: for level
19, you can get increased compression ratio at the cost of
speed by specifying <b>--zstd=targetLength=</b> to be
something large (i.e. 4096), and by setting a large
<b>--zstd=chainLog=</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>--rsyncable</b>: <b>zstd</b>
will periodically synchronize the compression state to make
the compressed file more rsync-friendly. There is a
negligible impact to compression ratio, and a potential
impact to compression speed, perceptible at higher speeds,
for example when combining <b>--rsyncable</b> with many
parallel worker threads. This feature does not work with
<b>--single-thread</b>. You probably don&acute;t want to use
it with long range mode, since it will decrease the
effectiveness of the synchronization points, but your
mileage may vary.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-C</b>, <b>--[no-]check</b>: add integrity check
computed from uncompressed data (default: enabled)</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--[no-]content-size</b>: enable / disable whether or
not the original size of the file is placed in the header of
the compressed file. The default option is
<b>--content-size</b> (meaning that the original size will
be placed in the header).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--no-dictID</b>: do not store dictionary ID within
frame header (dictionary compression). The decoder will have
to rely on implicit knowledge about which dictionary to use,
it won&acute;t be able to check if it&acute;s correct.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-M#</b>, <b>--memory=#</b>: Set a memory usage limit.
By default, <b>zstd</b> uses 128 MiB for decompression as
the maximum amount of memory the decompressor is allowed to
use, but you can override this manually if need be in either
direction (i.e. you can increase or decrease it).</p></td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em">This is also
used during compression when using with
<b>--patch-from=</b>. In this case, this parameter overrides
that maximum size allowed for a dictionary. (128 MiB).</p>

<p style="margin-left:14%; margin-top: 1em">Additionally,
this can be used to limit memory for dictionary training.
This parameter overrides the default limit of 2 GiB. zstd
will load training samples up to the memory limit and ignore
the rest.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>--stream-size=#</b>: Sets the
pledged source size of input coming from a stream. This
value must be exact, as it will be included in the produced
frame header. Incorrect stream sizes will cause an error.
This information will be used to better optimize compression
parameters, resulting in better and potentially faster
compression, especially for smaller source sizes.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--size-hint=#</b>: When handling input from a stream,
<b>zstd</b> must guess how large the source size will be
when optimizing compression parameters. If the stream size
is relatively small, this guess may be a poor one, resulting
in a higher compression ratio than expected. This feature
allows for controlling the guess when needed. Exact guesses
result in better compression ratios. Overestimates result in
slightly degraded compression ratios, while underestimates
may result in significant degradation.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--target-compressed-block-size=#</b>: Attempt to
produce compressed blocks of approximately this size. This
will split larger blocks in order to approach this target.
This feature is notably useful for improved latency, when
the receiver can leverage receiving early incomplete data.
This parameter defines a loose target: compressed blocks
will target this size &quot;on average&quot;, but individual
blocks can still be larger or smaller. Enabling this feature
can decrease compression speed by up to &#732;10% at level
1. Higher levels will see smaller relative speed regression,
becoming invisible at higher settings.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-f</b>, <b>--force</b>: disable input and output
checks. Allows overwriting existing files, input from
console, output to stdout, operating on links, block
devices, etc. During decompression and when the output
destination is stdout, pass-through unrecognized formats
as-is.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-c</b>, <b>--stdout</b>: write to standard output
(even if it is the console); keep original files (disable
<b>--rm</b>).</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-o FILE</b>: save result into <b>FILE</b>. Note that
this operation is in conflict with <b>-c</b>. If both
operations are present on the command line, the last
expressed one wins.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--[no-]sparse</b>: enable / disable sparse FS
support, to make files with many zeroes smaller on disk.
Creating sparse files may save disk space and speed up
decompression by reducing the amount of disk I/O. default:
enabled when output is into a file, and disabled when output
is stdout. This setting overrides default and can force
sparse mode over stdout.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--[no-]pass-through</b> enable / disable passing
through uncompressed files as-is. During decompression when
pass-through is enabled, unrecognized formats will be copied
as-is from the input to the output. By default, pass-through
will occur when the output destination is stdout and the
force (<b>-f</b>) option is set.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--rm</b>: remove source file(s) after successful
compression or decompression. This command is silently
ignored if output is <b>stdout</b>. If used in combination
with <b>-o</b>, triggers a confirmation prompt (which can be
silenced with <b>-f</b>), as this is a destructive
operation.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-k</b>, <b>--keep</b>: keep source file(s) after
successful compression or decompression. This is the default
behavior.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-r</b>: operate recursively on directories. It
selects all files in the named directory and all its
subdirectories. This can be useful both to reduce command
line typing, and to circumvent shell expansion limitations,
when there are a lot of files and naming breaks the maximum
size of a command line.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--filelist FILE</b> read a list of files to process
as content from <b>FILE</b>. Format is compatible with
<b>ls</b> output, with one file per line.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--output-dir-flat DIR</b>: resulting files are stored
into target <b>DIR</b> directory, instead of same directory
as origin file. Be aware that this command can introduce
name collision issues, if multiple files, from different
directories, end up having the same name. Collision
resolution ensures first file with a given name will be
present in <b>DIR</b>, while in combination with <b>-f</b>,
the last file will be present instead.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--output-dir-mirror DIR</b>: similar to
<b>--output-dir-flat</b>, the output files are stored
underneath target <b>DIR</b> directory, but this option will
replicate input directory hierarchy into output
<b>DIR</b>.</p> </td></tr>
</table>

<p style="margin-left:14%; margin-top: 1em">If input
directory contains &quot;..&quot;, the files in this
directory will be ignored. If input directory is an absolute
directory (i.e. &quot;/var/tmp/abc&quot;), it will be stored
into the &quot;output-dir/var/tmp/abc&quot;. If there are
multiple input files or directories, name collision
resolution will follow the same rules as
<b>--output-dir-flat</b>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p style="margin-top: 1em"><b>--format=FORMAT</b>: compress
and decompress in other formats. If compiled with support,
zstd can compress to or decompress from other compression
algorithm formats. Possibly available options are
<b>zstd</b>, <b>gzip</b>, <b>xz</b>, <b>lzma</b>, and
<b>lz4</b>. If no such format is provided, <b>zstd</b> is
the default.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-h</b>/<b>-H</b>, <b>--help</b>: display help/long
help and exit</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-V</b>, <b>--version</b>: display version number and
immediately exit. note that, since it exits, flags specified
after <b>-V</b> are effectively ignored. Advanced:
<b>-vV</b> also displays supported formats. <b>-vvV</b> also
displays POSIX support. <b>-qV</b> will only display the
version number, suitable for machine reading.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-v</b>, <b>--verbose</b>: verbose mode, display more
information</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-q</b>, <b>--quiet</b>: suppress warnings,
interactivity, and notifications. specify twice to suppress
errors too.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--no-progress</b>: do not display the progress bar,
but keep all other messages.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--show-default-cparams</b>: shows the default
compression parameters that will be used for a particular
input file, based on the provided compression level and the
input size. If the provided file is not a regular file (e.g.
a pipe), this flag will output the parameters used for
inputs of unknown size.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--exclude-compressed</b>: only compress files that
are not already compressed.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--</b>: All arguments after <b>--</b> are treated as
files</p> </td></tr>
</table>

<h3>gzip Operation Modifiers
<a name="gzip Operation Modifiers"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">When invoked via
a <b>gzip</b> symlink, <b>zstd</b> will support further
options that intend to mimic the <b>gzip</b> behavior:
<b><br>
-n</b>, <b>--no-name</b></p>

<p style="margin-left:18%;">do not store the original
filename and timestamps when compressing a file. This is the
default behavior and hence a no-op.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>--best</b></p></td>
<td width="1%"></td>
<td width="29%">


<p>alias to the option <b>-9</b>.</p></td>
<td width="53%">
</td></tr>
</table>

<h3>Environment Variables
<a name="Environment Variables"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Employing
environment variables to set parameters has security
implications. Therefore, this avenue is intentionally
limited. Only <b>ZSTD_CLEVEL</b> and <b>ZSTD_NBTHREADS</b>
are currently supported. They set the default compression
level and number of threads to use during compression,
respectively.</p>


<p style="margin-left:9%; margin-top: 1em"><b>ZSTD_CLEVEL</b>
can be used to set the level between 1 and 19 (the
&quot;normal&quot; range). If the value of
<b>ZSTD_CLEVEL</b> is not a valid integer, it will be
ignored with a warning message. <b>ZSTD_CLEVEL</b> just
replaces the default compression level (<b>3</b>).</p>


<p style="margin-left:9%; margin-top: 1em"><b>ZSTD_NBTHREADS</b>
can be used to set the number of threads <b>zstd</b> will
attempt to use during compression. If the value of
<b>ZSTD_NBTHREADS</b> is not a valid unsigned integer, it
will be ignored with a warning message.
<b>ZSTD_NBTHREADS</b> has a default value of <b>max(1,
min(4, nbCores/4))</b>, and is capped at
ZSTDMT_NBWORKERS_MAX==200. <b>zstd</b> must be compiled with
multithread support for this variable to have any
effect.</p>

<p style="margin-left:9%; margin-top: 1em">They can both be
overridden by corresponding command line arguments:
<b>-#</b> for compression level and <b>-T#</b> for number of
compression threads.</p>

<h2>ADVANCED COMPRESSION OPTIONS
<a name="ADVANCED COMPRESSION OPTIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>zstd</b>
provides 22 predefined regular compression levels plus the
fast levels. A compression level is translated internally
into multiple advanced parameters that control the behavior
of the compressor (one can observe the result of this
translation with <b>--show-default-cparams</b>). These
advanced parameters can be overridden using advanced
compression options.</p>

<h3>--zstd[=options]:
<a name="--zstd[=options]:"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The
<i>options</i> are provided as a comma-separated list. You
may specify only the options you want to change and the rest
will be taken from the selected or default compression
level. The list of available <i>options</i>: <b><br>
strategy</b>=<i>strat</i>, <b>strat</b>=<i>strat</i></p>

<p style="margin-left:18%;">Specify a strategy used by a
match finder.</p>

<p style="margin-left:18%; margin-top: 1em">There are 9
strategies numbered from 1 to 9, from fastest to strongest:
1=<b>ZSTD_fast</b>, 2=<b>ZSTD_dfast</b>,
3=<b>ZSTD_greedy</b>, 4=<b>ZSTD_lazy</b>,
5=<b>ZSTD_lazy2</b>, 6=<b>ZSTD_btlazy2</b>,
7=<b>ZSTD_btopt</b>, 8=<b>ZSTD_btultra</b>,
9=<b>ZSTD_btultra2</b>.</p>

<p style="margin-left:9%;"><b>windowLog</b>=<i>wlog</i>,
<b>wlog</b>=<i>wlog</i></p>

<p style="margin-left:18%;">Specify the maximum number of
bits for a match distance.</p>

<p style="margin-left:18%; margin-top: 1em">The higher
number of increases the chance to find a match which usually
improves compression ratio. It also increases memory
requirements for the compressor and decompressor. The
minimum <i>wlog</i> is 10 (1 KiB) and the maximum is 30 (1
GiB) on 32-bit platforms and 31 (2 GiB) on 64-bit
platforms.</p>

<p style="margin-left:18%; margin-top: 1em">Note: If
<b>windowLog</b> is set to larger than 27,
<b>--long=windowLog</b> or <b>--memory=windowSize</b> needs
to be passed to the decompressor.</p>

<p style="margin-left:9%;"><b>hashLog</b>=<i>hlog</i>,
<b>hlog</b>=<i>hlog</i></p>

<p style="margin-left:18%;">Specify the maximum number of
bits for a hash table.</p>

<p style="margin-left:18%; margin-top: 1em">Bigger hash
tables cause fewer collisions which usually makes
compression faster, but requires more memory during
compression.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>hlog</i> is 6 (64 entries / 256 B) and the maximum is 30
(1B entries / 4 GiB).</p>

<p style="margin-left:9%;"><b>chainLog</b>=<i>clog</i>,
<b>clog</b>=<i>clog</i></p>

<p style="margin-left:18%;">Specify the maximum number of
bits for the secondary search structure, whose form depends
on the selected <b>strategy</b>.</p>

<p style="margin-left:18%; margin-top: 1em">Higher numbers
of bits increases the chance to find a match which usually
improves compression ratio. It also slows down compression
speed and increases memory requirements for compression.
This option is ignored for the <b>ZSTD_fast strategy</b>,
which only has the primary hash table.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>clog</i> is 6 (64 entries / 256 B) and the maximum is 29
(512M entries / 2 GiB) on 32-bit platforms and 30 (1B
entries / 4 GiB) on 64-bit platforms.</p>

<p style="margin-left:9%;"><b>searchLog</b>=<i>slog</i>,
<b>slog</b>=<i>slog</i></p>

<p style="margin-left:18%;">Specify the maximum number of
searches in a hash chain or a binary tree using logarithmic
scale.</p>

<p style="margin-left:18%; margin-top: 1em">More searches
increases the chance to find a match which usually increases
compression ratio but decreases compression speed.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>slog</i> is 1 and the maximum is &acute;windowLog&acute;
- 1.</p>

<p style="margin-left:9%;"><b>minMatch</b>=<i>mml</i>,
<b>mml</b>=<i>mml</i></p>

<p style="margin-left:18%;">Specify the minimum searched
length of a match in a hash table.</p>

<p style="margin-left:18%; margin-top: 1em">Larger search
lengths usually decrease compression ratio but improve
decompression speed.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>mml</i> is 3 and the maximum is 7.</p>


<p style="margin-left:9%;"><b>targetLength</b>=<i>tlen</i>,
<b>tlen</b>=<i>tlen</i></p>

<p style="margin-left:18%;">The impact of this field vary
depending on selected strategy.</p>

<p style="margin-left:18%; margin-top: 1em">For
<b>ZSTD_btopt</b>, <b>ZSTD_btultra</b> and
<b>ZSTD_btultra2</b>, it specifies the minimum match length
that causes match finder to stop searching. A larger
<b>targetLength</b> usually improves compression ratio but
decreases compression speed.</p>

<p style="margin-left:18%; margin-top: 1em">For
<b>ZSTD_fast</b>, it triggers ultra-fast mode when &gt; 0.
The value represents the amount of data skipped between
match sampling. Impact is reversed: a larger
<b>targetLength</b> increases compression speed but
decreases compression ratio.</p>

<p style="margin-left:18%; margin-top: 1em">For all other
strategies, this field has no impact.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>tlen</i> is 0 and the maximum is 128 KiB.</p>

<p style="margin-left:9%;"><b>overlapLog</b>=<i>ovlog</i>,
<b>ovlog</b>=<i>ovlog</i></p>

<p style="margin-left:18%;">Determine <b>overlapSize</b>,
amount of data reloaded from previous job. This parameter is
only available when multithreading is enabled. Reloading
more data improves compression ratio, but decreases
speed.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>ovlog</i> is 0, and the maximum is 9. 1 means &quot;no
overlap&quot;, hence completely independent jobs. 9 means
&quot;full overlap&quot;, meaning up to <b>windowSize</b> is
reloaded from previous job. Reducing <i>ovlog</i> by 1
reduces the reloaded amount by a factor 2. For example, 8
means &quot;windowSize/2&quot;, and 6 means
&quot;windowSize/8&quot;. Value 0 is special and means
&quot;default&quot;: <i>ovlog</i> is automatically
determined by <b>zstd</b>. In which case, <i>ovlog</i> will
range from 6 to 9, depending on selected <i>strat</i>.</p>


<p style="margin-left:9%;"><b>ldmHashRateLog</b>=<i>lhrlog</i>,
<b>lhrlog</b>=<i>lhrlog</i></p>

<p style="margin-left:18%;">Specify the frequency of
inserting entries into the long distance matching hash
table.</p>

<p style="margin-left:18%; margin-top: 1em">This option is
ignored unless long distance matching is enabled.</p>

<p style="margin-left:18%; margin-top: 1em">Larger values
will improve compression speed. Deviating far from the
default value will likely result in a decrease in
compression ratio.</p>

<p style="margin-left:18%; margin-top: 1em">The default
value varies between 4 and 7, depending on
<b>strategy</b>.</p>

<p style="margin-left:9%;"><b>ldmHashLog</b>=<i>lhlog</i>,
<b>lhlog</b>=<i>lhlog</i></p>

<p style="margin-left:18%;">Specify the maximum size for a
hash table used for long distance matching.</p>

<p style="margin-left:18%; margin-top: 1em">This option is
ignored unless long distance matching is enabled.</p>

<p style="margin-left:18%; margin-top: 1em">Bigger hash
tables usually improve compression ratio at the expense of
more memory during compression and a decrease in compression
speed.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>lhlog</i> is 6 and the maximum is 30 (default:
<b>windowLog - ldmHashRateLog</b>).</p>

<p style="margin-left:9%;"><b>ldmMinMatch</b>=<i>lmml</i>,
<b>lmml</b>=<i>lmml</i></p>

<p style="margin-left:18%;">Specify the minimum searched
length of a match for long distance matching.</p>

<p style="margin-left:18%; margin-top: 1em">This option is
ignored unless long distance matching is enabled.</p>

<p style="margin-left:18%; margin-top: 1em">Larger/very
small values usually decrease compression ratio.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>lmml</i> is 4 and the maximum is 4096 (default: 32 to 64,
depending on <b>strategy</b>).</p>


<p style="margin-left:9%;"><b>ldmBucketSizeLog</b>=<i>lblog</i>,
<b>lblog</b>=<i>lblog</i></p>

<p style="margin-left:18%;">Specify the size of each bucket
for the hash table used for long distance matching.</p>

<p style="margin-left:18%; margin-top: 1em">This option is
ignored unless long distance matching is enabled.</p>

<p style="margin-left:18%; margin-top: 1em">Larger bucket
sizes improve collision resolution but decrease compression
speed.</p>

<p style="margin-left:18%; margin-top: 1em">The minimum
<i>lblog</i> is 1 and the maximum is 8 (default: 4 to 8,
depending on <b>strategy</b>).</p>

<h3>Example
<a name="Example"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The following
parameters sets advanced compression options to something
similar to predefined level 19 for files bigger than 256
KB:</p>


<p style="margin-left:9%; margin-top: 1em"><b>--zstd</b>=wlog=23,clog=23,hlog=22,slog=6,mml=3,tlen=48,strat=6</p>

<h3>-B#:
<a name="-B#:"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Specify the size
of each compression job. This parameter is only available
when multi-threading is enabled. Each compression job is run
in parallel, so this value indirectly impacts the nb of
active threads. Default job size varies depending on
compression level (generally <b>4 * windowSize</b>).
<b>-B#</b> makes it possible to manually select a custom
size. Note that job size must respect a minimum value which
is enforced transparently. This minimum is either 512 KB, or
<b>overlapSize</b>, whichever is largest. Different job
sizes will lead to non-identical compressed frames.</p>

<h2>DICTIONARY BUILDER
<a name="DICTIONARY BUILDER"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>zstd</b>
offers <i>dictionary</i> compression, which greatly improves
efficiency on small files and messages. It&acute;s possible
to train <b>zstd</b> with a set of samples, the result of
which is saved into a file called a <b>dictionary</b>. Then,
during compression and decompression, reference the same
dictionary, using command <b>-D dictionaryFileName</b>.
Compression of small files similar to the sample set will be
greatly improved. <b><br>
--train FILEs</b></p>

<p style="margin-left:18%;">Use FILEs as training set to
create a dictionary. The training set should ideally contain
a lot of samples (&gt; 100), and weight typically 100x the
target dictionary size (for example, &#732;10 MB for a 100
KB dictionary). <b>--train</b> can be combined with
<b>-r</b> to indicate a directory rather than listing all
the files, which can be useful to circumvent shell expansion
limits.</p>

<p style="margin-left:18%; margin-top: 1em">Since
dictionary compression is mostly effective for small files,
the expectation is that the training set will only contain
small files. In the case where some samples happen to be
large, only the first 128 KiB of these samples will be used
for training.</p>

<p style="margin-left:18%; margin-top: 1em"><b>--train</b>
supports multithreading if <b>zstd</b> is compiled with
threading support (default). Additional advanced parameters
can be specified with <b>--train-fastcover</b>. The legacy
dictionary builder can be accessed with
<b>--train-legacy</b>. The slower cover dictionary builder
can be accessed with <b>--train-cover</b>. Default
<b>--train</b> is equivalent to
<b>--train-fastcover=d=8,steps=4</b>.</p>

<p style="margin-left:9%;"><b>-o FILE</b></p>

<p style="margin-left:18%;">Dictionary saved into
<b>FILE</b> (default name: dictionary).</p>

<p style="margin-left:9%;"><b>--maxdict=#</b></p>

<p style="margin-left:18%;">Limit dictionary to specified
size (default: 112640 bytes). As usual, quantities are
expressed in bytes by default, and it&acute;s possible to
employ suffixes (like <b>KB</b> or <b>MB</b>) to specify
larger values.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>-#</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Use <b>#</b> compression level during training
(optional). Will generate statistics more tuned for selected
compression level, resulting in a <i>small</i> compression
ratio improvement for this level.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>-B#</b></p></td>
<td width="5%"></td>
<td width="82%">


<p>Split input files into blocks of size # (default: no
split)</p> </td></tr>
</table>

<p style="margin-left:9%;"><b>-M#</b>,
<b>--memory=#</b></p>

<p style="margin-left:18%;">Limit the amount of sample data
loaded for training (default: 2 GB). Note that the default
(2 GB) is also the maximum. This parameter can be useful in
situations where the training set size is not well
controlled and could be potentially very large. Since speed
of the training process is directly correlated to the size
of the training sample set, a smaller sample set leads to
faster training.</p>

<p style="margin-left:18%; margin-top: 1em">In situations
where the training set is larger than maximum memory, the
CLI will randomly select samples among the available ones,
up to the maximum allowed memory budget. This is meant to
improve dictionary relevance by mitigating the potential
impact of clustering, such as selecting only files from the
beginning of a list sorted by modification date, or sorted
by alphabetical order. The randomization process is
deterministic, so training of the same list of files with
the same parameters will lead to the creation of the same
dictionary.</p>

<p style="margin-left:9%;"><b>--dictID=#</b></p>

<p style="margin-left:18%;">A dictionary ID is a locally
unique ID. The decoder will use this value to verify it is
using the right dictionary. By default, zstd will create a
4-bytes random number ID. It&acute;s possible to provide an
explicit number ID instead. It&acute;s up to the dictionary
manager to not assign twice the same ID to 2 different
dictionaries. Note that short numbers have an advantage: an
ID &lt; 256 will only need 1 byte in the compressed frame
header, and an ID &lt; 65536 will only need 2 bytes. This
compares favorably to 4 bytes default.</p>

<p style="margin-left:18%; margin-top: 1em">Note that
RFC8878 reserves IDs less than 32768 and greater than or
equal to 2&#710;31, so they should not be used in
public.</p>


<p style="margin-left:9%;"><b>--train-cover[=k#,d=#,steps=#,split=#,shrink[=#]]</b></p>

<p style="margin-left:18%;">Select parameters for the
default dictionary builder algorithm named cover. If
<i>d</i> is not specified, then it tries <i>d</i> = 6 and
<i>d</i> = 8. If <i>k</i> is not specified, then it tries
<i>steps</i> values in the range [50, 2000]. If <i>steps</i>
is not specified, then the default value of 40 is used. If
<i>split</i> is not specified or split &lt;= 0, then the
default value of 100 is used. Requires that <i>d</i> &lt;=
<i>k</i>. If <i>shrink</i> flag is not used, then the
default value for <i>shrinkDict</i> of 0 is used. If
<i>shrink</i> is not specified, then the default value for
<i>shrinkDictMaxRegression</i> of 1 is used.</p>

<p style="margin-left:18%; margin-top: 1em">Selects
segments of size <i>k</i> with highest score to put in the
dictionary. The score of a segment is computed by the sum of
the frequencies of all the subsegments of size <i>d</i>.
Generally <i>d</i> should be in the range [6, 8],
occasionally up to 16, but the algorithm will run faster
with d &lt;= <i>8</i>. Good values for <i>k</i> vary widely
based on the input data, but a safe range is [2 * <i>d</i>,
2000]. If <i>split</i> is 100, all input samples are used
for both training and testing to find optimal <i>d</i> and
<i>k</i> to build dictionary. Supports multithreading if
<b>zstd</b> is compiled with threading support. Having
<i>shrink</i> enabled takes a truncated dictionary of
minimum size and doubles in size until compression ratio of
the truncated dictionary is at most
<i>shrinkDictMaxRegression%</i> worse than the compression
ratio of the largest dictionary.</p>

<p style="margin-left:18%; margin-top: 1em">Examples:</p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover=k=50,d=8 FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover=d=8,steps=500 FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover=k=50 FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover=k=50,split=60 FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover=shrink FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-cover=shrink=2 FILEs</b></p>


<p style="margin-left:9%;"><b>--train-fastcover[=k#,d=#,f=#,steps=#,split=#,accel=#]</b></p>

<p style="margin-left:18%;">Same as cover but with extra
parameters <i>f</i> and <i>accel</i> and different default
value of split If <i>split</i> is not specified, then it
tries <i>split</i> = 75. If <i>f</i> is not specified, then
it tries <i>f</i> = 20. Requires that 0 &lt; <i>f</i> &lt;
32. If <i>accel</i> is not specified, then it tries
<i>accel</i> = 1. Requires that 0 &lt; <i>accel</i> &lt;=
10. Requires that <i>d</i> = 6 or <i>d</i> = 8.</p>

<p style="margin-left:18%; margin-top: 1em"><i>f</i> is log
of size of array that keeps track of frequency of
subsegments of size <i>d</i>. The subsegment is hashed to an
index in the range [0,2&#710;<i>f</i> - 1]. It is possible
that 2 different subsegments are hashed to the same index,
and they are considered as the same subsegment when
computing frequency. Using a higher <i>f</i> reduces
collision but takes longer.</p>

<p style="margin-left:18%; margin-top: 1em">Examples:</p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-fastcover FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-fastcover=d=8,f=15,accel=2 FILEs</b></p>


<p style="margin-left:9%;"><b>--train-legacy[=selectivity=#]</b></p>

<p style="margin-left:18%;">Use legacy dictionary builder
algorithm with the given dictionary <i>selectivity</i>
(default: 9). The smaller the <i>selectivity</i> value, the
denser the dictionary, improving its efficiency but reducing
its achievable maximum size. <b>--train-legacy=s=#</b> is
also accepted.</p>

<p style="margin-left:18%; margin-top: 1em">Examples:</p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-legacy FILEs</b></p>

<p style="margin-left:18%; margin-top: 1em"><b>zstd
--train-legacy=selectivity=8 FILEs</b></p>

<h2>BENCHMARK
<a name="BENCHMARK"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The <b>zstd</b>
CLI provides a benchmarking mode that can be used to easily
find suitable compression parameters, or alternatively to
benchmark a computer&acute;s performance. <b>zstd -b
[FILE(s)]</b> will benchmark <b>zstd</b> for both
compression and decompression using default compression
level. Note that results are very dependent on the content
being compressed.</p>

<p style="margin-left:9%; margin-top: 1em">It&acute;s
possible to pass multiple files to the benchmark, and even a
directory with <b>-r DIRECTORY</b>. When no <b>FILE</b> is
provided, the benchmark will use a procedurally generated
<b>lorem ipsum</b> text.</p>

<p style="margin-left:9%; margin-top: 1em">Benchmarking
will employ <b>max(1, min(4, nbCores/4))</b> worker threads
by default in order to match the behavior of the normal CLI
I/O.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-b#</b>: benchmark file(s) using compression level
#</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-e#</b>: benchmark file(s) using multiple compression
levels, from <b>-b#</b> to <b>-e#</b> (inclusive)</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-d</b>: benchmark decompression speed only (requires
providing a zstd-compressed content)</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-i#</b>: minimum evaluation time, in seconds
(default: 3s), benchmark mode only</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-B#</b>, <b>--block-size=#</b>: cut file(s) into
independent chunks of size # (default: no chunking)</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-S</b>: output one benchmark result per input file
(default: consolidated result)</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>-D dictionary</b> benchmark using dictionary</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="4%"></td>
<td width="86%">


<p><b>--priority=rt</b>: set process priority to real-time
(Windows)</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">Beyond
compression levels, benchmarking is also compatible with
other parameters, such as number of threads (<b>-T#</b>),
advanced compression parameters (<b>--zstd=###</b>),
dictionary compression (<b>-D dictionary</b>), or even
disabling checksum verification for example.</p>

<p style="margin-left:9%; margin-top: 1em"><b>Output
Format:</b> CompressionLevel#Filename: InputSize -&gt;
OutputSize (CompressionRatio), CompressionSpeed,
DecompressionSpeed</p>


<p style="margin-left:9%; margin-top: 1em"><b>Methodology:</b>
For speed measurement, the entire input is
compressed/decompressed in-memory to measure speed. A run
lasts at least 1 sec, so when files are small, they are
compressed/decompressed several times per run, in order to
improve measurement accuracy.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>zstdgrep</b>(1),
<b>zstdless</b>(1), <b>gzip</b>(1), <b>xz</b>(1)</p>

<p style="margin-left:9%; margin-top: 1em">The
<i>zstandard</i> format is specified in Y. Collet,
&quot;Zstandard Compression and the
&acute;application/zstd&acute; Media Type&quot;,
https://www.ietf.org/rfc/rfc8878.txt, Internet RFC 8878
(February 2021).</p>

<h2>BUGS
<a name="BUGS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Report bugs at:
https://github.com/facebook/zstd/issues</p>

<h2>AUTHOR
<a name="AUTHOR"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Yann Collet</p>
<hr>
</body>
</html>
