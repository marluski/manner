<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:26:40 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>grn</title>

</head>
<body>

<h1 align="center">grn</h1>

<a href="#Name">Name</a><br>
<a href="#Synopsis">Synopsis</a><br>
<a href="#Description">Description</a><br>
<a href="#grn commands">grn commands</a><br>
<a href="#Usage with groff">Usage with groff</a><br>
<a href="#Gremlin file format">Gremlin file format</a><br>
<a href="#Element specifications">Element specifications</a><br>
<a href="#Coordinates">Coordinates</a><br>
<a href="#Sun/X11 coordinates">Sun/X11 coordinates</a><br>
<a href="#Options">Options</a><br>
<a href="#Files">Files</a><br>
<a href="#Authors">Authors</a><br>
<a href="#See also">See also</a><br>

<hr>


<h2>Name
<a name="Name"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">grn - embed
Gremlin images in <i>groff</i> documents</p>

<h2>Synopsis
<a name="Synopsis"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>grn</b></p></td>
<td width="1%"></td>
<td width="54%">


<p style="margin-top: 1em">[<b>-C</b>]
[<b>-T&nbsp;</b><i>dev</i>] [<b>-M&nbsp;</b><i>dir</i>]
[<b>-F&nbsp;</b><i>dir</i>] [<i>file&nbsp;</i>...]</p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>grn</b></p></td>
<td width="1%"></td>
<td width="54%">


<p style="margin-top: 1em"><b>-?</b></p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>grn</b></p></td>
<td width="1%"></td>
<td width="54%">


<p><b>--help</b></p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p style="margin-top: 1em"><b>grn</b></p></td>
<td width="1%"></td>
<td width="54%">


<p style="margin-top: 1em"><b>-v</b></p></td>
<td width="32%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>grn</b></p></td>
<td width="1%"></td>
<td width="54%">


<p><b>--version</b></p></td>
<td width="32%">
</td></tr>
</table>

<h2>Description
<a name="Description"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b><i>grn</i></b>
is a preprocessor for including <i>gremlin</i> pictures in
<a href="man:troff(1)"><i>troff</i>(1)</a> input. <i>grn</i>
writes to standard output, processing only input lines
between two that start with <b>.GS</b> and <b>.GE</b>. Those
lines must contain <i>grn</i> commands (see below). These
macros request a <i>gremlin</i> file; the picture in that
file is converted and placed in the <i>troff</i> input
stream. <b>.GS</b> may be called with a <b>C</b>, <b>L</b>,
or <b>R</b> argument to center, left-, or right-justify the
whole <i>gremlin</i> picture (the default is to center). If
no <i>file</i> is mentioned, the standard input is read. At
the end of the picture, the position on the page is the
bottom of the <i>gremlin</i> picture. If the <i>grn</i>
entry is ended with <b>.GF</b> instead of <b>.GE</b>, the
position is left at the top of the picture.</p>

<p style="margin-left:9%; margin-top: 1em">Currently only
the <i>me</i> macro package has support for <b>.GS</b>,
<b>.GE</b>, and <b>.GF</b>.</p>

<p style="margin-left:9%; margin-top: 1em"><i>grn</i>
produces drawing escape sequences that use
<i>groff</i>&rsquo;s color scheme extension
(<b>\D'F&nbsp;</b>...<b>'</b>), and thus may not work with
other <i>troff</i>s.</p>

<h3>grn commands
<a name="grn commands"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Each input line
between <b>.GS</b> and <b>.GE</b> may have one <i>grn</i>
command. Commands consist of one or two strings separated by
white space, the first string being the command and the
second its operand. Commands may be upper- or lowercase and
abbreviated down to one character.</p>

<p style="margin-left:9%; margin-top: 1em">Commands that
affect a picture&rsquo;s environment (those listed before
&ldquo;<b>default</b>&rdquo;, see below) are only in effect
for the current picture: the environment is reinitialized to
the defaults at the start of the next picture. The commands
are as follows.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>1&nbsp;</b><i>N</i></p></td>
<td width="5%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>2&nbsp;</b><i>N</i></p></td>
<td width="5%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>3&nbsp;</b><i>N</i></p></td>
<td width="5%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>4&nbsp;</b><i>N</i></p></td>
<td width="5%"></td>
<td width="82%">


<p>Set <i>gremlin</i>&rsquo;s text size number 1 (2, 3, or
4) to <i>N</i> points. The default is 12 (16, 24, and 36,
respectively).</p> </td></tr>
</table>

<p style="margin-left:9%;"><b>roman&nbsp;</b><i>f</i>
<b><br>
italics&nbsp;</b><i>f</i></p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>bold&nbsp;</b><i>f</i></p></td>
<td width="83%">
</td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em"><b>special&nbsp;</b><i>f</i></p>

<p style="margin-left:18%;">Set the roman (italics, bold,
or special) font to <i>troff</i>&rsquo;s font <i>f</i>
(either a name or number). The default is R (I, B, and S,
respectively).</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>l&nbsp;</b><i>f</i></p></td>
<td width="87%">
</td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em"><b>stipple&nbsp;</b><i>f</i></p>

<p style="margin-left:18%;">Set the stipple font to
<i>troff</i>&rsquo;s stipple font <i>f</i> (name or number).
The command <b>stipple</b> may be abbreviated down as far as
&ldquo;<b>st</b>&rdquo; (to avoid confusion with
&ldquo;<b>special</b>&rdquo;). There is <i>no</i> default
for stipples (unless one is set by the
&ldquo;<b>default</b>&rdquo; command), and it is invalid to
include a <i>gremlin</i> picture with polygons without
specifying a stipple font.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="4%">


<p><b>x&nbsp;</b><i>N</i></p></td>
<td width="87%">
</td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em"><b>scale&nbsp;</b><i>N</i></p>

<p style="margin-left:18%;">Magnify the picture (in
addition to any default magnification) by <i>N</i>, a
floating-point number larger than zero. The command
<b>scale</b> may be abbreviated down to
&ldquo;<b>sc</b>&rdquo;.</p>

<p style="margin-left:9%;"><b>narrow&nbsp;</b><i>N</i>
<b><br>
medium&nbsp;</b><i>N</i> <b><br>
thick&nbsp;</b><i>N</i></p>

<p style="margin-left:18%;">Set the thickness of
<i>gremlin</i>&rsquo;s narrow (medium and thick,
respectively) lines to <i>N</i> times 0.15pt (this value can
be changed at compile time). The default is 1.0 (3.0 and
5.0, respectively), which corresponds to 0.15pt (0.45pt and
0.75pt, respectively). A thickness value of zero selects the
smallest available line thickness. Negative values cause the
line thickness to be proportional to the current point
size.</p>


<p style="margin-left:9%;"><b>pointscale&nbsp;</b>[<b>off</b>|<b>on</b>]</p>

<p style="margin-left:18%;">Scale text to match the
picture. Gremlin text is usually printed in the point size
specified with the commands <b>1</b>, <b>2</b>, <b>3</b>,
or&nbsp;<b>4</b>, regardless of any scaling factors in the
picture. Setting <b>pointscale</b> will cause the point
sizes to scale with the picture (within <i>troff</i>&rsquo;s
limitations, of course). An operand of anything but
<b>off</b> will turn text scaling on.</p>

<p style="margin-left:9%;"><b>default</b></p>

<p style="margin-left:18%;">Reset the picture environment
defaults to the settings in the current picture. This is
meant to be used as a global parameter setting mechanism at
the beginning of the <i>troff</i> input file, but can be
used at any time to reset the default settings.</p>

<p style="margin-left:9%;"><b>width&nbsp;</b><i>N</i></p>

<p style="margin-left:18%;">Force the picture to be
<i>N</i> inches wide. This overrides any scaling factors
present in the same picture. &ldquo;<b>width 0</b>&rdquo; is
ignored.</p>

<p style="margin-left:9%;"><b>height&nbsp;</b><i>N</i></p>

<p style="margin-left:18%;">Force the picture to be
<i>N</i> inches high, overriding other scaling factors. If
both <b>width</b> and <b>height</b> are specified, the
tighter constraint will determine the scale of the picture.
<b>height</b> and <b>width</b> commands are not saved with a
&ldquo;<b>default</b>&rdquo; command. They will, however,
affect point size scaling if that option is set.</p>


<p style="margin-left:9%;"><b>file&nbsp;</b><i>name</i></p>

<p style="margin-left:18%;">Get picture from <i>gremlin</i>
file <i>name</i> located the current directory (or in the
library directory; see the <b>-M</b> option above). If
multiple <b>file</b> commands are given, the last one
controls. If <i>name</i> doesn&rsquo;t exist, an error
message is reported and processing continues from the
<b>.GE</b> line.</p>

<h3>Usage with groff
<a name="Usage with groff"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Since <i>grn</i>
is a preprocessor, it has no access to elements of formatter
state, such as indentation, line length, type size, or
register values. Consequently, no <i>troff</i> input can be
placed between the <b>.GS</b> and <b>.GE</b> macros.
However, <i>gremlin</i> text elements are subsequently
processed by <i>troff</i>, so anything valid in a single
line of <i>troff</i> input is valid in a line of
<i>gremlin</i> text (barring the dot control character
&ldquo;.&rdquo; at the beginning of a line). Thus, it is
possible to have equations within a <i>gremlin</i> figure by
including in the <i>gremlin</i> file <i>eqn</i> expressions
enclosed by previously defined delimiters (e.g.,
&ldquo;$$&rdquo;).</p>

<p style="margin-left:9%; margin-top: 1em">When using
<i>grn</i> along with other preprocessors, it is best to run
<a href="man:tbl(1)"><i>tbl</i>(1)</a> before <i>grn</i>,
<a href="man:pic(1)"><i>pic</i>(1)</a>, and/or <i>ideal</i>
to avoid overworking <i>tbl</i>.
<a href="man:eqn(1)"><i>eqn</i>(1)</a> should always be run
last. <a href="man:groff(1)"><i>groff</i>(1)</a> will
automatically run preprocessors in the correct order.</p>

<p style="margin-left:9%; margin-top: 1em">A picture is
considered an entity, but that doesn&rsquo;t stop
<i>troff</i> from trying to break it up if it falls off the
end of a page. Placing the picture between
&ldquo;keeps&rdquo; in the <i>me</i> macros will ensure
proper placement.</p>

<p style="margin-left:9%; margin-top: 1em"><i>grn</i> uses
<i>troff</i>&rsquo;s registers <b>g1</b> through <b>g9</b>
and sets registers <b>g1</b> and <b>g2</b> to the width and
height of the <i>gremlin</i> figure (in device units) before
entering the <b>.GS</b> macro (this is for those who want to
rewrite these macros).</p>

<h3>Gremlin file format
<a name="Gremlin file format"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">There exist two
distinct <i>gremlin</i> file formats: the original format
for AED graphic terminals, and the Sun or X11 version. An
extension used by the Sun/X11 version allowing reference
points with negative coordinates is <i>not</i> compatible
with the AED version. As long as a <i>gremlin</i> file does
not contain negative coordinates, either format will be read
correctly by either version of <i>gremlin</i> or <i>grn</i>.
The other difference in Sun/X11 format is the use of names
for picture objects (e.g., <b>POLYGON</b>, <b>CURVE</b>)
instead of numbers. Files representing the same picture are
shown below.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p style="margin-top: 1em">The first line of each
<i>gremlin</i> file contains either the string
&ldquo;<b>gremlinfile</b>&rdquo; (AED) or
&ldquo;<b>sungremlinfile</b>&rdquo; (Sun/X11).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>The second line of the file contains an orientation and
<i>x</i> and <i>y</i> values for a positioning point,
separated by spaces. The orientation, either <b>0</b> or
<b>1</b>, is ignored by the Sun/X11 version. <b>0</b> means
that <i>gremlin</i> will display things in horizontal format
(a drawing area wider than it is tall, with a menu across
the top). <b>1</b> means that <i>gremlin</i> will display
things in vertical format (a drawing area taller than it is
wide, with a menu on the left side). <i>x</i> and <i>y</i>
are floating-point values giving a positioning point to be
used when this file is read into another file. The stuff on
this line really isn&rsquo;t all that important; a value of
&ldquo;<b>1 0.00 0.00</b>&rdquo; is suggested.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>The rest of the file consists of zero or more element
specifications. After the last element specification is a
line containing the string &ldquo;<b>-1</b>&rdquo;.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>Lines longer than 127 characters are truncated to that
length.</p> </td></tr>
</table>

<h3>Element specifications
<a name="Element specifications"></a>
</h3>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p style="margin-top: 1em">The first line of each element
contains a single decimal number giving the type of the
element (AED) or its name (Sun/X11).</p></td></tr>
</table>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p style="margin-top: 1em">After the object type comes a
variable number of lines, each specifying a point used to
display the element. Each line contains an x-coordinate and
a y-coordinate in floating-point format, separated by
spaces. The list of points is terminated by a line
containing the string &ldquo;<b>-1.0 -1.0</b>&rdquo; (AED)
or a single asterisk, &ldquo;<b>*</b>&rdquo; (Sun/X11).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p>&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p>After the points comes a line containing two decimal
values, giving the brush and size for the element. The brush
determines the style in which things are drawn. For vectors,
arcs, and curves there are six valid brush values.</p></td></tr>
</table>

<p style="margin-left:12%; margin-top: 1em">For polygons,
one more value, 0, is valid. It specifies a polygon with an
invisible border. For text, the brush selects a font as
follows.</p>

<p style="margin-left:12%; margin-top: 1em">If you&rsquo;re
using <i>grn</i> to run your pictures through <i>groff</i>,
the font is really just a starting font. The text string can
contain formatting sequences like &ldquo;\fI&rdquo; or
&ldquo;\d&rdquo; which may change the font (as well as do
many other things). For text, the size field is a decimal
value between 1 and 4. It selects the size of the font in
which the text will be drawn. For polygons, this size field
is interpreted as a stipple number to fill the polygon with.
The number is used to index into a stipple font at print
time.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em">&bull;</p></td>
<td width="2%"></td>
<td width="88%">


<p style="margin-top: 1em">The last line of each element
contains a decimal number and a string of characters,
separated by a single space. The number is a count of the
number of characters in the string. This information is used
only for text elements, and contains the text string. There
can be spaces inside the text. For arcs, curves, and
vectors, the character count is zero (<b>0</b>), followed by
exactly one space before the newline.</p></td></tr>
</table>

<h3>Coordinates
<a name="Coordinates"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em"><i>gremlin</i>
was designed for AED terminals, and its coordinates reflect
the AED coordinate space. For vertical pictures,
<i>x&nbsp;</i>values range 116 to 511, and
<i>y&nbsp;</i>values from 0 to 483. For horizontal pictures,
<i>x&nbsp;</i>values range from 0 to 511, and
<i>y&nbsp;</i>values from 0 to 367. Although you
needn&rsquo;t absolutely stick to this range, you&rsquo;ll
get better results if you at least stay in this vicinity.
Also, point lists are terminated by a point of (-1, -1), so
you shouldn&rsquo;t ever use negative coordinates.
<i>gremlin</i> writes out coordinates using the
<a href="man:printf(3)"><i>printf</i>(3)</a> format
&ldquo;%f1.2&rdquo;; it&rsquo;s probably a good idea to use
the same format if you want to modify the <i>grn</i>
code.</p>

<h3>Sun/X11 coordinates
<a name="Sun/X11 coordinates"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">There is no
restriction on the range of coordinates used to create
objects in the Sun/X11 version of <i>gremlin</i>. However,
files with negative coordinates <i>will</i> cause problems
if displayed on the AED.</p>

<h2>Options
<a name="Options"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>-?</b> and
<b>--help</b> display a usage message, while <b>-v</b> and
<b>--version</b> show version information; all exit
afterward.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p style="margin-top: 1em"><b>-C</b></p></td>
<td width="1%"></td>
<td width="82%">


<p style="margin-top: 1em">Recognize <b>.GS</b> and
<b>.GE</b> (and <b>.GF</b>) even when followed by a
character other than space or newline.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-F&nbsp;</b><i>dir</i></p></td>
<td width="1%"></td>
<td width="82%">


<p>Search <i>dir</i> for subdirectories <i>dev</i>name
(<i>name</i> is the name of the output driver) for the
<i>DESC</i> file before the default font directories
<i>/usr/share/groff/site-font</i>,
<i>/usr/share/groff/1.23.0/ font</i>, and
<i>/usr/lib/font</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-M&nbsp;</b><i>dir</i></p></td>
<td width="1%"></td>
<td width="82%">


<p>Prepend <i>dir</i> to the search path for <i>gremlin</i>
files. The default search path is the current directory, the
home directory, <i>/usr/ share/groff/site-tmac</i>, and
<i>/usr/share/groff/1.23.0/tmac</i>, in that order.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>-T&nbsp;</b><i>dev</i></p></td>
<td width="1%"></td>
<td width="82%">


<p>Prepare device output using output driver <i>dev</i>.
The default is <b>ps</b>. See
<a href="man:groff(1)"><i>groff</i>(1)</a> for a list of
valid devices.</p></td></tr>
</table>

<h2>Files
<a name="Files"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><i>/usr/share/groff/1.23.0/font/dev</i>name<i>/DESC</i></p>

<p style="margin-left:18%;">describes the output device
<i>name</i>.</p>

<h2>Authors
<a name="Authors"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">David
Slattengren and Barry Roitblat wrote the original Berkeley
<i>grn</i>. Daniel Senderowicz and Werner Lemberg modified
it for <i>groff</i>.</p>

<h2>See also
<a name="See also"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><a href="man:gremlin(1)"><i>gremlin</i>(1)</a>,
<a href="man:groff(1)"><i>groff</i>(1)</a>,
<a href="man:pic(1)"><i>pic</i>(1)</a>,
<a href="man:ideal(1)"><i>ideal</i>(1)</a></p>
<hr>
</body>
</html>
