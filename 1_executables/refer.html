<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:30:03 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>refer</title>

</head>
<body>

<h1 align="center">refer</h1>

<a href="#Name">Name</a><br>
<a href="#Synopsis">Synopsis</a><br>
<a href="#Description">Description</a><br>
<a href="#Bibliographic databases">Bibliographic databases</a><br>
<a href="#Citations">Citations</a><br>
<a href="#Commands">Commands</a><br>
<a href="#Label expressions">Label expressions</a><br>
<a href="#Macro interface">Macro interface</a><br>
<a href="#Options">Options</a><br>
<a href="#Environment">Environment</a><br>
<a href="#Files">Files</a><br>
<a href="#Bugs">Bugs</a><br>
<a href="#Examples">Examples</a><br>
<a href="#See also">See also</a><br>

<hr>


<h2>Name
<a name="Name"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">refer - process
bibliographic references for <i>groff</i></p>

<h2>Synopsis
<a name="Synopsis"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p style="margin-top: 1em"><i><b>refer</b></i></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em">[<b>-bCenPRS</b>]
[<b>-a&nbsp;</b><i>n</i>] [<b>-B</b>
<i>field</i><b>.</b><i>macro</i>]
[<b>-c&nbsp;</b><i>fields</i>] [<b>-f&nbsp;</b><i>n</i>]
[<b>-i&nbsp;</b><i>fields</i>] [<b>-k&nbsp;</b><i>field</i>]
[<b>-l&nbsp;</b><i>range-expression</i>]
[<b>-p&nbsp;</b><i>database-file</i>]
[<b>-s&nbsp;</b><i>fields</i>] [<b>-t&nbsp;</b><i>n</i>]
[<i>file&nbsp;</i>...]</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>refer</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em"><b>--help</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p style="margin-top: 1em"><b>refer</b></p></td>
<td width="2%"></td>
<td width="83%">


<p style="margin-top: 1em"><b>-v</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p><b>refer</b></p></td>
<td width="2%"></td>
<td width="83%">


<p><b>--version</b></p></td></tr>
</table>

<h2>Description
<a name="Description"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The GNU
implementation of <i>refer</i> is part of the
<a href="man:groff(1)"><i>groff</i>(1)</a> document
formatting system. <i>refer</i> is a
<a href="man:troff(1)"><i>troff</i>(1)</a> preprocessor that
prepares bibilographic citations by looking up keywords
specified in a <a href="man:roff(7)"><i>roff</i>(7)</a>
input document, obviating the need to type such annotations,
and permitting the citation style in formatted output to be
altered independently and systematically. It copies the
contents of each <i>file</i> to the standard output stream,
except that it interprets lines between <b>.[</b> and
<b>.]</b> as citations to be translated into <i>groff</i>
input, and lines between <b>.R1</b> and <b>.R2</b> as
instructions regarding how citations are to be processed.
Normally, <i>refer</i> is not executed directly by the user,
but invoked by specifying the <b>-R</b> option to
<a href="man:groff(1)"><i>groff</i>(1)</a>. If no
<i>file</i> operands are given on the command line, or if
<i>file</i> is &ldquo;<b>-</b>&rdquo;, the standard input
stream is read.</p>

<p style="margin-left:9%; margin-top: 1em">Each citation
specifies a reference. The citation can specify a reference
that is contained in a bibliographic database by giving a
set of keywords that only that reference contains.
Alternatively it can specify a reference by supplying a
database record in the citation. A combination of these
alternatives is also possible.</p>

<p style="margin-left:9%; margin-top: 1em">For each
citation, <i>refer</i> can produce a mark in the text. This
mark consists of some label which can be separated from the
text and from other labels in various ways. For each
reference it also outputs
<a href="man:groff(7)"><i>groff</i>(7)</a> language commands
that can be used by a macro package to produce a formatted
reference for each citation. The output of <i>refer</i> must
therefore be processed using a suitable macro package, such
as <i>me</i>, <i>mm</i>, <i>mom</i>, or <i>ms</i>. The
commands to format a citation&rsquo;s reference can be
output immediately after the citation, or the references may
be accumulated, and the commands output at some later point.
If the references are accumulated, then multiple citations
of the same reference will produce a single formatted
reference.</p>

<p style="margin-left:9%; margin-top: 1em">The
interpretation of lines between <b>.R1</b> and <b>.R2</b> as
prepreocessor commands is a feature of GNU <i>refer</i>.
Documents making use of this feature can still be processed
by AT&amp;T <i>refer</i> just by adding the lines</p>

<p style="margin-left:18%;">.de R1 <br>
.ig R2 <br>
..</p>

<p style="margin-left:9%;">to the beginning of the
document. This will cause
<a href="man:troff(1)"><i>troff</i>(1)</a> to ignore
everything between <b>.R1</b> and <b>.R2</b>. The effect of
some commands can also be achieved by options. These options
are supported mainly for compatibility with AT&amp;T
<i>refer</i>. It is usually more convenient to use
commands.</p>

<p style="margin-left:9%; margin-top: 1em"><i>refer</i>
generates <b>.lf</b> requests so that file names and line
numbers in messages produced by commands that read
<i>refer</i> output will be correct; it also interprets
lines beginning with <b>.lf</b> so that file names and line
numbers in the messages and <b>.lf</b> lines that it
produces will be accurate even if the input has been
preprocessed by a command such as
<a href="man:soelim(1)"><i>soelim</i>(1)</a>.</p>

<h3>Bibliographic databases
<a name="Bibliographic databases"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">The
bibliographic database is a text file consisting of records
separated by one or more blank lines. Within each record
fields start with a <b>%</b> at the beginning of a line.
Each field has a one character name that immediately follows
the <b>%</b>. It is best to use only upper and lower case
letters for the names of fields. The name of the field
should be followed by exactly one space, and then by the
contents of the field. Empty fields are ignored. The
conventional meaning of each field is as follows:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%A</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>The name of an author. If the name contains a suffix
such as &ldquo;Jr.&rdquo;, it should be separated from the
last name by a comma. There can be multiple occurrences of
the <b>%A</b> field. The order is significant. It is a good
idea always to supply an <b>%A</b> field or a <b>%Q</b>
field.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%B</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>For an article that is part of a book, the title of the
book.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%C</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>The place (city) of publication.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%D</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>The date of publication. The year should be specified in
full. If the month is specified, the name rather than the
number of the month should be used, but only the first three
letters are required. It is a good idea always to supply a
<b>%D</b> field; if the date is unknown, a value such as
<b>in press</b> or <b>unknown</b> can be used.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%E</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>For an article that is part of a book, the name of an
editor of the book. Where the work has editors and no
authors, the names of the editors should be given as
<b>%A</b> fields and &ldquo;<b>,&nbsp;(ed.)</b>&rdquo; or
&ldquo;<b>,&nbsp;(eds.)</b>&rdquo; should be appended to the
last author.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%G</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>U.S. government ordering number.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%I</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>The publisher (issuer).</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%J</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>For an article in a journal, the name of the
journal.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%K</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Keywords to be used for searching.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%L</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Label.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%N</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Journal issue number.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%O</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Other information. This is usually printed at the end of
the reference.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%P</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Page number. A range of pages can be specified as
<i>m</i><b>-</b><i>n</i>.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%Q</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>The name of the author, if the author is not a person.
This will only be used if there are no <b>%A</b> fields.
There can only be one <b>%Q</b> field.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%R</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Technical report number.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%S</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Series name.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%T</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Title. For an article in a book or journal, this should
be the title of the article.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%V</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Volume number of the journal or book.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>%X</b></p></td>
<td width="6%"></td>
<td width="82%">


<p>Annotation.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">For all fields
except <b>%A</b> and <b>%E</b>, if there is more than one
occurrence of a particular field in a record, only the last
such field will be used.</p>

<p style="margin-left:9%; margin-top: 1em">If accent
strings are used, they should follow the character to be
accented. This means that an <i>ms</i> document must call
the <b>.AM</b> macro when it initializes. Accent strings
should not be quoted: use one <b>\</b> rather than two.
Accent strings are an obsolescent feature of the <i>me</i>
and <i>ms</i> macro packages; modern documents should use
<i>groff</i> special character escape sequences instead; see
<a href="man:groff_char(7)"><i>groff_char</i>(7)</a>.</p>

<h3>Citations
<a name="Citations"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Citations have a
characteristic format.</p>

<p style="margin-left:18%;"><b>.[</b><i>opening-text <br>
flags keywords <br>
fields</i> <b><br>
.]</b><i>closing-text</i></p>

<p style="margin-left:9%; margin-top: 1em">The
<i>opening-text</i>, <i>closing-text</i>, and <i>flags</i>
components are optional. Only one of the <i>keywords</i> and
<i>fields</i> components need be specified.</p>

<p style="margin-left:9%; margin-top: 1em">The
<i>keywords</i> component says to search the bibliographic
databases for a reference that contains all the words in
<i>keywords</i>. It is an error if more than one reference
is found.</p>

<p style="margin-left:9%; margin-top: 1em">The
<i>fields</i> components specifies additional fields to
replace or supplement those specified in the reference. When
references are being accumulated and the <i>keywords</i>
component is non-empty, then additional fields should be
specified only on the first occasion that a particular
reference is cited, and will apply to all citations of that
reference.</p>

<p style="margin-left:9%; margin-top: 1em">The
<i>opening-text</i> and <i>closing-text</i> components
specify strings to be used to bracket the label instead of
those in the <b>bracket-label</b> command. If either of
these components is non-empty, the strings specified in the
<b>bracket-label</b> command will not be used; this behavior
can be altered using the <b>[</b> and <b>]</b> flags.
Leading and trailing spaces are significant for these
components.</p>

<p style="margin-left:9%; margin-top: 1em">The <i>flags</i>
component is a list of non-alphanumeric characters each of
which modifies the treatment of this particular citation.
AT&amp;T <i>refer</i> will treat these flags as part of the
keywords and so will ignore them since they are
non-alphanumeric. The following flags are currently
recognized.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p style="margin-top: 1em"><b>#</b></p></td>
<td width="8%"></td>
<td width="82%">


<p style="margin-top: 1em">Use the label specified by the
<b>short-label</b> command, instead of that specified by the
<b>label</b> command. If no short label has been specified,
the normal label will be used. Typically the short label is
used with author-date labels and consists of only the date
and possibly a disambiguating letter; the
&ldquo;<b>#</b>&rdquo; is supposed to be suggestive of a
numeric type of label.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p><b>[</b></p></td>
<td width="8%"></td>
<td width="82%">


<p>Precede <i>opening-text</i> with the first string
specified in the <b>bracket-label</b> command.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="1%">


<p><b>]</b></p></td>
<td width="8%"></td>
<td width="82%">


<p>Follow <i>closing-text</i> with the second string
specified in the <b>bracket-label</b> command.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">An advantage of
using the <b>[</b> and <b>]</b> flags rather than including
the brackets in <i>opening-text</i> and <i>closing-text</i>
is that you can change the style of bracket used in the
document just by changing the <b>bracket-label</b> command.
Another is that sorting and merging of citations will not
necessarily be inhibited if the flags are used.</p>

<p style="margin-left:9%; margin-top: 1em">If a label is to
be inserted into the text, it will be attached to the line
preceding the <b>.[</b> line. If there is no such line, then
an extra line will be inserted before the <b>.[</b> line and
a warning will be given.</p>

<p style="margin-left:9%; margin-top: 1em">There is no
special notation for making a citation to multiple
references. Just use a sequence of citations, one for each
reference. Don&rsquo;t put anything between the citations.
The labels for all the citations will be attached to the
line preceding the first citation. The labels may also be
sorted or merged. See the description of the <b>&lt;&gt;</b>
label expression, and of the <b>sort-adjacent-labels</b> and
<b>abbreviate-label-ranges</b> commands. A label will not be
merged if its citation has a non-empty <i>opening-text</i>
or <i>closing-text</i>. However, the labels for a citation
using the <b>]</b> flag and without any <i>closing-text</i>
immediately followed by a citation using the <b>[</b> flag
and without any <i>opening-text</i> may be sorted and merged
even though the first citation&rsquo;s <i>opening-text</i>
or the second citation&rsquo;s <i>closing-text</i> is
non-empty. (If you wish to prevent this, use the dummy
character escape sequence <b>\&amp;</b> as the first
citation&rsquo;s <i>closing-text</i>.)</p>

<h3>Commands
<a name="Commands"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Commands are
contained between lines starting with <b>.R1</b> and
<b>.R2</b>. Recognition of these lines can be prevented by
the <b>-R</b> option. When a <b>.R1</b> line is recognized
any accumulated references are flushed out. Neither
<b>.R1</b> nor <b>.R2</b> lines, nor anything between them,
is output.</p>

<p style="margin-left:9%; margin-top: 1em">Commands are
separated by newlines or semicolons. A number sign
(<b>#</b>) introduces a comment that extends to the end of
the line, but does not conceal the newline. Each command is
broken up into words. Words are separated by spaces or tabs.
A word that begins with a (neutral) double quote
(<b>&quot;</b>) extends to the next double quote that is not
followed by another double quote. If there is no such double
quote, the word extends to the end of the line. Pairs of
double quotes in a word beginning with a double quote
collapse to one double quote. Neither a number sign nor a
semicolon is recognized inside double quotes. A line can be
continued by ending it with a backslash
&ldquo;<b>\</b>&rdquo;; this works everywhere except after a
number sign.</p>

<p style="margin-left:9%; margin-top: 1em">Each command
<i>name</i> that is marked with * has an associated negative
command <b>no-</b><i>name</i> that undoes the effect of
<i>name</i>. For example, the <b>no-sort</b> command
specifies that references should not be sorted. The negative
commands take no arguments.</p>

<p style="margin-left:9%; margin-top: 1em">In the following
description each argument must be a single word;
<i>field</i> is used for a single upper or lower case letter
naming a field; <i>fields</i> is used for a sequence of such
letters; <i>m</i> and <i>n</i> are used for a non-negative
numbers; <i>string</i> is used for an arbitrary string;
<i>file</i> is used for the name of a file. <b><br>

abbreviate</b>*&nbsp;<i>fields&nbsp;string1&nbsp;string2&nbsp;string3&nbsp;string4</i></p>

<p style="margin-left:18%;">Abbreviate the first names of
<i>fields</i>. An initial letter will be separated from
another initial letter by <i>string1</i>, from the last name
by <i>string2</i>, and from anything else (such as
&ldquo;von&rdquo; or &ldquo;de&rdquo;) by <i>string3</i>.
These default to a period followed by a space. In a
hyphenated first name, the initial of the first part of the
name will be separated from the hyphen by <i>string4</i>;
this defaults to a period. No attempt is made to handle any
ambiguities that might result from abbreviation. Names are
abbreviated before sorting and before label
construction.</p>


<p style="margin-left:9%;"><b>abbreviate-label-ranges</b>*&nbsp;<i>string</i></p>

<p style="margin-left:18%;">Three or more adjacent labels
that refer to consecutive references will be abbreviated to
a label consisting of the first label, followed by
<i>string</i>, followed by the last label. This is mainly
useful with numeric labels. If <i>string</i> is omitted, it
defaults to &ldquo;<b>-</b>&rdquo;.</p>

<p style="margin-left:9%;"><b>accumulate</b>*</p>

<p style="margin-left:18%;">Accumulate references instead
of writing out each reference as it is encountered.
Accumulated references will be written out whenever a
reference of the form</p>

<p style="margin-left:27%;"><b>.[ <br>
$LIST$ <br>
.]</b></p>

<p style="margin-left:18%;">is encountered, after all input
files have been processed, and whenever a <b>.R1</b> line is
recognized.</p>

<p style="margin-left:9%;"><b>annotate</b>*&nbsp;<i>field
string</i></p>

<p style="margin-left:18%;"><i>field</i> is an annotation;
print it at the end of the reference as a paragraph preceded
by the line</p>


<p style="margin-left:27%; margin-top: 1em"><b>.</b><i>string</i></p>

<p style="margin-left:18%; margin-top: 1em">If
<i>string</i> is omitted, it will default to <b>AP</b>; if
<i>field</i> is also omitted it will default to <b>X</b>.
Only one field can be an annotation.</p>


<p style="margin-left:9%;"><b>articles&nbsp;</b><i>string&nbsp;</i>...</p>

<p style="margin-left:18%;">Each <i>string</i> is a
definite or indefinite article, and should be ignored at the
beginning of <b>T</b> fields when sorting. Initially,
&ldquo;a&rdquo;, &ldquo;an&rdquo;, and &ldquo;the&rdquo; are
recognized as articles.</p>


<p style="margin-left:9%;"><b>bibliography&nbsp;</b><i>file&nbsp;</i>...</p>

<p style="margin-left:18%;">Write out all the references
contained in each bibliographic database <i>file</i>. This
command should come last in an <b>.R1</b>/<b>.R2</b>
block.</p>


<p style="margin-left:9%;"><b>bracket-label&nbsp;</b><i>string1
string2 string3</i></p>

<p style="margin-left:18%;">In the text, bracket each label
with <i>string1</i> and <i>string2</i>. An occurrence of
<i>string2</i> immediately followed by <i>string1</i> will
be turned into <i>string3</i>. The default behavior is as
follows.</p>

<p style="margin-left:27%;"><b>bracket-label \*([. \*(.]
&quot;, &quot;</b></p>


<p style="margin-left:9%;"><b>capitalize&nbsp;</b><i>fields</i></p>

<p style="margin-left:18%;">Convert <i>fields</i> to caps
and small caps.</p>

<p style="margin-left:9%;"><b>compatible</b>*</p>

<p style="margin-left:18%;">Recognize <b>.R1</b> and
<b>.R2</b> even when followed by a character other than
space or newline.</p>


<p style="margin-left:9%;"><b>database&nbsp;</b><i>file&nbsp;</i>...</p>

<p style="margin-left:18%;">Search each bibliographic
database <i>file</i>. For each <i>file</i>, if an index
file<i>.i</i> created by
<a href="man:indxbib(1)"><i>indxbib</i>(1)</a> exists, then
it will be searched instead; each index can cover multiple
databases.</p>


<p style="margin-left:9%;"><b>date-as-label</b>*&nbsp;<i>string</i></p>

<p style="margin-left:18%;"><i>string</i> is a label
expression that specifies a string with which to replace the
<b>D</b> field after constructing the label. See subsection
&ldquo;Label expressions&rdquo; below for a description of
label expressions. This command is useful if you do not want
explicit labels in the reference list, but instead want to
handle any necessary disambiguation by qualifying the date
in some way. The label used in the text would typically be
some combination of the author and date. In most cases you
should also use the <b>no-label-in-reference</b> command.
For example,</p>

<p style="margin-left:27%;"><b>date-as-label
D.+yD.y%a*D.-y</b></p>

<p style="margin-left:18%;">would attach a disambiguating
letter to the year part of the <b>D</b> field in the
reference.</p>

<p style="margin-left:9%;"><b>default-database</b>*</p>

<p style="margin-left:18%;">The default database should be
searched. This is the default behavior, so the negative
version of this command is more useful. <i>refer</i>
determines whether the default database should be searched
on the first occasion that it needs to do a search. Thus a
<b>no-default-database</b> command must be given before
then, in order to be effective.</p>


<p style="margin-left:9%;"><b>discard</b>*&nbsp;<i>fields</i></p>

<p style="margin-left:18%;">When the reference is read,
<i>fields</i> should be discarded; no string definitions for
<i>fields</i> will be output. Initially, <i>fields</i> are
<b>XYZ</b>.</p>

<p style="margin-left:9%;"><b>et-al</b>*&nbsp;<i>string m
n</i></p>

<p style="margin-left:18%;">Control use of <b>et al.</b> in
the evaluation of <b>@</b> expressions in label expressions.
If the number of authors needed to make the author sequence
unambiguous is <i>u</i> and the total number of authors is
<i>t</i> then the last <i>t</i>-<i>u</i> authors will be
replaced by <i>string</i> provided that <i>t</i>-<i>u</i> is
not less than <i>m</i> and <i>t</i> is not less than
<i>n</i>. The default behavior is as follows.</p>

<p style="margin-left:27%;"><b>et-al &quot; et al&quot; 2
3</b></p>

<p style="margin-left:18%;">Note the absence of a dot from
the end of the abbreviation, which is arguably not correct.
(<i>Et al</i>[.] is short for <i>et alli</i>, as <i>etc.</i>
is short for <i>et cetera</i>.)</p>


<p style="margin-left:9%;"><b>include&nbsp;</b><i>file</i></p>

<p style="margin-left:18%;">Include <i>file</i> and
interpret the contents as commands.</p>


<p style="margin-left:9%;"><b>join-authors&nbsp;</b><i>string1
string2 string3</i></p>

<p style="margin-left:18%;">Join multiple authors together
with <i>string</i>s. When there are exactly two authors,
they will be joined with <i>string1</i>. When there are more
than two authors, all but the last two will be joined with
<i>string2</i>, and the last two authors will be joined with
<i>string3</i>. If <i>string3</i> is omitted, it will
default to <i>string1</i>; if <i>string2</i> is also omitted
it will also default to <i>string1</i>. For example,</p>

<p style="margin-left:27%;">join-authors &quot; and &quot;
&quot;, &quot; &quot;, and &quot;</p>

<p style="margin-left:18%;">will restore the default method
for joining authors.</p>

<p style="margin-left:9%;"><b>label-in-reference</b>*</p>

<p style="margin-left:18%;">When outputting the reference,
define the string <b>[F</b> to be the reference&rsquo;s
label. This is the default behavior, so the negative version
of this command is more useful.</p>

<p style="margin-left:9%;"><b>label-in-text</b>*</p>

<p style="margin-left:18%;">For each reference output a
label in the text. The label will be separated from the
surrounding text as described in the <b>bracket-label</b>
command. This is the default behavior, so the negative
version of this command is more useful.</p>


<p style="margin-left:9%;"><b>label&nbsp;</b><i>string</i></p>

<p style="margin-left:18%;"><i>string</i> is a label
expression describing how to label each reference.</p>


<p style="margin-left:9%;"><b>separate-label-second-parts&nbsp;</b><i>string</i></p>

<p style="margin-left:18%;">When merging two-part labels,
separate the second part of the second label from the first
label with <i>string</i>. See the description of the
<b>&lt;&gt;</b> label expression.</p>

<p style="margin-left:9%;"><b>move-punctuation</b>*</p>

<p style="margin-left:18%;">In the text, move any
punctuation at the end of line past the label. It is usually
a good idea to give this command unless you are using
superscripted numbers as labels.</p>


<p style="margin-left:9%;"><b>reverse</b>*&nbsp;<i>string</i></p>

<p style="margin-left:18%;">Reverse the fields whose names
are in <i>string</i>. Each field name can be followed by a
number which says how many such fields should be reversed.
If no number is given for a field, all such fields will be
reversed.</p>


<p style="margin-left:9%;"><b>search-ignore</b>*&nbsp;<i>fields</i></p>

<p style="margin-left:18%;">While searching for keys in
databases for which no index exists, ignore the contents of
<i>fields</i>. Initially, fields <b>XYZ</b> are ignored.</p>


<p style="margin-left:9%;"><b>search-truncate</b>*&nbsp;<i>n</i></p>

<p style="margin-left:18%;">Only require the first <i>n</i>
characters of keys to be given. In effect when searching for
a given key words in the database are truncated to the
maximum of <i>n</i> and the length of the key. Initially,
<i>n</i> is&nbsp;6.</p>


<p style="margin-left:9%;"><b>short-label</b>*&nbsp;<i>string</i></p>

<p style="margin-left:18%;"><i>string</i> is a label
expression that specifies an alternative (usually shorter)
style of label. This is used when the <b>#</b> flag is given
in the citation. When using author-date style labels, the
identity of the author or authors is sometimes clear from
the context, and so it may be desirable to omit the author
or authors from the label. The <b>short-label</b> command
will typically be used to specify a label containing just a
date and possibly a disambiguating letter.</p>


<p style="margin-left:9%;"><b>sort</b>*&nbsp;<i>string</i></p>

<p style="margin-left:18%;">Sort references according to
<i>string</i>. References will automatically be accumulated.
<i>string</i> should be a list of field names, each followed
by a number, indicating how many fields with the name should
be used for sorting. &ldquo;<b>+</b>&rdquo; can be used to
indicate that all the fields with the name should be used.
Also <b>.</b> can be used to indicate the references should
be sorted using the (tentative) label. (Subsection
&ldquo;Label expressions&rdquo; below describes the concept
of a tentative label.)</p>


<p style="margin-left:9%;"><b>sort-adjacent-labels</b>*</p>

<p style="margin-left:18%;">Sort labels that are adjacent
in the text according to their position in the reference
list. This command should usually be given if the
<b>abbreviate-label-ranges</b> command has been given, or if
the label expression contains a <b>&lt;&gt;</b> expression.
This will have no effect unless references are being
accumulated.</p>

<h3>Label expressions
<a name="Label expressions"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Label
expressions can be evaluated both normally and tentatively.
The result of normal evaluation is used for output. The
result of tentative evaluation, called the <i>tentative
label</i>, is used to gather the information that normal
evaluation needs to disambiguate the label. Label
expressions specified by the <b>date-as-label</b> and
<b>short-label</b> commands are not evaluated tentatively.
Normal and tentative evaluation are the same for all types
of expression other than <b>@</b>, <b>*</b>, and <b>%</b>
expressions. The description below applies to normal
evaluation, except where otherwise specified.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p><i>field</i></p></td>
<td width="85%">
</td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em"><i>field&nbsp;n</i></p>

<p style="margin-left:18%;">The <i>n</i>-th part of
<i>field</i>. If <i>n</i> is omitted, it defaults
to&nbsp;1.</p>


<p style="margin-left:9%;"><b>'</b><i>string</i><b>'</b></p>

<p style="margin-left:18%;">The characters in <i>string</i>
literally.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>@</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>All the authors joined as specified by the
<b>join-authors</b> command. The whole of each
author&rsquo;s name will be used. However, if the references
are sorted by author (that is, the sort specification starts
with &ldquo;<b>A+</b>&rdquo;), then authors&rsquo; last
names will be used instead, provided that this does not
introduce ambiguity, and also an initial subsequence of the
authors may be used instead of all the authors, again
provided that this does not introduce ambiguity. The use of
only the last name for the <i>i</i>-th author of some
reference is considered to be ambiguous if there is some
other reference, such that the first <i>i</i>-1 authors of
the references are the same, the <i>i</i>-th authors are not
the same, but the <i>i</i>-th authors last names are the
same. A proper initial subsequence of the sequence of
authors for some reference is considered to be ambiguous if
there is a reference with some other sequence of authors
which also has that subsequence as a proper initial
subsequence. When an initial subsequence of authors is used,
the remaining authors are replaced by the string specified
by the <b>et-al</b> command; this command may also specify
additional requirements that must be met before an initial
subsequence can be used. <b>@</b> tentatively evaluates to a
canonical representation of the authors, such that authors
that compare equally for sorting purpose will have the same
representation.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>%</b><i>n</i></p></td>
<td width="1%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>%a</b></p></td>
<td width="1%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>%A</b></p></td>
<td width="1%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>%i</b></p></td>
<td width="1%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>%I</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>The serial number of the reference formatted according
to the character following the <b>%</b>. The serial number
of a reference is&nbsp;1 plus the number of earlier
references with same tentative label as this reference.
These expressions tentatively evaluate to an empty
string.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>*</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>If there is another reference with the same tentative
label as this reference, then <i>expr</i>, otherwise an
empty string. It tentatively evaluates to an empty
string.</p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>+</b><i>n</i></p></td>
<td width="1%"></td>
<td width="82%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>-</b><i>n</i></p></td>
<td width="1%"></td>
<td width="82%">


<p>The first (<b>+</b>) or last (<b>-</b>) <i>n</i> upper
or lower case letters or digits of <i>expr</i>. <i>roff</i>
special characters (such as <b>\('a</b>) count as a single
letter. Accent strings are retained but do not count towards
the total.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.l</b></p></td>
<td width="1%"></td>
<td width="82%">


<p><i>expr</i> converted to lowercase.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.u</b></p></td>
<td width="1%"></td>
<td width="82%">


<p><i>expr</i> converted to uppercase.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.c</b></p></td>
<td width="1%"></td>
<td width="82%">


<p><i>expr</i> converted to caps and small caps.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.r</b></p></td>
<td width="1%"></td>
<td width="82%">


<p><i>expr</i> reversed so that the last name is first.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.a</b></p></td>
<td width="1%"></td>
<td width="82%">


<p><i>expr</i> with first names abbreviated. Fields
specified in the <b>abbreviate</b> command are abbreviated
before any labels are evaluated. Thus <b>.a</b> is useful
only when you want a field to be abbreviated in a label but
not in a reference.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.y</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>The year part of <i>expr</i>.</p></td></tr>
</table>

<p style="margin-left:9%;"><i>expr</i><b>.+y</b></p>

<p style="margin-left:18%;">The part of <i>expr</i> before
the year, or the whole of <i>expr</i> if it does not contain
a year.</p>

<p style="margin-left:9%;"><i>expr</i><b>.-y</b></p>

<p style="margin-left:18%;">The part of <i>expr</i> after
the year, or an empty string if <i>expr</i> does not contain
a year.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><i>expr</i><b>.n</b></p></td>
<td width="1%"></td>
<td width="35%">


<p>The last name part of <i>expr</i>.</p></td>
<td width="47%">
</td></tr>
</table>


<p style="margin-left:9%;"><i>expr1</i><b>~</b><i>expr2</i></p>

<p style="margin-left:18%;"><i>expr1</i> except that if the
last character of <i>expr1</i> is <b>-</b> then it will be
replaced by <i>expr2</i>.</p>

<p style="margin-left:9%;"><i>expr1 expr2</i></p>

<p style="margin-left:18%;">The concatenation of
<i>expr1</i> and <i>expr2</i>.</p>


<p style="margin-left:9%;"><i>expr1</i><b>|</b><i>expr2</i></p>

<p style="margin-left:18%;">If <i>expr1</i> is non-empty
then <i>expr1</i> otherwise <i>expr2</i>.</p>


<p style="margin-left:9%;"><i>expr1</i><b>&amp;</b><i>expr2</i></p>

<p style="margin-left:18%;">If <i>expr1</i> is non-empty
then <i>expr2</i> otherwise an empty string.</p>


<p style="margin-left:9%;"><i>expr1</i><b>?</b><i>expr2</i><b>:</b><i>expr3</i></p>

<p style="margin-left:18%;">If <i>expr1</i> is non-empty
then <i>expr2</i> otherwise <i>expr3</i>.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>&lt;</b><i>expr</i><b>&gt;</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>The label is in two parts, which are separated by
<i>expr</i>. Two adjacent two-part labels which have the
same first part will be merged by appending the second part
of the second label onto the first label separated by the
string specified in the <b>separate-label-second-parts</b>
command (initially, a comma followed by a space); the
resulting label will also be a two-part label with the same
first part as before merging, and so additional labels can
be merged into it. It is permissible for the first part to
be empty; this may be desirable for expressions used in the
<b>short-label</b> command.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p><b>(</b><i>expr</i><b>)</b></p></td>
<td width="1%"></td>
<td width="82%">


<p>The same as <i>expr</i>. Used for grouping.</p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The above
expressions are listed in order of precedence (highest
first); <b>&amp;</b> and <b>|</b> have the same
precedence.</p>

<h3>Macro interface
<a name="Macro interface"></a>
</h3>


<p style="margin-left:9%; margin-top: 1em">Each reference
starts with a call to the macro <b>]-</b>. The string
<b>[F</b> will be defined to be the label for this
reference, unless the <b>no-label-in-reference</b> command
has been given. There then follows a series of string
definitions, one for each field: string <b>[</b><i>X</i>
corresponds to field <i>X</i>. The register <b>[P</b> is set
to&nbsp;1 if the <b>P</b> field contains a range of pages.
The <b>[T</b>, <b>[A</b> and <b>[O</b> registers are set
to&nbsp;1 according as the <b>T</b>, <b>A</b> and <b>O</b>
fields end with any of <b>.?!</b> (an end-of-sentence
character). The <b>[E</b> register will be set to&nbsp;1 if
the <b>[E</b> string contains more than one name. The
reference is followed by a call to the <b>][</b> macro. The
first argument to this macro gives a number representing the
type of the reference. If a reference contains a <b>J</b>
field, it will be classified as type&nbsp;1, otherwise if it
contains a <b>B</b> field, it will be type&nbsp;3, otherwise
if it contains a <b>G</b> or <b>R</b> field it will be
type&nbsp;4, otherwise if it contains an <b>I</b> field it
will be type&nbsp;2, otherwise it will be type&nbsp;0. The
second argument is a symbolic name for the type:
<b>other</b>, <b>journal-article</b>, <b>book</b>,
<b>article-in-book</b>, or <b>tech-report</b>. Groups of
references that have been accumulated or are produced by the
<b>bibliography</b> command are preceded by a call to the
<b>]&lt;</b> macro and followed by a call to the
<b>]&gt;</b> macro.</p>

<h2>Options
<a name="Options"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>--help</b>
displays a usage message, while <b>-v</b> and
<b>--version</b> show version information; all exit
afterward.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p style="margin-top: 1em"><b>-R</b></p></td>
<td width="6%"></td>
<td width="58%">


<p style="margin-top: 1em">Don&rsquo;t recognize lines
beginning with <b>.R1</b>/<b>.R2</b>.</p></td>
<td width="24%">
</td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">Other options
are equivalent to <i>refer</i> commands.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p style="margin-top: 1em"><b>-a&nbsp;</b><i>n</i></p></td>
<td width="7%"></td>
<td width="71%">


<p style="margin-top: 1em"><b>reverse A</b><i>n</i></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-b</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>no-label-in-text; no-label-in-reference</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-B</b></p></td>
<td width="7%"></td>
<td width="71%">


<p>See below.</p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-c&nbsp;</b><i>fields</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>capitalize</b> <i>fields</i></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-C</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>compatible</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-e</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>accumulate</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-f&nbsp;</b><i>n</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label %</b><i>n</i></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-i&nbsp;</b><i>fields</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>search-ignore</b> <i>fields</i></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-k</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label L~%a</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-k&nbsp;</b><i>field</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label</b> <i>field</i><b>~%a</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-l</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label A.nD.y%a</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-l&nbsp;</b><i>m</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label A.n+</b><i>m</i><b>D.y%a</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-l&nbsp;,</b><i>n</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label A.nD.y-</b><i>n</i><b>%a</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-l&nbsp;</b><i>m</i><b>,</b><i>n</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label
A.n+</b><i>m</i><b>D.y-</b><i>n</i><b>%a</b></p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-n</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>no-default-database</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-p&nbsp;</b><i>db-file</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>database</b> <i>db-file</i></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-P</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>move-punctuation</b></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-s&nbsp;</b><i>spec</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>sort</b> <i>spec</i></p></td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-S</b></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>label &quot;(A.n|Q) ', ' (D.y|D)&quot;; bracket-label
&quot;&nbsp;(&quot;&nbsp;)&nbsp;&quot;;&nbsp;&quot;</b></p> </td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="13%">


<p><b>-t&nbsp;</b><i>n</i></p></td>
<td width="7%"></td>
<td width="71%">


<p><b>search-truncate</b> <i>n</i></p></td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">The <b>B</b>
option has command equivalents with the addition that the
file names specified on the command line are processed as if
they were arguments to the <b>bibliography</b> command
instead of in the normal way.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="18%">


<p style="margin-top: 1em"><b>-B</b></p></td>
<td width="2%"></td>
<td width="56%">


<p style="margin-top: 1em"><b>annotate X AP;
no-label-in-reference</b></p> </td>
<td width="15%">
</td></tr>
<tr valign="top" align="left">
<td width="9%"></td>
<td width="18%">


<p><b>-B&nbsp;</b><i>field</i><b>.</b><i>macro</i></p></td>
<td width="2%"></td>
<td width="56%">


<p><b>annotate</b> <i>field macro</i><b>;
no-label-in-reference</b></p> </td>
<td width="15%">
</td></tr>
</table>

<h2>Environment
<a name="Environment"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="6%">


<p style="margin-top: 1em"><b><i>REFER</i></b></p></td>
<td width="3%"></td>
<td width="50%">


<p style="margin-top: 1em">If set, overrides the default
database.</p> </td>
<td width="32%">
</td></tr>
</table>

<h2>Files
<a name="Files"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><i>/usr/dict/papers/Ind</i></p>

<p style="margin-left:18%;">Default database.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="8%">


<p>file<i>.i</i></p></td>
<td width="1%"></td>
<td width="15%">


<p>Index files.</p></td>
<td width="67%">
</td></tr>
</table>


<p style="margin-left:9%;"><i>/usr/share/groff/1.23.0/tmac/refer.tmac</i></p>

<p style="margin-left:18%;">defines macros and strings
facilitating integration with macro packages that wish to
support <i>refer</i>.</p>

<p style="margin-left:9%; margin-top: 1em"><i>refer</i>
uses temporary files. See the
<a href="man:groff(1)"><i>groff</i>(1)</a> man page for
details of where such files are created.</p>

<h2>Bugs
<a name="Bugs"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">In label
expressions, <b>&lt;&gt;</b> expressions are ignored inside
<b>.</b><i>char</i> expressions.</p>

<h2>Examples
<a name="Examples"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">We can
illustrate the operation of <i>refer</i> with a sample
bibliographic database containing one entry and a simple
<i>roff</i> document to cite that entry.</p>

<p style="margin-left:18%; margin-top: 1em">$ <b>cat &gt;
my-db-file <br>
%A Daniel P.\&amp; Friedman <br>
%A Matthias Felleisen <br>
%C Cambridge, Massachusetts <br>
%D 1996 <br>
%I The MIT Press <br>
%T The Little Schemer, Fourth Edition</b> <br>
$ <b>refer -p my-db-file <br>
Read the book <br>
.[ <br>
friedman <br>
.] <br>
on your summer vacation.</b> <i><br>
&lt;Control+D&gt;</i> <br>
.lf 1 - <br>
Read the book\*([.1\*(.] <br>
.ds [F 1 <br>
.]- <br>
.ds [A Daniel P. Friedman and Matthias Felleisen <br>
.ds [C Cambridge, Massachusetts <br>
.ds [D 1996 <br>
.ds [I The MIT Press <br>
.ds [T The Little Schemer, Fourth Edition <br>
.nr [T 0 <br>
.nr [A 0 <br>
.][ 2 book <br>
.lf 5 - <br>
on your summer vacation.</p>

<p style="margin-left:9%; margin-top: 1em">The foregoing
shows us that <i>refer</i> (a) produces a label
&ldquo;1&rdquo;; (b) brackets that label with interpolations
of the &ldquo;<b>[.</b>&rdquo; and &ldquo;<b>.]</b>&rdquo;
strings; (c) calls a macro &ldquo;<b>]-</b>&rdquo;; (d)
defines strings and registers containing the label and
bibliographic data for the reference; (e) calls a macro
&ldquo;<b>][</b>&rdquo;; and (f) uses the <b>lf</b> request
to restore the line numbers of the original input. As
discussed in subsection &ldquo;Macro interface&rdquo; above,
it is up to the document or a macro package to employ and
format this information usefully. Let us see how we might
turn <a href="man:groff_ms(7)"><i>groff_ms</i>(7)</a> to
this task.</p>

<p style="margin-left:18%; margin-top: 1em">$
<b>REFER=my-db-file groff -R -ms <br>
.LP <br>
Read the book <br>
.[ <br>
friedman <br>
.] <br>
on your summer vacation. <br>
Commentary is available.\*{*\*} <br>
.FS \*{*\*} <br>
Space reserved for penetrating insight. <br>
.FE</b></p>


<p style="margin-left:9%; margin-top: 1em"><i>ms</i>&rsquo;s
automatic footnote numbering mechanism is not aware of
<i>refer</i>&rsquo;s label numbering, so we have manually
specified a (superscripted) symbolic footnote for our
non-bibliographic aside.</p>

<h2>See also
<a name="See also"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">&ldquo;Some
Applications of Inverted Indexes on the Unix System&rdquo;,
by M. E. Lesk, 1978, AT&amp;T Bell Laboratories Computing
Science Technical Report No. 69.</p>


<p style="margin-left:9%; margin-top: 1em"><a href="man:indxbib(1)"><i>indxbib</i>(1)</a>,
<a href="man:lookbib(1)"><i>lookbib</i>(1)</a>,
<a href="man:lkbib(1)"><i>lkbib</i>(1)</a></p>
<hr>
</body>
</html>
