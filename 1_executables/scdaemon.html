<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:30:07 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>SCDAEMON</title>

</head>
<body>

<h1 align="center">SCDAEMON</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#COMMANDS">COMMANDS</a><br>
<a href="#OPTIONS">OPTIONS</a><br>
<a href="#CARD APPLICATIONS">CARD APPLICATIONS</a><br>
<a href="#The OpenPGP card application &lsquo;&lsquo;openpgp&rsquo;&rsquo;">The OpenPGP card application &lsquo;&lsquo;openpgp&rsquo;&rsquo;</a><br>
<a href="#The Telesec NetKey card &lsquo;&lsquo;nks&rsquo;&rsquo;">The Telesec NetKey card &lsquo;&lsquo;nks&rsquo;&rsquo;</a><br>
<a href="#The DINSIG card application &lsquo;&lsquo;dinsig&rsquo;&rsquo;">The DINSIG card application &lsquo;&lsquo;dinsig&rsquo;&rsquo;</a><br>
<a href="#The PKCS#15 card application &lsquo;&lsquo;p15&rsquo;&rsquo;">The PKCS#15 card application &lsquo;&lsquo;p15&rsquo;&rsquo;</a><br>
<a href="#The Geldkarte card application &lsquo;&lsquo;geldkarte&rsquo;&rsquo;">The Geldkarte card application &lsquo;&lsquo;geldkarte&rsquo;&rsquo;</a><br>
<a href="#The SmartCard-HSM card application &lsquo;&lsquo;sc-hsm&rsquo;&rsquo;">The SmartCard-HSM card application &lsquo;&lsquo;sc-hsm&rsquo;&rsquo;</a><br>
<a href="#The Undefined card application &lsquo;&lsquo;undefined&rsquo;&rsquo;">The Undefined card application &lsquo;&lsquo;undefined&rsquo;&rsquo;</a><br>
<a href="#EXAMPLES">EXAMPLES</a><br>
<a href="#FILES">FILES</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>scdaemon</b>
- Smartcard daemon for the GnuPG system</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>scdaemon</b>
[<b>--homedir</b> <i>dir</i>] [<b>--options</b> <i>file</i>]
[<i>options</i>] <b>--server <br>
scdaemon</b> [<b>--homedir</b> <i>dir</i>] [<b>--options</b>
<i>file</i>] [<i>options</i>] <b>--daemon</b>
[<i>command_line</i>]</p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">The
<b>scdaemon</b> is a daemon to manage smartcards. It is
usually invoked by <b>gpg-agent</b> and in general not used
directly.</p>

<h2>COMMANDS
<a name="COMMANDS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">Commands are not
distinguished from options except for the fact that only one
command is allowed. <b><br>
--version</b></p>

<p style="margin-left:18%;">Print the program version and
licensing information. Note that you cannot abbreviate this
command.</p>

<p style="margin-left:9%;"><b>--help, -h</b></p>

<p style="margin-left:18%;">Print a usage message
summarizing the most useful command-line options. Note that
you cannot abbreviate this command.</p>

<p style="margin-left:9%;"><b>--dump-options</b></p>

<p style="margin-left:18%;">Print a list of all available
options and commands. Note that you cannot abbreviate this
command.</p>

<p style="margin-left:9%;"><b>--server</b></p>

<p style="margin-left:18%;">Run in server mode and wait for
commands on the <b>stdin</b>. The default mode is to create
a socket and listen for commands there.</p>

<p style="margin-left:9%;"><b>--multi-server</b></p>

<p style="margin-left:18%;">Run in server mode and wait for
commands on the <b>stdin</b> as well as on an additional
Unix Domain socket. The server command <b>GETINFO</b> may be
used to get the name of that extra socket.</p>

<p style="margin-left:9%;"><b>--daemon</b></p>

<p style="margin-left:18%;">Run the program in the
background. This option is required to prevent it from being
accidentally running in the background.</p>

<h2>OPTIONS
<a name="OPTIONS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>--options</b>
<i>file</i></p>

<p style="margin-left:18%;">Reads configuration from
<i>file</i> instead of from the default per-user
configuration file. The default configuration file is named
&lsquo;<i>scdaemon.conf</i>&rsquo; and expected in the
&lsquo;<i>.gnupg</i>&rsquo; directory directly below the
home directory of the user.</p>

<p style="margin-left:9%;"><b>--homedir</b> <i>dir</i></p>

<p style="margin-left:18%;">Set the name of the home
directory to <i>dir</i>. If this option is not used, the
home directory defaults to
&lsquo;<i>&#732;/.gnupg</i>&rsquo;. It is only recognized
when given on the command line. It also overrides any home
directory stated through the environment variable
&lsquo;<i>GNUPGHOME</i>&rsquo; or (on Windows systems) by
means of the Registry entry
<i>HKCU\Software\GNU\GnuPG:HomeDir</i>.</p>

<p style="margin-left:18%; margin-top: 1em">On Windows
systems it is possible to install GnuPG as a portable
application. In this case only this command line option is
considered, all other ways to set a home directory are
ignored.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="3%">


<p><b>-v</b></p></td>
<td width="88%">
</td></tr>
</table>


<p style="margin-left:9%; margin-top: 1em"><b>--verbose</b></p>

<p style="margin-left:18%;">Outputs additional information
while running. You can increase the verbosity by giving
several verbose commands to <b>gpgsm</b>, such as
&lsquo;-vv&rsquo;.</p>

<p style="margin-left:9%;"><b>--debug-level</b>
<i>level</i></p>

<p style="margin-left:18%;">Select the debug level for
investigating problems. <i>level</i> may be a numeric value
or a keyword:</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="6%">


<p><b>none</b></p></td>
<td width="3%"></td>
<td width="73%">


<p>No debugging at all. A value of less than 1 may be used
instead of the keyword.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="6%">


<p><b>basic</b></p></td>
<td width="3%"></td>
<td width="73%">


<p>Some basic debug messages. A value between 1 and 2 may
be used instead of the keyword.</p></td></tr>
</table>

<p style="margin-left:18%;"><b>advanced</b></p>

<p style="margin-left:27%;">More verbose debug messages. A
value between 3 and 5 may be used instead of the
keyword.</p>

<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%">


<p><b>expert</b></p></td>
<td width="1%"></td>
<td width="73%">


<p>Even more detailed messages. A value between 6 and 8 may
be used instead of the keyword.</p></td></tr>
<tr valign="top" align="left">
<td width="18%"></td>
<td width="8%">


<p><b>guru</b></p></td>
<td width="1%"></td>
<td width="73%">


<p>All of the debug messages you can get. A value greater
than 8 may be used instead of the keyword. The creation of
hash tracing files is only enabled if the keyword is
used.</p> </td></tr>
</table>

<p style="margin-left:9%; margin-top: 1em">How these
messages are mapped to the actual debugging flags is not
specified and may change with newer releases of this
program. They are however carefully selected to best aid in
debugging.</p>

<p style="margin-left:18%; margin-top: 1em"><b>All
debugging options are subject to change and thus should not
be used by any application program. As the name says, they
are only used as helpers to debug problems.</b></p>

<p style="margin-left:9%;"><b>--debug</b> <i>flags</i></p>

<p style="margin-left:18%;">Set debug flags. All flags are
or-ed and <i>flags</i> may be given in C syntax (e.g.
0x0042) or as a comma separated list of flag names. To get a
list of all supported flags the single word &quot;help&quot;
can be used. This option is only useful for debugging and
the behavior may change at any time without notice.</p>

<p style="margin-left:9%;"><b>--debug-all</b></p>

<p style="margin-left:18%;">Same as
<b>--debug=0xffffffff</b></p>

<p style="margin-left:9%;"><b>--debug-wait</b> <i>n</i></p>

<p style="margin-left:18%;">When running in server mode,
wait <i>n</i> seconds before entering the actual processing
loop and print the pid. This gives time to attach a
debugger.</p>

<p style="margin-left:9%;"><b>--debug-ccid-driver</b></p>

<p style="margin-left:18%;">Enable debug output from the
included CCID driver for smartcards. Using this option twice
will also enable some tracing of the T=1 protocol. Note that
this option may reveal sensitive data.</p>


<p style="margin-left:9%;"><b>--debug-disable-ticker</b></p>

<p style="margin-left:18%;">This option disables all ticker
functions like checking for card insertions.</p>


<p style="margin-left:9%;"><b>--debug-allow-core-dump</b></p>

<p style="margin-left:18%;">For security reasons we
won&rsquo;t create a core dump when the process aborts. For
debugging purposes it is sometimes better to allow core
dump. This option enables it and also changes the working
directory to &lsquo;<i>/tmp</i>&rsquo; when running in
<b>--server</b> mode.</p>

<p style="margin-left:9%;"><b>--debug-log-tid</b></p>

<p style="margin-left:18%;">This option appends a thread ID
to the PID in the log output.</p>

<p style="margin-left:9%;"><b>--debug-assuan-log-cats</b>
<i>cats</i></p>

<p style="margin-left:18%;">Changes the active Libassuan
logging categories to <i>cats</i>. The value for <i>cats</i>
is an unsigned integer given in usual C-Syntax. A value of 0
switches to a default category. If this option is not used
the categories are taken from the environment variable
<b>ASSUAN_DEBUG</b>. Note that this option has only an
effect if the Assuan debug flag has also been with the
option <b>--debug</b>. For a list of categories see the
Libassuan manual.</p>

<p style="margin-left:9%;"><b>--no-detach</b></p>

<p style="margin-left:18%;">Don&rsquo;t detach the process
from the console. This is mainly useful for debugging.</p>

<p style="margin-left:9%;"><b>--listen-backlog</b>
<i>n</i></p>

<p style="margin-left:18%;">Set the size of the queue for
pending connections. The default is 64. This option has an
effect only if <b>--multi-server</b> is also used.</p>

<p style="margin-left:9%;"><b>--log-file</b>
<i>file</i></p>

<p style="margin-left:18%;">Append all logging output to
<i>file</i>. This is very helpful in seeing what the agent
actually does. Use &lsquo;<i>socket://</i>&rsquo; to log to
socket.</p>

<p style="margin-left:9%;"><b>--pcsc-shared</b></p>

<p style="margin-left:18%;">Use shared mode to access the
card via PC/SC. This is a somewhat dangerous option because
Scdaemon assumes exclusive access to the card and for
example caches certain information from the card. Use this
option only if you know what you are doing.</p>

<p style="margin-left:9%;"><b>--pcsc-driver</b>
<i>library</i></p>

<p style="margin-left:18%;">Use <i>library</i> to access
the smartcard reader. The current default on Unix is
&lsquo;<i>libpcsclite.so</i>&rsquo; and on Windows
&lsquo;<i>winscard.dll</i>&rsquo;. Instead of using this
option you might also want to install a symbolic link to the
default file name (e.g. from
&lsquo;<i>libpcsclite.so.1</i>&rsquo;). A Unicode file name
may not be used on Windows.</p>

<p style="margin-left:9%;"><b>--disable-ccid</b></p>

<p style="margin-left:18%;">The integrated CCID driver for
CCID compliant devices can be available when libusb was
detected at build time, and it is used to access the
smartcard reader. If access via PC/SC driver is needed,
please configure this option to disable CCID driver support
(if any). In GnuPG 2.2, there was a fallback mechanism from
CCID driver to PC/SC driver. The fallback mechanism worked,
because scdaemon in GnuPG 2.2 only supported a single
token/reader. To support of multiple tokens/readers at the
same time, fallback mechanism was removed.</p>

<p style="margin-left:9%;"><b>--reader-port</b>
<i>number_or_string</i></p>

<p style="margin-left:18%;">This option may be used to
specify the port of the card terminal. A value of 0 refers
to the first serial device; add 32768 to access USB devices.
The default is 32768 (first USB device). PC/SC or CCID
readers might need a string here; run the program in verbose
mode to get a list of available readers. The default is then
the first reader found.</p>

<p style="margin-left:18%; margin-top: 1em">To get a list
of available CCID readers you may use this command:</p>

<p style="margin-left:12%;">echo scd getinfo reader_list \
<br>
| gpg-connect-agent --decode | awk &rsquo;/&#710;D/ {print
$2}&rsquo;</p>

<p style="margin-left:9%;"><b>--card-timeout</b>
<i>n</i></p>

<p style="margin-left:18%;">This option is deprecated. In
GnuPG 2.0, it used to be used for DISCONNECT command to
control timing issue. Since DISCONNECT command works
synchronously, it has no effect.</p>


<p style="margin-left:9%;"><b>--enable-pinpad-varlen</b></p>

<p style="margin-left:18%;">Please specify this option when
the card reader supports variable length input for pinpad
(default is no). For known readers (listed in ccid-driver.c
and apdu.c), this option is not needed. Note that if your
card reader doesn&rsquo;t supports variable length input but
you want to use it, you need to specify your pinpad request
on your card.</p>

<p style="margin-left:9%;"><b>--disable-pinpad</b></p>

<p style="margin-left:18%;">Even if a card reader features
a pinpad, do not try to use it.</p>

<p style="margin-left:9%;"><b>--deny-admin</b></p>

<p style="margin-left:18%;">This option disables the use of
admin class commands for card applications where this is
supported. Currently we support it for the OpenPGP card.
This option is useful to inhibit accidental access to admin
class command which could ultimately lock the card through
wrong PIN numbers. Note that GnuPG versions older than
2.0.11 featured an <b>--allow-admin</b> option which was
required to use such admin commands. This option has no more
effect today because the default is now to allow admin
commands.</p>

<p style="margin-left:9%;"><b>--disable-application</b>
<i>name</i></p>

<p style="margin-left:18%;">This option disables the use of
the card application named <i>name</i>. This is mainly
useful for debugging or if a application with lower priority
should be used by default.</p>

<p style="margin-left:9%;"><b>--application-priority</b>
<i>namelist</i></p>

<p style="margin-left:18%;">This option allows one to
change the order in which applications of a card a tried if
no specific application was requested. <i>namelist</i> is a
space or comma delimited list of application names. Unknown
names are simply skipped. Applications not mentioned in the
list are put in the former order at the end of the new
priority list.</p>

<p style="margin-left:18%; margin-top: 1em">To get the list
of current active applications, use</p>

<p style="margin-left:12%;">gpg-connect-agent &rsquo;scd
getinfo app_list&rsquo; /bye</p>

<p style="margin-left:9%; margin-top: 1em">All the long
options may also be given in the configuration file after
stripping off the two leading dashes.</p>

<h2>CARD APPLICATIONS
<a name="CARD APPLICATIONS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em"><b>scdaemon</b>
supports the card applications as described below.</p>

<h3>The OpenPGP card application &lsquo;&lsquo;openpgp&rsquo;&rsquo;
<a name="The OpenPGP card application &lsquo;&lsquo;openpgp&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This application
is currently only used by <b>gpg</b> but may in future also
be useful with <b>gpgsm</b>. Version 1 and version 2 of the
card is supported.</p>

<p style="margin-left:9%; margin-top: 1em">The
specification for this card is available at <br>
(<b>https://gnupg.org/ftp/specs/</b>) .</p>

<h3>The Telesec NetKey card &lsquo;&lsquo;nks&rsquo;&rsquo;
<a name="The Telesec NetKey card &lsquo;&lsquo;nks&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This is the main
application of the Telesec cards as available in Germany. It
is a superset of the German DINSIG card. The card is used by
<b>gpgsm</b>.</p>

<h3>The DINSIG card application &lsquo;&lsquo;dinsig&rsquo;&rsquo;
<a name="The DINSIG card application &lsquo;&lsquo;dinsig&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This is an
application as described in the German draft standard <i>DIN
V 66291-1</i>. It is intended to be used by cards supporting
the German signature law and its bylaws (SigG and SigV).</p>

<h3>The PKCS#15 card application &lsquo;&lsquo;p15&rsquo;&rsquo;
<a name="The PKCS#15 card application &lsquo;&lsquo;p15&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This is common
framework for smart card applications. It is used by
<b>gpgsm</b>.</p>

<h3>The Geldkarte card application &lsquo;&lsquo;geldkarte&rsquo;&rsquo;
<a name="The Geldkarte card application &lsquo;&lsquo;geldkarte&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This is a simple
application to display information of a German Geldkarte.
The Geldkarte is a small amount debit card application which
comes with almost all German banking cards.</p>

<h3>The SmartCard-HSM card application &lsquo;&lsquo;sc-hsm&rsquo;&rsquo;
<a name="The SmartCard-HSM card application &lsquo;&lsquo;sc-hsm&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This application
adds read-only support for keys and certificates stored on a
(<b>http://www.smartcard-hsm.com, SmartCard-HSM</b>).</p>

<p style="margin-left:9%; margin-top: 1em">To generate keys
and store certificates you may use
(<b>https://github.com/OpenSC/OpenSC/wiki/SmartCardHSM,
OpenSC</b>) or the tools from (<b>http://www.openscdp.org,
OpenSCDP</b>).</p>

<p style="margin-left:9%; margin-top: 1em">The
SmartCard-HSM cards requires a card reader that supports
Extended Length APDUs.</p>

<h3>The Undefined card application &lsquo;&lsquo;undefined&rsquo;&rsquo;
<a name="The Undefined card application &lsquo;&lsquo;undefined&rsquo;&rsquo;"></a>
</h3>



<p style="margin-left:4%; margin-top: 1em"><b>&nbsp;</b></p>

<p style="margin-left:9%; margin-top: 1em">This is a stub
application to allow the use of the APDU command even if no
supported application is found on the card. This application
is not used automatically but must be explicitly requested
using the SERIALNO command.</p>

<h2>EXAMPLES
<a name="EXAMPLES"></a>
</h2>


<p style="margin-left:12%; margin-top: 1em">$ scdaemon
--server -v</p>

<h2>FILES
<a name="FILES"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">There are a few
configuration files to control certain aspects of
<b>scdaemons</b>&rsquo;s operation. Unless noted, they are
expected in the current home directory (see: [option
--homedir]). <b><br>
scdaemon.conf</b></p>

<p style="margin-left:18%;">This is the standard
configuration file read by <b>scdaemon</b> on startup. It
may contain any valid long option; the leading two dashes
may not be entered and the option may not be abbreviated.
This default name may be changed on the command line (see:
[option --options]).</p>

<p style="margin-left:9%;"><b>scd-event</b></p>

<p style="margin-left:18%;">If this file is present and
executable, it will be called on every card reader&rsquo;s
status change. An example of this script is provided with
the source code distribution. This option is deprecated in
favor of the <b>DEVINFO --watch</b>.</p>


<p style="margin-left:9%;"><b>reader_</b><i>n</i><b>.status</b></p>

<p style="margin-left:18%;">This file is created by
<b>scdaemon</b> to let other applications now about reader
status changes. Its use is now deprecated in favor of
&lsquo;<i>scd-event</i>&rsquo;.</p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><b>gpg-agent</b>(1),
<b>gpgsm</b>(1), <b>gpg</b>(1)</p>

<p style="margin-left:9%; margin-top: 1em">The full
documentation for this tool is maintained as a Texinfo
manual. If GnuPG and the info program are properly installed
at your site, the command</p>

<p style="margin-left:12%; margin-top: 1em">info gnupg</p>

<p style="margin-left:9%; margin-top: 1em">should give you
access to the complete manual including a menu structure and
an index.</p>
<hr>
</body>
</html>
