<!-- Creator     : groff version 1.23.0 -->
<!-- CreationDate: Mon Apr  7 17:23:05 2025 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<style type="text/css">
       p       { margin-top: 0; margin-bottom: 0; vertical-align: top }
       pre     { margin-top: 0; margin-bottom: 0; vertical-align: top }
       table   { margin-top: 0; margin-bottom: 0; vertical-align: top }
       h1      { text-align: center }
</style>
<title>CMSUTIL</title>

</head>
<body>

<h1 align="center">CMSUTIL</h1>

<a href="#NAME">NAME</a><br>
<a href="#SYNOPSIS">SYNOPSIS</a><br>
<a href="#STATUS">STATUS</a><br>
<a href="#DESCRIPTION">DESCRIPTION</a><br>
<a href="#OPTIONS AND ARGUMENTS">OPTIONS AND ARGUMENTS</a><br>
<a href="#USAGE">USAGE</a><br>
<a href="#SEE ALSO">SEE ALSO</a><br>
<a href="#ADDITIONAL RESOURCES">ADDITIONAL RESOURCES</a><br>
<a href="#AUTHORS">AUTHORS</a><br>
<a href="#LICENSE">LICENSE</a><br>
<a href="#NOTES">NOTES</a><br>

<hr>


<h2>NAME
<a name="NAME"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">cmsutil -
Performs basic cryptograpic operations, such as encryption
and decryption, on Cryptographic Message Syntax (CMS)
messages.</p>

<h2>SYNOPSIS
<a name="SYNOPSIS"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="9%"></td>
<td width="40%">


<p style="margin-top: 1em"><b>cmsutil</b> [<i>options</i>]
[[<i>arguments</i>]]</p> </td>
<td width="51%">
</td></tr>
</table>

<h2>STATUS
<a name="STATUS"></a>
</h2>


<p style="margin-left:9%; margin-top: 1em">This
documentation is still work in progress. Please contribute
to the initial review in <b><font color="#0000FF">Mozilla
NSS bug 836477</font></b>
<small><font color="#000000">[1]</font></small></p>

<h2>DESCRIPTION
<a name="DESCRIPTION"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
<b>cmsutil</b> command-line uses the S/MIME Toolkit to
perform basic operations, such as encryption and decryption,
on Cryptographic Message Syntax (CMS) messages.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">To
run cmsutil, type the command cmsutil option [arguments]
where option and arguments are combinations of the options
and arguments listed in the following section. Each command
takes one option. Each option may take zero or more
arguments. To see a usage string, issue the command without
options.</font></p>

<h2>OPTIONS AND ARGUMENTS
<a name="OPTIONS AND ARGUMENTS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>Options</b></font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Options
specify an action. Option arguments modify an action. The
options and arguments for the cmsutil command are defined as
follows:</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-C</font></p>

<p style="margin-left:14%;"><font color="#000000">Encrypt a
message.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-D</font></p>

<p style="margin-left:14%;"><font color="#000000">Decode a
message.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-E</font></p>

<p style="margin-left:14%;"><font color="#000000">Envelope
a message.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-O</font></p>

<p style="margin-left:14%;"><font color="#000000">Create a
certificates-only message.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-S</font></p>

<p style="margin-left:14%;"><font color="#000000">Sign a
message.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000"><b>Arguments</b></font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Option
arguments modify an action.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-b</font></p>

<p style="margin-left:14%;"><font color="#000000">Decode a
batch of files named in infile.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-c
content</font></p>

<p style="margin-left:14%;"><font color="#000000">Use this
detached content (decode only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-d
dbdir</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify
the key/certificate database directory (default is
&quot;.&quot;)</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-e
envfile</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify a
file containing an enveloped message for a set of recipients
to which you would like to send an encrypted message. If
this is the first encrypted message for that set of
recipients, a new enveloped message will be created that you
can then use for future messages (encrypt only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-f
pwfile</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
password file to set password on all PKCS#11
tokens.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-G</font></p>

<p style="margin-left:14%;"><font color="#000000">Include a
signing time attribute (sign only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-H
hash</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
specified hash algorithm (default:SHA1).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-h
num</font></p>

<p style="margin-left:14%;"><font color="#000000">Generate
email headers with info about CMS message (decode
only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-i
infile</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
infile as a source of data (default is stdin).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-k</font></p>

<p style="margin-left:14%;"><font color="#000000">Keep
decoded encryption certs in permanent cert db.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-N
nickname</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify
nickname of certificate to sign with (sign only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-n</font></p>

<p style="margin-left:14%;"><font color="#000000">Suppress
output of contents (decode only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-o
outfile</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
outfile as a destination of data (default is
stdout).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-P</font></p>

<p style="margin-left:14%;"><font color="#000000">Include
an S/MIME capabilities attribute.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-p
password</font></p>

<p style="margin-left:14%;"><font color="#000000">Use
password as key database password.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-r
recipient1,recipient2, ...</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify
list of recipients (email addresses) for an encrypted or
enveloped message. For certificates-only message, list of
certificates to send.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-T</font></p>

<p style="margin-left:14%;"><font color="#000000">Suppress
content in CMS message (sign only).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-u
certusage</font></p>

<p style="margin-left:14%;"><font color="#000000">Set type
of cert usage (default is certUsageEmailSigner).</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-v</font></p>

<p style="margin-left:14%;"><font color="#000000">Print
debugging information.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">-Y
ekprefnick</font></p>

<p style="margin-left:14%;"><font color="#000000">Specify
an encryption key preference by nickname.</font></p>

<h2>USAGE
<a name="USAGE"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Encrypt
Example</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">cmsutil
-C [-i infile] [-o outfile] [-d dbdir] [-p password] -r
&quot;recipient1,recipient2, . . .&quot; -e
envfile</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Decode
Example</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">cmsutil
-D [-i infile] [-o outfile] [-d dbdir] [-p password] [-c
content] [-n] [-h num]</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Envelope
Example</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">cmsutil
-E [-i infile] [-o outfile] [-d dbdir] [-p password] -r
&quot;recipient1,recipient2, ...&quot;</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Certificate-only
Example</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">cmsutil
-O [-i infile] [-o outfile] [-d dbdir] [-p password] -r
&quot;cert1,cert2, . . .&quot;</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Sign
Message Example</font></p>


<p style="margin-left:14%; margin-top: 1em"><font color="#000000">cmsutil
-S [-i infile] [-o outfile] [-d dbdir] [-p password] -N
nickname[-TGP] [-Y ekprefnick]</font></p>

<h2>SEE ALSO
<a name="SEE ALSO"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">certutil(1)</font></p>

<h2>ADDITIONAL RESOURCES
<a name="ADDITIONAL RESOURCES"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">For
information about NSS and other tools related to NSS (like
JSS), check out the NSS project wiki at</font>
<b><font color="#0000FF">http://www.mozilla.org/projects/security/pki/nss/</font></b><font color="#000000">.
The NSS site relates directly to NSS code changes and
releases.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Mailing
lists:
https://lists.mozilla.org/listinfo/dev-tech-crypto</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">IRC:
Freenode at #dogtag-pki</font></p>

<h2>AUTHORS
<a name="AUTHORS"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">The
NSS tools were written and maintained by developers with
Netscape, Red Hat, Sun, Oracle, Mozilla, and
Google.</font></p>


<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Authors:
Elio Maldonado &lt;emaldona@redhat.com&gt;, Deon Lackey
&lt;dlackey@redhat.com&gt;.</font></p>

<h2>LICENSE
<a name="LICENSE"></a>
</h2>



<p style="margin-left:9%; margin-top: 1em"><font color="#000000">Licensed
under the Mozilla Public License, v. 2.0. If a copy of the
MPL was not distributed with this file, You can obtain one
at http://mozilla.org/MPL/2.0/.</font></p>

<h2>NOTES
<a name="NOTES"></a>
</h2>


<table width="100%" border="0" rules="none" frame="void"
       cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="10%"></td>
<td width="3%">



<p style="margin-top: 1em"><font color="#000000">1.</font></p> </td>
<td width="1%"></td>
<td width="28%">


<p style="margin-top: 1em"><font color="#000000">Mozilla
NSS bug 836477</font></p></td>
<td width="58%">
</td></tr>
</table>


<p style="margin-left:14%;"><font color="#000000">https://bugzilla.mozilla.org/show_bug.cgi?id=836477</font></p>
<hr>
</body>
</html>
